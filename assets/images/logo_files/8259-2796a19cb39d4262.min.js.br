"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="37548a37-e668-54ed-91d0-9d2fdb51c8af")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8259],{758259:(e,t,i)=>{i.d(t,{S_:()=>C,cw:()=>w,g_:()=>R,gk:()=>x});var a=i(776250),r=i(737947),o=i(966712),n=i(988261),l=i(650322),s=i(27087),_=i(881388),m=i(939863),d=i(980820),c=i(738269),p=i(662275),u=i(988022),g=i(964258),f=i(243987),E=i(888870),h=i(239671),y=i(622139),T=i(637590),v=i(50292),b=i(507877),S=i(995852),I=i(902957),A=i(114961);let R=(0,d.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(c.$T({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),C=(0,d.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:o,onError:n}=t;s.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{o(),e.dispatch(_.s.flash((0,m.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{n(),e.dispatch(_.s.error((0,m.t)("flash.redeem_promo.failure")))})}),w=(0,d.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id,l=(0,o.kc)().ps_benchmark;s.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{l&&n?e.dispatch(b._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(c.$T({view:"team",teamId:i})),e.dispatch(_.s.flash((0,m.t)("payments.pro_trial.start_pro_trial_success"))),E.R_.trackInitiationSubmit(a,!0)}).catch(t=>{l&&n?e.dispatch(b._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(c.$T({view:"recentFiles"})),e.dispatch(_.s.error((0,m.t)("payments.pro_trial.start_pro_trial_error"))),E.R_.trackInitiationSubmit(a,!1)})}),x=(0,d.nF)((e,{teamName:t,invites:i,teamId:d,selectedCurrency:E,hasSelectedStudentTeam:R,teamFlowType:C,onSuccess:w,promotionCodeId:x})=>{let P;let N=e.getState(),O=(0,o.kc)().ps_benchmark,k=(0,o.kc)().pro_onboarding_launch,D=N.user?.id,F=(e,t)=>({annual_quantity:(0,f.fD)(e,t),monthly_quantity:(0,f.Rq)(e,t)}),L={...F(N.payment.billingPeriod,N.payment.numDesignEditors),annual_whiteboard_quantity:F(N.payment.billingPeriod,N.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:F(N.payment.billingPeriod,N.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:N.payment.editorStatusChanges,subscription_monthly_quantity_figjam:F(N.payment.billingPeriod,N.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:F(N.payment.billingPeriod,N.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:N.payment.vatGstId||null,regional_vat_gst_id:N.payment.regionalVatGstId||null,legal_name:N.payment.legalName||null,display_name:N.payment.displayName||null};if(null===d){let e=N.payment.promo,a=!!N.user&&(0,l.cn)(N.user);if(null!=e)P={...L,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&R)P={...L,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,o.DC)();P={...L,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:E,promotion_code_id:x}}}else P={...L,selected_currency:E,promotion_code_id:x};let W=d?`/api/subscriptions-2018-11-08/team/${d}`:"/api/teams/create",U=N.selectedView,z=N.payment.upgradingNewTeam;s.Ay.post(W,P).then(({data:t})=>{let o="team"in t.meta?t.meta.team:t.meta,l=()=>{if(O&&D){let t={userId:D,teamId:o.id,orgId:null};e.dispatch(b._l({workspace:t,view:{view:"allProjects",isProUpgrade:k||void 0}}))}else e.dispatch(c.$T({view:"team",teamId:o.id})),k?e.dispatch(p.to({type:v.C,data:{teamId:o.id}})):e.dispatch(_.s.flash((0,m.t)("flash.successfully_upgraded_to_a_professional_team")))};d||(0,g.P8)(o,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:C}),e.dispatch(S.I2({submitPending:!1})),e.dispatch(S.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[]}}})),o&&e.dispatch(I.yJ({team:o,userInitiated:!1})),o.student_team&&e.dispatch(S.Lo({billingPeriod:y.tY.UNSPECIFIED})),N.payment.promo&&((0,n._H)(),e.dispatch(S.Ay({promo:null})));let s=new URLSearchParams(r.Ay.location.search);if(z){if(s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),a={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(c.$T({...a,teamToMoveFileToOnNavigate:o.id,editorType:h.nT.Design}))}else l()}else if(e.dispatch(A.Be({teamId:o.id})),s.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(s.get("onCompleteRedirectFileKey")),i=decodeURIComponent(s.get("onCompleteRedirectNodeId")),a={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(c.$T({...a,teamToMoveFileToOnNavigate:o.id,editorType:h.nT.Design}))}else l();(0,a.sx)("Pro Team Purchased (GTM)"),w&&w()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(r.Ay.location.search),o=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");e.dispatch(c.$T({...U,view:"teamUpgrade",teamFlowType:t?T.SC.UPGRADE_EXISTING_TEAM:T.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:y.tn.PAYMENT_AND_ADDRESS,previousView:U.previousView,planType:T.Sc.TEAM,...o?{searchParams:{onCompleteRedirectFileKey:o,onCompleteRedirectNodeId:n}}:{}}))};e.dispatch(S.I2({submitPending:!1}));let o=t.data?.message||t.message;null!==d?(0,u._J)("Pro Checkout Error",d,N,{error_message:o}):(0,a.sx)("Pro Checkout Error"),((t,a)=>{let r=(0,m.Jv)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(S.Ay({promo:null})),i(a,{}),e.dispatch(S.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(S.WG({token:null})),i(a,{}),e.dispatch(S.Qg({error:r}))):"PROMOTION_CODE_ID_ERROR"===t.data.reason?e.dispatch(S.Qg({error:r,errorCode:"PROMOTION_CODE_ID_ERROR"})):e.dispatch(_.s.error(r)))})(t,d)})})},888870:(e,t,i)=>{i.d(t,{$Q:()=>I,Mm:()=>y,NN:()=>h,PG:()=>C,R_:()=>a,TB:()=>A,bo:()=>R,h3:()=>S,iX:()=>T});var a,r=i(411855),o=i(776250),n=i(163023),l=i(939863),s=i(809840),_=i(746869),m=i(965821),d=i(485247),c=i(569673),p=i(301834),u=i(383234),g=i(637427),f=i(236446),E=i(176694);let h="Pro Trial Initiation Modal",y="Pro Trial Downgrade Modal";var T=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(T||{}),v=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(v||{}),b=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(b||{});let S=Object.keys(T).length/2,I={freelancer:"https://static.figma.com/uploads/06cfa92c773695fb0be0202d467640e521950e67",agency:"https://static.figma.com/uploads/e98abc8479042db5e94f5c35bf764ad4326f892f",product:"https://static.figma.com/uploads/915ace9058a397e6e4ceadc221dd20a9d95898d7",other:"https://static.figma.com/uploads/4423aaa8499d483db2703e6cad1b4c90805e7f16"},A=[{teamType:"freelancer",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer"))},{teamType:"agency",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.agency"))},{teamType:"product",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.product"))},{teamType:"other",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"))}],R={unlimited_files:r.createElement(n.B,{svg:m.A}),component_libraries:r.createElement(n.B,{svg:g.A}),organizing_files:r.createElement(n.B,{svg:d.A}),voting_workshops:r.createElement(n.B,{svg:E.A}),playing_videos:r.createElement(n.B,{svg:f.A}),sharing_files:r.createElement(n.B,{svg:u.A}),inviting_visitors:r.createElement(n.B,{svg:c.A}),audio:r.createElement(n.B,{svg:p.A})},C=[{featureType:"unlimited_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files"))},{featureType:"component_libraries",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries"))},{featureType:"organizing_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files"))},{featureType:"voting_workshops",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping"))},{featureType:"playing_videos",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos"))},{featureType:"sharing_files",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files"))},{featureType:"inviting_visitors",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors"))},{featureType:"audio",featureText:r.createElement(s.E,{fontSize:14,fontWeight:"medium"},(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio"))}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,o.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,..._.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},421276:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(411855),r=i(163023),o=i(470504),n=i(809840);if(443==i.j)var l=i(377869);function s(e){return a.createElement("p",{className:o.cx.flex.itemsCenter.gap8.mt8.$},a.createElement(r.B,{svg:l.A,className:o.cx.colorIconDesign.$}),a.createElement(n.E,{fontSize:13},e.bulletLabel))}},573821:(e,t,i)=>{i.d(t,{L0:()=>_,UA:()=>s,_:()=>m,fS:()=>d});var a=i(411855),r=i(470504),o=i(939863),n=i(809840),l=i(421276);let s="seen_pro_onboarding_welcome_modal";function _(){return a.createElement("div",{className:r.cx.mt16.$},a.createElement(l.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),a.createElement(l.X,{bulletLabel:(0,o.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),a.createElement(l.X,{bulletLabel:(0,o.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")}))}function m({user:e}){return a.createElement(n.E,{fontSize:24,fontWeight:"bold"},(0,o.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]}))}function d(){return a.createElement("img",{width:313,src:"https://static.figma.com/uploads/4323e87513cec17f5decef84ebf66c12c0d2ea59",alt:"An illustration welcoming you to Figma Professional"})}},50292:(e,t,i)=>{i.d(t,{C:()=>g});var a=i(411855),r=i(188507),o=i(939863),n=i(809840),l=i(662275),s=i(760824),_=i(101505),m=i(860178),d=i(212957),c=i(237870),p=i(700886),u=i(573821);let g=(0,c.Ju)(function({teamId:e}){let t=(0,m.iZ)(),i=(0,r.d4)(t=>t.teams[e]),c=(0,r.wA)(),g=(0,r.d4)(e=>e.userTeamFlags);if(!t||g[e]?.[u.UA])return null;let f=()=>{c(s.bE({all_team_flags:[{team_id:e,flags:{[u.UA]:!0}}]})),c(l.Ce())},E=a.createElement(a.Fragment,null,(0,o.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:a.createElement(n.E,{fontWeight:"bold"},i.name)}),a.createElement(u.L0,null));return a.createElement(p.xx,{title:a.createElement(u._,{user:t}),description:E,media:a.createElement(u.fS,null),primaryCta:{type:"button",label:a.createElement(n.E,{fontSize:13},(0,o.tx)("pro_onboarding.get_started")),ctaTrackingDescriptor:_.c.GET_STARTED,onClick:f},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:d.S.getTrackingProperties(e),onClose:f,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=37548a37-e668-54ed-91d0-9d2fdb51c8af

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/e96a33a527906f775af306c941e8a572c7227d69/8259-2796a19cb39d4262.min.js.map