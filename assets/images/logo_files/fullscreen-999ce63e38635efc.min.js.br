"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="60ab9917-fcb3-50d0-b23a-a96810695a89")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8840],{848187:(e,t,n)=>{n.d(t,{AR:()=>q,A_:()=>z,DN:()=>E,E3:()=>M,FK:()=>w,Gv:()=>c,Hd:()=>i,JX:()=>W,Kl:()=>r,Mf:()=>p,Ng:()=>d,ON:()=>v,PP:()=>g,Pt:()=>k,QF:()=>V,Qu:()=>G,S:()=>X,Ub:()=>_,Uj:()=>S,VA:()=>j,VN:()=>H,Wz:()=>C,Ye:()=>s,ZE:()=>R,bV:()=>I,bq:()=>D,cB:()=>K,d3:()=>P,dJ:()=>o,gC:()=>l,gD:()=>L,gP:()=>N,jT:()=>a,k8:()=>y,kb:()=>U,lX:()=>b,mH:()=>h,nN:()=>m,nZ:()=>B,oB:()=>u,q_:()=>A,rq:()=>x,sH:()=>T,x0:()=>F,xR:()=>f,yl:()=>O,zN:()=>Y});let a="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",p="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",f="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",g="fd_browse_resource_modal--searchBarContainer--Q2kZ7",h="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",_="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",E="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",v="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",w="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",N="fd_browse_resource_modal--searchBarFilterButton--hQeym",x="fd_browse_resource_modal--headerIconButtonSel--nV-KN",k="fd_browse_resource_modal--filterButtonActive--8krHg",I="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",T="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",C="fd_browse_resource_modal--horizontalDivider--H67hA",S="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",A="fd_browse_resource_modal--mainViewHeader--AZpur",P="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",L="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",O="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",D="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",M="fd_browse_resource_modal--mainViewSelector--chQy5",R="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",F="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",B="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",K="fd_browse_resource_modal--expandedViewHeader--uLZl5",U="fd_browse_resource_modal--left--si6Cj",z="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",H="fd_browse_resource_modal--close--G1pa0",V="fd_browse_resource_modal--expandedViewContainer--EvsBd",G="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",W="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",Y="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",X="fd_browse_resource_modal--loadingSpinner--0IwJ9",j="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",q="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},952359:(e,t,n)=>{let a=n(560996);e.exports=a},560996:(e,t,n)=>{var a=n(979232),l=n(411855);t.AutoFocusPlugin=function({defaultSelection:e}){let[t]=a.useLexicalComposerContext();return l.useEffect(()=>{t.focus(()=>{let e=document.activeElement,n=t.getRootElement();null===n||null!==e&&n.contains(e)||n.focus({preventScroll:!0})},{defaultSelection:e})},[e,t]),null}},125734:(e,t,n)=>{let a=n(577551);e.exports=a},577551:(e,t,n)=>{var a=n(834617),l=n(979232),r=n(257176),i=n(133737),o=n(411855);t.LinkPlugin=function({validateUrl:e}){let[t]=l.useLexicalComposerContext();return o.useEffect(()=>{if(!t.hasNodes([a.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return r.mergeRegister(t.registerCommand(a.TOGGLE_LINK_COMMAND,t=>{if(null===t)return a.toggleLink(t),!0;if("string"==typeof t)return!!(void 0===e||e(t))&&(a.toggleLink(t),!0);let{url:n,target:l,rel:r,title:i}=t;return a.toggleLink(n,{rel:r,target:l,title:i}),!0},i.COMMAND_PRIORITY_LOW),void 0!==e?t.registerCommand(i.PASTE_COMMAND,n=>{let l=i.$getSelection();if(!i.$isRangeSelection(l)||l.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;let r=n.clipboardData.getData("text");return!!e(r)&&!l.getNodes().some(e=>i.$isElementNode(e))&&(t.dispatchCommand(a.TOGGLE_LINK_COMMAND,r),n.preventDefault(),!0)},i.COMMAND_PRIORITY_LOW):()=>{})},[t,e]),null}},708071:(e,t,n)=>{n.d(t,{H:()=>a});let a=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},359170:(e,t,n)=>{n.d(t,{u4:()=>d,$$:()=>u});var a=n(411855),l=n(629019),r=n.n(l);let i="lazy_input--lazyInput--uH0Ln";class o extends a.PureComponent{constructor(e){super(e),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)},this.onChange=e=>{this.procrastinate(),this.setState({value:e.target.value}),this.props.onChange(e)},this.state={value:this.props.value}}componentDidMount(){this.props.autoFocus&&this.props.innerRef?.current&&this.props.innerRef.current.focus()}UNSAFE_componentWillReceiveProps(e){this.updateIfNotLazy(e.value)}componentWillUnmount(){this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(e){this.procrastinating?this.setState({requestedValue:e}):this.state.value!==e&&this.setState({value:e,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let e={...this.props};return delete e.delay,delete e.innerRef,e.value=this.state.value,e.onChange&&(e.onChange=this.onChange),null==e.value&&(e.value=void 0),e.className?e.className=`${e.className} ${i}`:e.className=i,e}render(){return a.createElement("input",{...this.getProps(),ref:this.props.innerRef,dir:"auto"})}}o.displayName="LazyInput",o.defaultProps={type:"text",delay:1e3};let s=a.forwardRef((e,t)=>a.createElement(o,{...e,innerRef:t}));var c=n(150823);class d extends a.Component{constructor(){super(...arguments),this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e),27===e.keyCode&&e.target.blur()},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)}}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.dataTestId,this.props.onClick&&(e.onClick=this.onClick),a.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}d.displayName="ButtonBase";class u extends a.Component{render(){let{fullWidth:e,...t}=this.props;return a.createElement(d,{defaultClass:r()(c.xZ,e&&c.Ij),...t})}}u.displayName="ButtonPrimary";class m extends a.Component{render(){let e=this.props;return a.createElement(d,{defaultClass:c.HM,type:"button",...e})}}m.displayName="ButtonSecondary",a.forwardRef(function({className:e,...t},n){return a.createElement(s,{className:r()(c._Z,e),...t,ref:n})});class p extends a.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{9===e.keyCode&&this.setState({showFocus:!0})},this.documentMouseDown=()=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${c.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${c.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let e=this.props.classOverride||this.classNameForInput(),t={...this.props,className:e};return delete t.classOverride,a.createElement("input",{type:"checkbox",onFocus:this.onFocus,...t})}}p.displayName="Checkbox"},159938:(e,t,n)=>{n.d(t,{w:()=>uQ,O:()=>uZ});var a=n(411855),l=n(188507),r=n(587670),i=n(374626),o=n(256975),s=n(666930),c=n(786013),d=n(320063),u=n(915440),m=n(860601),p=n(939863),f=n(582947);let g="dev_handoff_seen_config_wizard",h=(0,f.Fu)(g);var _=n(891869),E=n(21584),y=n(456104),v=n(570809),b=n(335682),w=n(279453),N=n(397065),x=n(218997),k=n(15839),I=n(463546),T=n(862350),C=n(951792),S=n(678738),A=n(504440),P=n(75395),L=n(243742),O=n(629019),D=n.n(O),M=n(96328),R=n(470504),F=n(278733),B=n(672517),K=n(168039),U=n(620722);let z="blocking_modal--secondaryButton--cteqp",H="blocking_modal--title--3q8JO text--fontPos20--Bcz97 text--_fontBase--QdLsd",V="blocking_modal--textContent--MSbvo text--fontPos13--xW8hS text--_fontBase--QdLsd",G="blocking_modal--buttonLabel--92cjn",W="blocking_modal--upsellListItem--d8NVb text--fontPos13--xW8hS text--_fontBase--QdLsd";function Y({imgSrc:e,imgWidth:t=328,imgHeight:n=150,hideImgBorder:l=!1,content:r,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:m}){let p="light"===(0,K.DP)(),f=(0,_.W)(),g={type:i,text:c,...f},h={type:i,text:m,...f},E="ui3"===(0,L.DP)().version;return a.createElement("div",{className:R.cx.py24.px16.cursorDefault.selectNone.flex.flexColumn.gap24.$,"data-testid":"dev-mode-paywall-modal"},a.createElement("div",{className:R.cx.bRadius4.overflowHidden.if(p&&!l,R.cx.b1.colorBorder).$,style:F.sx.add({height:`${n}px`}).$},a.createElement(U.J,{src:e,alt:"",width:t})),a.createElement("div",{className:R.cx.flex.flexColumn.gap6.$},r),a.createElement("div",{className:D()(R.cx.flex.flexColumn.gap8.$,"blocking_modal--buttonContainer--HB2rf")},o&&s&&c&&a.createElement(Q,{label:o,onClick:s,trackingProperties:g}),d&&u&&m&&a.createElement(J,{label:d,onClick:u,trackingProperties:h,isUI3:E})))}function X({imgSrc:e,imgWidth:t,imgHeight:n,hideImgBorder:l,content:r,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:p}){let f=(0,_.W)(),g=T.hS({open:!0,onClose:m.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"});return a.createElement(B.fu,{name:(0,M.Zr)(i),properties:f,enabled:f?.gracePeriod!==void 0},a.createElement(C.bL,{width:392,manager:g},a.createElement(S.vo,null,a.createElement(S.nB,null,a.createElement(Y,{imgSrc:e,imgWidth:t,imgHeight:n,hideImgBorder:l,content:r,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:p})))))}let j=(0,B.tf)(A.Pw),q=(0,B.tf)(P.E);function Q({label:e,onClick:t,trackingProperties:n={}}){return a.createElement("span",{className:R.cx.cursorPointer.$},a.createElement(j,{variant:"primary",onClick:t,trackingProperties:n,htmlAttributes:{"data-testid":"primary-button"}},a.createElement("span",{className:G,"data-testid":"primary-button-label"},e)))}function J({label:e,isUI3:t,onClick:n,trackingProperties:l={}}){return t?a.createElement("div",{className:z},a.createElement(j,{variant:"secondary",onClick:n,trackingProperties:l,htmlAttributes:{"data-testid":"secondary-button"}},a.createElement("span",{className:G,"data-testid":"secondary-button-label"},e))):a.createElement(q,{className:D()(R.cx.flex.justifyCenter.alignCenter.py8.px32.h40.maxWFull.cursorPointer.$,z),onClick:n,htmlAttributes:{"data-testid":"secondary-button"},trackingProperties:l},a.createElement("div",{className:G,"data-testid":"secondary-button-label"},e))}var Z=n(931828),$=n(760824);let ee="dev_mode_has_seen_trial_success_modal",et=(0,f.Fu)(ee);function en(){let e=(0,E.J)(),t=(0,l.d4)(e=>e.userTeamFlags),n=(0,i.md)(et),r=(0,b.q5)(),o=r?.teamId,s=r?.parentOrgId,c=(0,l.wA)(),d=o&&!s?t?.[o]?.[ee]:n?.data,u=(0,a.useCallback)(t=>{e&&!!d!==t&&(o&&!s?c($.bE({all_team_flags:[{team_id:o,flags:{[ee]:t}}]})):c(Z.b({[ee]:t})))},[c,d,e,s,o]);return[d,u]}function ea(){let e=(0,i.md)(h),[t,n]=en(),l=(0,b.tS)()??"",r=(0,u.Rs)(w.oBY,{key:l}),o=(0,_.W)(),s=(0,E.J)(),{isShowing:f,show:g,complete:T}=(0,y.e)({overlay:I.VjY,priority:N.N.HIGH_PRIORITY_MODAL},[e,r]);return(0,d.h)(()=>{!t&&s&&g({canShow:(e,t)=>!!e&&!!t?.file?.hasPermission})}),(0,a.useEffect)(()=>{f&&n(!0)},[f,n]),a.createElement(x.h,{modalType:k.q3.WELCOME,isShowing:f,onClickPrimaryCta:m.lQ,onClose:T,onManualDismiss:T,trackingContextName:"Dev Mode Trial Start Modal",trackingProperties:o,trackingEnabled:o?.gracePeriod!==void 0,element:function({dismissModal:e}){let t=(0,v.M)();return a.createElement("div",{className:"blocking_modal--modalPadding--X7-G9",style:{width:328}},a.createElement(Y,{imgSrc:"https://static.figma.com/uploads/5e9bfbdf1ce7c02544ebc1a89e0245c520a8c796",content:a.createElement(a.Fragment,null,a.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.success_modal.grace_period.title")),a.createElement("div",{className:V},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:t?.totalGraceDays??c.W7o}))),modalType:"trial start modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.success_modal.grace_period.button"),primaryButtonOnClick:e,primaryButtonType:"get started"}))}})}var el=n(776250),er=n(344780),ei=n(794272),eo=n(157147),es=n(785315),ec=n(239349);function ed({doReport:e}){let t=(0,i.md)(es.H),{commentsActive:n,isNodeSelected:l}=(0,ei.R)(e=>({commentsActive:e.mirror.appModel.currentTool===eo.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0})),r=(0,ec.VW)();(0,d.h)(()=>{let t=er.sn.tryStop("switch_to_inspect_mode.right_panel_tti");e&&t&&(0,el.sx)("switch_to_inspect_mode.right_panel_tti",{elapsedMs:t,isNodeSelected:l},{forwardToDatadog:!0}),er.sn.tryStop("dev_handoff.select_node_tti")}),a.useEffect(()=>{r&&!n&&requestAnimationFrame(()=>{let n=er.sn.tryStop("dev_handoff.select_node_tti");e&&n&&(0,el.sx)("dev_handoff.select_node_tti",{elapsedMs:n,isTopLevelFrame:r.isTopLevelFrame(),activeTab:t},{forwardToDatadog:!0})})},[r,t,n,e])}var eu=n(939683),em=(n(134288),n(752553),n(62342),n(175290)),ep=n(553015),ef=n(809840),eg=n(911826),eh=n(321961),e_=n(737947),eE=n(966712),ey=n(761870),ev=n(195847),eb=n(392592),ew=n(229033),eN=n(964881),ex=n(738269),ek=n(662275),eI=n(995852),eT=n(750293),eC=n(229403),eS=n(349410),eA=n(6949),eP=n(720647),eL=n(99506),eO=n(243987),eD=n(556261),eM=n(344339),eR=n(984968),eF=n(206193),eB=n(239671),eK=n(793670),eU=n(364871),ez=n(699857),eH=n(731210),eV=n(114959),eG=n(264771);function eW({dismissModal:e}={}){let t=(0,eS.ru)(),n=(0,b.q5)(),r=(0,eR.ol)(),s=(0,u.Rs)(w.kQI,{id:r?.id||""},{enabled:!!r?.id}),d=function(e){let t=(0,o._I)(),n=(0,b.q5)(),r=(0,eD.wy)({component:"useUpgradeForDevMode",attribute:"isPlanUserInProTeamForFile",legacy:e=>e?.team_id===n?.teamId,migrated:e=>e?.key.type===eM.h4.TEAM_USER&&e?.planKey.parentId===n?.teamId}),s=(0,eD.wy)({component:"useUpgradeForDevMode",attribute:"isPlanUserInOrgForFile",legacy:(e,t)=>t?.org_id===n?.parentOrgId,migrated:e=>e?.key.type===eM.h4.ORG_USER&&e?.planKey.parentId===n?.parentOrgId}),c=(0,eA.a9)(),d=(0,eR.ol)(),m=(0,eO.w5)(d)&&!d?.org_id,p=(0,eh.q)(),f=(0,eu.U)(),g=(0,l.wA)(),h=(0,E.J)(),[_,y]=(0,i.fp)(eG.t),v=u.Rs(w.HdA,{key:n?.key??""},{enabled:!!n?.key})?.data?.file?.hasPermission,N=a.useCallback(()=>{h&&y(eG.c.UPGRADING)},[h,y]);return(0,a.useCallback)((a=eT.i$.DevMode)=>{if(n&&!t)try{if(p&&!(0,eE.kc)().dev_mode_starter_trial_disable_entry&&e()&&v)g(eC.Nu({adminIds:[],message:"",teamId:d?.id??"",seatType:{licenseType:eL.G_.DEV_MODE},fileKey:n?.key,entryPoint:a??"",hideSuccessMessage:!0}));else if(n.parentOrgId)N(),s?g(ek.to({type:eH.Y,data:{orgId:n.parentOrgId,orgUser:c,entryPoint:a,licenseType:eP.Te.DEV_MODE,fileKey:n.key},showModalsBeneath:!0})):(g(ey.Ts({origin:"dev_mode",formState:ev.qB.JOIN_ORG,redirectUrl:e_.Ay.location.pathname})),g(ek.to({type:eK.x,data:{}})));else if(m)r?(N(),g(ek.to({type:eV.PK,data:{editorType:eL._Y.DESIGN,team:{id:n.teamId},entryPoint:a,fileKey:n.key},showModalsBeneath:!0}))):g(eb.F.enqueue({message:"No team user"}));else{f("Dev Mode Paywall clicked",{type:"Starter Tier Upgrade",entryPoint:a},{forwardToDatadog:!0});let e=d?.id;a!==eT.i$.DowngradeEmail&&e?g(eI.WX({teamId:e,openInNewTab:!0})):(N(),g(ek.to({type:ew.V,data:{teamId:e??void 0,upsellSource:eF.b.DEV_MODE_UPSELL,openCheckoutInNewTab:!0,onDone:()=>y(eG.c.DEFAULT)}})))}}catch(e){h&&y(eG.c.DEFAULT),g(eb.F.enqueue({message:e.message||e.data.message}))}},[n,t,p,e,v,m,g,d?.id,N,s,c,r,f,y,h])}(()=>t(n,!!s.data?.team?.hasPermission)),m=(0,ez.U)("blocking_modal"),f=ej(),g=(0,eh.n)(),h=((0,eN.hA)(),(0,eh.q)()),_=(0,b.tS)()??"",y=u.Rs(w.HdA,{key:_})?.data?.file?.hasPermission,v=(0,l.d4)(e=>(0,eO.oc)(eR.H7(e)?.id??"",e)),N=(0,E.J)(),x=a.useCallback(t=>{e?.(),d(t)},[e,d]),k=a.useCallback(()=>{m("design")},[m]);return N?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.request_access"),hidden:!1,disabled:f,onClick:x}:g?{label:v?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.learn_more"),hidden:!1,disabled:!1,onClick:v?k:eX}:h&&!(0,eE.kc)().dev_mode_starter_trial_disable_entry&&t(n,!!s.data?.team?.hasPermission)&&y?{label:(0,p.tx)("dev_handoff.paywall.start_dev_mode_starter_trial",{numDays:c.N4S}),disabled:!1,hidden:!1,onClick:x}:{label:v?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.locked.reactivate"):(0,p.tx)("payments_modal.upgrade_to_professional"),hidden:!1,disabled:!1,onClick:x}}function eY(){let e=!!(0,eN.hA)(),t=(0,eh.n)(),n=(0,i.md)(eU.R),r=(0,ez.U)("blocking_modal"),o=(0,l.wA)(),s=(0,ei.R)(e=>({...e.selectedView,editorType:eB.nT.Design,showOverview:!0,focusViewBackNavigation:void 0,devModeFocusId:void 0})),c=a.useCallback(()=>{r("design")},[r]),d=a.useCallback(()=>{o(ex.$T(s))},[s,o]);return e?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_summary"),onClick:d}:{label:n&&!t?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.not_now"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:c}}function eX(){e_.Ay.unsafeRedirect("https://help.figma.com/hc/en-us/articles/15023124644247-Guide-to-Dev-Mode","_blank")}function ej(){let e=(0,l.d4)(e=>e.openFile?.currentPartialOrgUser?.designAccountTypeRequest),t=(0,l.d4)(e=>e.openFile?.currentPartialOrgUser?.devModeAccountTypeRequest),n=(0,l.d4)(e=>e.openFile?.currentTeamUser?.designAccountTypeRequest);return e?.status==="pending"||t?.status==="pending"||n?.status==="pending"}n(710667),n(978779),n(820113);var eq=n(237870);function eQ(){return{panelTabs:[{text:(0,p.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.tab_title"),id:"advanced_inspection"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.quick_handoff.tab_title"),id:"quick_handoff"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.track_changes.tab_title"),id:"track_changes"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.tab_title"),id:"plugins_extensions"}],contents:{advanced_inspection:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.advanced_inspection.details"),imgSrc:"https://static.figma.com/uploads/39aa1e9a18601b9c7b904f84b8c8dd6d441f1e08",closeButtonTheme:"light"},quick_handoff:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.quick_handoff.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.quick_handoff.details"),imgSrc:"https://static.figma.com/uploads/ba04aa94fd2bbd4f86b96e8e024c0d70a7318c5b",closeButtonTheme:"dark"},track_changes:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.track_changes.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.track_changes.details"),imgSrc:"https://static.figma.com/uploads/234cba06210af50cc549b9e85edb9f6b3e78c5c8",closeButtonTheme:"dark"},plugins_extensions:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.plugins_extensions.details"),imgSrc:"https://static.figma.com/uploads/335b2bfa4f4f9ff3ea062ef679353fca0d2422a3",closeButtonTheme:"dark"}},panelTitle:(0,p.t)("dev_handoff.paywall.upsell_modal.title")}}let eJ=(0,B.tf)(P.E),eZ=(0,eq.Ju)(function({initialFeatureTab:e}){(0,eR.ol)(),(0,eg.O)(),(0,eh.q)(),(0,eh.n)();let t=(0,a.useMemo)(eQ,[]),[n,r]=(0,a.useState)(e??t.panelTabs[0].id),i=(0,eu.U)(),o=(0,l.wA)(),s=(0,l.d4)(e=>e.modalShown),c=(0,a.useCallback)(()=>{o(ek.Ce())},[o]);(0,a.useEffect)(()=>{s?.type===eZ.type&&c()},[c,s?.type]);let d=eW({dismissModal:c}),u=((0,a.useCallback)(()=>{d.hidden||d.onClick(function(e){switch(e){case"advanced_inspection":return eT.i$.Inspection;case"track_changes":return eT.i$.TrackChanges;case"quick_handoff":return eT.i$.QuickHandoff;case"plugins_extensions":return eT.i$.Plugin;default:return eT.i$.SuperModal}}(n))},[n,d]),a.useCallback(t=>{i("Dev Mode Paywall clicked",{type:"Features Modal Tab Changed",entryPoint:e,currentTab:n},{forwardToDatadog:!0}),r(t)},[e,n,i]));return t.panelTabs.map(e=>a.createElement(eJ,{className:D()("supermodal--panelTab--jfGLR",n===e.id&&"supermodal--panelTabActive--qyylR"),key:e.id,onClick:()=>{u(e.id)},htmlAttributes:{onKeyDown:t=>{(" "===t.key||"Enter"===t.key)&&u(e.id)}},trackingProperties:{tab:e.id,prevTab:n},recordingKey:"dev_mode_features_upsell_modal_tab_"+e.id},a.createElement(ef.E,{fontSize:13},e.text))),t.contents[n],T.hS({open:!0,onClose:m.lQ,preventUserClose:!0}),null},"DevModeSupermodal");var e$=n(617453),e0=n(779709),e1=n(611978),e2=n(147829),e3=n(707458),e5=n(138020),e4=n(568214),e7=n(493323);function e8(){let e=(0,ez.U)("blocking_modal"),t=(0,b.tS)()??"",n=(0,u.Rs)(w.D2i,{key:t}),l=(0,u.Rs)(w.oBY,{key:t}),r=n.data?.file.status!=="error"&&n.data?.file.data?.hasPermission&&l.data?.file?.hasPermission===!1,i=a.createElement(a.Fragment,null,a.createElement("div",{className:H},r?(0,p.tx)("dev_handoff.paywall.pending_modal.grace_period_end.title"):(0,p.tx)("dev_handoff.paywall.pending_modal.no_grace_period.title")),a.createElement("div",{className:V},r?(0,p.tx)("dev_handoff.paywall.pending_modal.grace_period.description"):(0,p.tx)("dev_handoff.paywall.pending_modal.no_grace_period.description"))),o=(0,a.useCallback)(()=>{e("design")},[e]);return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",content:i,modalType:"request pending modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:o,primaryButtonType:"back to design"})}function e6(){let e=(0,ez.U)("blocking_modal"),t=(0,a.useCallback)(()=>{e("design")},[e]);return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/9a55aebf20fd5e927f609cc0e256f6e782b20d78",content:a.createElement(a.Fragment,null,a.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.success_modal.no_grace_period.title")),a.createElement("div",{className:V},(0,p.tx)("dev_handoff.paywall.success_modal.no_grace_period.description"))),modalType:"request sent modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:t,primaryButtonType:"back to design"})}var e9=n(825531),te=n(832371);function tt(){let e=eW(),t=eY(),n=(0,eh.q)(),l=(0,eh.n)(),r=(0,i.md)(eU.R),o=b.q5()?.team?.name||"",s=a.createElement(a.Fragment,null,a.createElement("div",{className:H},n&&l?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.starter_viewer"):r?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.direct_link"):n?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.starter"):(0,p.tx)("dev_handoff.paywall.blocking_modal.title")),l?a.createElement(a.Fragment,null,a.createElement("div",{className:"blocking_modal--upsellText--g-Mx-"},(0,p.tx)("inspect_panel.properties.dev_mode_upsell_message")),a.createElement("div",{className:"blocking_modal--adminText--0BndN"},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.ask_admin",{teamName:a.createElement("span",{className:"blocking_modal--teamName--wZ8Ft"},o)}))):a.createElement("ul",null,a.createElement("li",{className:W},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.code")),a.createElement("li",{className:W},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.inspection")),a.createElement("li",{className:W},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.plugins")))),c=a.useCallback(()=>{e.hidden||e.onClick(eT.i$.BlockingModal)},[e]),d=e.hidden?void 0:e.label;return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/6d5e9cb0e9ec7fd5dd58425c5527dc8a78143a19",content:s,modalType:"blocking modal",primaryButtonLabel:d,primaryButtonOnClick:c,primaryButtonType:"upgrade",secondaryButtonLabel:t.label,secondaryButtonOnClick:t.onClick,secondaryButtonType:"back to design"})}var tn=n(756704);function ta({upgradeRequestId:e}){let t=(0,ez.U)("blocking_modal"),n=(0,l.wA)(),r=a.createElement(a.Fragment,null,a.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.request_reminder_modal.title")),a.createElement("div",{className:V},(0,p.tx)("dev_handoff.paywall.request_reminder_modal.description"))),i=()=>{n(eb.F.enqueue({message:(0,p.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,p.t)("admin_dashboard.requests.error_reload"),action:()=>{e_.Ay.reload("Seat request reminder error")}}}))},o=(0,a.useCallback)(()=>{t("design")},[t]);return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",modalType:"request reminder modal",content:r,primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.request_reminder_modal.button.send_a_reminder"),primaryButtonOnClick:()=>{tn.w.nudgeRequest({request_id:e}).catch(()=>{i()})},primaryButtonType:"send reminder",secondaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),secondaryButtonOnClick:o,secondaryButtonType:"back to design"})}function tl(){let e=(0,ez.U)("blocking_modal"),t=a.createElement(a.Fragment,null,a.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.reminder_sent_modal.title")),a.createElement("div",{className:V},(0,p.tx)("dev_handoff.paywall.reminder_sent_modal.description"))),n=(0,a.useCallback)(()=>{e("design")},[e]);return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/9a55aebf20fd5e927f609cc0e256f6e782b20d78",content:t,modalType:"reminder sent modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:n,primaryButtonType:"back to design"})}function tr(){let e=eW(),t=eY(),n=!(0,eh.n)(),l=a.createElement("div",{className:R.cx.gap6.$},a.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.blocking_modal.title.locked")),a.createElement("div",{className:V},n?(0,p.tx)("dev_handoff.paywall.blocking_modal.content.locked_upgrade"):(0,p.tx)("dev_handoff.paywall.blocking_modal.content.locked"))),r=a.useCallback(()=>{e.hidden||e.onClick(eT.i$.BlockingModal)},[e]);return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/0cc1682e265ffe998009571ee821470ca30ed096",imgWidth:32,imgHeight:32,hideImgBorder:!0,content:l,modalType:"team locked modal",primaryButtonLabel:e.hidden?void 0:e.label,primaryButtonOnClick:r,primaryButtonType:n?"upgrade":"back to design",secondaryButtonLabel:n?t.label:void 0,secondaryButtonOnClick:n?t.onClick:void 0,secondaryButtonType:n?"back to design":void 0})}function ti(){let e=(0,ez.U)("blocking_modal"),t=(0,l.wA)(),n=(0,l.d4)(e=>eR.H7(e)?.id),r=a.createElement(a.Fragment,null,a.createElement("p",{className:H},(0,p.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.title")),a.createElement("p",{className:V},(0,p.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.description")));return a.createElement(X,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",modalType:"Dev Mode Starter Trail Ended Modal",content:r,primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.upgrade_your_plan"),primaryButtonOnClick:()=>{t((0,ek.to)({type:ew.V,data:{teamId:n,upsellSource:eF.b.DEV_MODE_STARTER_TRIAL_ENDED_PAYWALL,openCheckoutInNewTab:!0}}))},primaryButtonType:"upgrade",secondaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),secondaryButtonOnClick:()=>{e("design")},secondaryButtonType:"back to design"})}function to(){let e=(0,eD.yN)({phase:"passthrough",component:"ModalWrapper",attribute:"isCurrentPlanOrg",legacy:(e,t)=>!!t,migrated:e=>e?.key.type===eL.OL.ORG});!function(){let[e,t]=(0,i.fp)(eG.t),n=(0,E.J)(),l=(0,b.tS)()??"",r=(0,u.Rs)(w.Fol,{key:l}),o=(0,u.Rs)(w.Pns,{key:l}),s=r.data?.file.status!=="error"&&!!r.data?.file.data?.hasPermission,c="loading"===r.status,d=o.data?.file.status!=="error"&&!!o.data?.file.data?.hasPermission,m=(0,a.useRef)(!1);a.useEffect(()=>{if(!n)return;s&&!m.current&&(m.current=!0);let a=m.current;!c&&a&&!s&&d&&e===eG.c.REQUESTED&&(t(eG.c.DEFAULT),m.current=!1)},[e,d,s,c,n,t])}();let t=(0,i.md)(eG.t),n=(0,b.tS)()??"",r=(0,E.J)(),o=(0,l.d4)(e=>(0,eO.oc)(eR.H7(e)?.id??"",e)),s=(0,u.Rs)(w.D2i,{key:n}),c=(0,u.Rs)(w.Fol,{key:n}),d=(0,u.Rs)(w.XGw,{key:n}),m=r&&c.data?.file.status!=="error"&&c.data?.file.data?.hasPermission,{inExperiment:p}=(0,e9.X)(n),f=function(e,t){let n=(0,e5.oA)(e.data?.file);return t?n?.currentBaseOrgUser?.devModeAccountTypeRequest:n?.currentTeamUser?.designAccountTypeRequest}(d,e),{requestCanBeNudged:g,requestHasBeenNudged:h,upgradeRequestId:_}=f?(0,te.q)(f):{requestCanBeNudged:!1,requestHasBeenNudged:!1,upgradeRequestId:null},y=!r&&!!e5.oA(d?.data?.file)?.currentTeamUser?.devModeAccountTypeRequest?.createdAt;if(r&&("loading"===s.status||"loading"===c.status)||void 0===p)return a.createElement(a.Fragment,null,a.createElement(tc,null),a.createElement(ts,null));if(o)return a.createElement(tr,null);if(p&&_&&r&&m){if(h)return a.createElement(tl,null);if(g)return a.createElement(ta,{upgradeRequestId:_})}return r&&t===eG.c.REQUESTED&&m?a.createElement(e6,null):r&&t===eG.c.DEFAULT&&m?a.createElement(e8,null):t===eG.c.DEFAULT&&y?a.createElement(ti,null):t===eG.c.DEFAULT?a.createElement(tt,null):a.createElement(tc,null)}function ts(){let e=e3.q.instance.getCurrentPage(),t=(0,e4.HD)(e?.backgroundColor??"");return a.createElement("div",{className:t?"blocking_modal--spinnerOnDarkCanvas--CK6zy blocking_modal--spinner--9vJT2":"blocking_modal--spinnerOnLightCanvas--8ZdNP blocking_modal--spinner--9vJT2"},a.createElement(e7.kt,{size:"large"}))}function tc(){return a.createElement("div",{className:R.cx.fixed.top0.left0.right0.bottom0.wFull.hFull.zIndexModal.$,style:F.sx.add({backgroundColor:"var(--color-modalbackdrop)"}).$})}function td(){let e=e3.q.instance.getCurrentPage(),t=e?.backgroundColor?(0,e4.YU)({...e.backgroundColor,a:.9}):"var(--color-modalbackdrop)";return a.createElement("div",{className:R.cx.fixed.top0.right0.bottom0.left0.$,style:F.sx.add({backgroundColor:t}).$})}function tu(){return a.createElement(a.Fragment,null,a.createElement(td,null),a.createElement(to,null))}var tm=n(976999),tp=n(163023),tf=n(259927),tg=n(624488),th=n(367802),t_=n(168275),tE=n(237701),ty=n(876743),tv=n(949207);let tb=[0,1,2,3,4];function tw(){let e="ui3"===(0,L.DP)().version;return a.createElement(ty.Q,null,a.createElement(tg.$,{width:240,disableResizing:!0},a.createElement("div",{className:D()(tf.Dm,"left_panel--nodesPanel---qMcy dev_handoff_nodes_panel--nodesPanel--4Pea0"),"data-testid":"dev-mode-paywall-left-panel"},a.createElement(th.s,null),e&&a.createElement(a.Fragment,null,a.createElement(tE.n,null),a.createElement(t_.d,null)),a.createElement("div",{className:"left_panel--panelTitle--Q4BOG dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.tag.ready_for_development")),a.createElement("div",{className:"left_panel--loadingParentRow--9WZnv"},a.createElement(tp.B,{className:"left_panel--chevron--ApMP6",svg:tv.A}),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0})),tb.map(e=>a.createElement("div",{className:"left_panel--loadingThumbnailRow--PEBJC",key:e},a.createElement(tm.Qp,{animationType:tm.JR.NO_SHIMMER,className:"left_panel--loadingThumbnail--gEHnl"}),a.createElement("div",{className:"left_panel--loadingThumbnailTexts--VS9R6"},a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0}),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0})))),a.createElement("div",{className:"left_panel--transparentPanelScrim--axhW3"}))))}var tN=n(326331),tx=n(927457),tk=n(615925),tI=n(203264),tT=n(46481),tC=n(348425),tS=n(299986),tA=n(409272),tP=n(308977),tL=n(752795),tO=n(196367),tD=n(841368),tM=n(222903),tR=n(902008),tF=n(181912),tB=n(522739),tK=n(626217),tU=n(143922),tz=n(598393),tH=n(381618),tV=n(970516),tG=n(226055),tW=n(848661),tY=n(555074),tX=n(860178),tj=n(498606),tq=n(286723),tQ=n(118335),tJ=n(60088),tZ=n(371591),t$=n(32067),t0=n(788612),t1=n(227795),t2=n(893606),t3=n(863995),t5=n(753630),t4=n(554905),t7=n(343887),t8=n(101165),t6=n(523099),t9=n(143984),ne=n(192437),nt=n(343827),nn=n(843245),na=n(696673),nl=n(416095),nr=n(640783),ni=n(812115),no=n(206316);function ns({description:e,emptyStateText:t}){let n=a.useRef(null),l=a.useRef(void 0),[r,i]=a.useState(!0);a.useLayoutEffect(()=>{let t=l.current;l.current=e,n.current&&t!==e&&i(n.current.scrollHeight>96)},[e]);let o=!!e&&r;return a.createElement("div",{className:"asset_documentation_panel--documentationSection--Uiw1f"},e?a.createElement("div",{className:D()("asset_documentation_panel--documentationRt--dqAKD")},a.createElement(ni.R,{fallback:null,errorFallback:null,value:e,quillClassName:D()("asset_documentation_panel--quill--ARHQQ",{"asset_documentation_panel--quillCollapsed--ezPrQ":r}),quillInnerRef:n}),r&&a.createElement("div",{className:"asset_documentation_panel--quillCollapsedOverlay--UlWJU"})):t?a.createElement("div",{className:"asset_documentation_panel--documentationDescriptionDefault--vxlbl asset_documentation_panel--documentationDescription--la2iI text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",ref:n},t):null,o&&a.createElement("div",{className:"asset_documentation_panel--showMoreButtonContainer--ZkHWJ"},a.createElement(no.d,{label:(0,p.t)("dev_handoff.docs.show_full"),onClick:()=>i(!1)})))}var nc=n(846627),nd=n(153234),nu=n(5605),nm=n(677664),np=n(29680),nf=n(285334),ng=n(349719);n(661743);var nh=n(646240),n_=n(877432),nE=n(38580);let ny=(0,nE.eU)({});var nv=n(756085),nb=n(960628),nw=n(215822),nN=n(227712),nx=n(829632),nk=n(376485),nI=n(242014),nT=n(38329),nC=n(208186);let nS=class{async generateLinkPreview({plugin:e,link:t}){try{let n=await nx.R.instance.enqueue(this.createEnqueueArgs({command:"linkpreview",plugin:e,onStart:()=>(0,nb.se)({name:t.linkName,url:t.linkUrl,isInherited:t.isInherited,nodeId:t.nodeId})}));if(n?.type==="PLAIN_TEXT")(0,nC.n7)({link:t,linkPreviewJson:n});else if(n?.type==="AUTH_REQUIRED"){let n=i.zl.get(ny),a=n[e.plugin_id]?.links??[];i.zl.set(ny,n=>({...n,[e.plugin_id]:{plugin:e,links:[...a,t]}}))}return n??null}catch(e){console.error(e)}return null}async runAuth({plugin:e,links:t}){i.zl.set(es.H,es._.PLUGIN);try{return await nx.R.instance.enqueue(this.createEnqueueArgs({command:"auth",plugin:e,onStart:()=>(0,nb.Ut)(t)}))??null}catch(e){console.error(e)}return null}createEnqueueArgs({command:e,plugin:t,onStart:n}){return{runPluginArgs:{plugin:t,command:"linkpreview",queryMode:!1,runMode:"linkpreview"===e?"linkpreview":"auth",triggeredFrom:"linkpreview"===e?"related-link-preview":"related-link-auth",openFileKey:nT.D.getState().openFile?.key||"",isWidget:!1},onStart:n,mode:"run-and-terminate"}}};nS.instance=new nS;let nA=(0,nf.Up)();function nP(e,t){if((0,nk.ZQ)(t)&&!(0,eE.kc)().plugins_related_links_local||!nA.has(t.plugin_id))return!1;let n=t.manifest.relatedLinkDomains||t.manifest.devResourceDomains;if(!n)return!1;for(let t of n){let n=(0,nw.tk)(t);if(!n)continue;let a=e.split("?")[0];if(n.exec(a))return!0}if((0,nf.P8)(t.plugin_id)){if(nL(e)&&e.match(/selectedIssue=[A-Z]+-[0-9]+/))return!0;nL(e)&&e.match(/[A-Z]+-[0-9]+/)&&(0,el.sx)("Jira Issue Url Not Matched",{url:e})}return!1}function nL(e){return!!e.match(/https?:\/\/[a-zA-Z0-9-]+\.(atlassian\.net|jira\.com)/)}var nO=(e=>(e.OPEN="open",e.PREVIEW="preview",e))(nO||{});function nD(e){let t=function(e){let t=(0,nv.$1)(),n=(0,nv.cW)(),r=(0,l.d4)(e=>e.mirror.appModel.useLocalRelatedLinkPlugin),i=a.useMemo(()=>0===nA.size?null:Object.values(t).find(t=>!!nP(e,t)),[e,t]),o=a.useMemo(()=>0===nA.size?null:Object.values(n).map(e=>(0,nw.uF)(e)).find(t=>!!nP(e,t)),[e,n]),s=a.useMemo(()=>Array.from(nA),[]),c=(0,nv.uf)(s,{enabled:!o}),d=a.useMemo(()=>c.find(t=>!!nP(e,t))??null,[e,c]);return r&&i?i:o||d||null}(e),n=(0,nv.YN)();return t&&n(t)?t:null}function nM(e){let t=nD(e),n=(0,i.md)(ny);if(!t||!t.manifest.capabilities?.includes("linkpreview"))return null;if(n[t.plugin_id]?.links.some(t=>t.linkUrl===e))return;let a=async({link:e})=>{await nS.instance.generateLinkPreview({plugin:t,link:e})};return{plugin:t,genPreview:a}}var nR=n(155497);function nF({isEditable:e,link:t,onOpenDeleteModal:n,onOpenEditModal:i}){let o=(0,l.wA)(),s=!(0,nR.G)(t.linkUrl),c=(0,np.eY)(),d=(0,nn.Nf)()??"",u=c.get(d),m=t.isInherited||t.isVariant,f=(0,eu.U)(),g=(0,nt.d)(!t.isVariant),h=a.useCallback(()=>{o(tV.lW({stringToCopy:t.linkUrl})),f("Dev Handoff Related Links Copy Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"})},[o,d,t.linkUrl,u?.type,f]),_=s?t.linkUrl:new URL(t.linkUrl).host;_.startsWith("www.")&&(_=_.slice(4));let{Dropdown:E,toggleDropdown:y,dropdownTargetRef:v,isDropdownShown:w}=(0,tJ.B)(t.id),N=function(e){let t=nD(e),n=(0,b.tS)(),a=(0,tP.v4)(),l=(0,nh.Xr)(es.H);if(!t||!n||!(0,nw.$u)(t.manifest.capabilities))return null;let r=async({link:e})=>{await nI.d.instance.maybeTerminatePlugin(a),await (0,n_.yQ)();let r=(0,nN.D)(),i=t.manifest.editorType?.includes(nk.FW.DEV)?"open-dev-resource":"open-related-link",o={mode:"run-forever",runPluginArgs:{plugin:t,command:i,queryMode:!1,openFileKey:n,isWidget:!1,runMode:"default",triggeredFrom:"related-link-click"}},s={url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId},c=nx.R.instance.isCurrentlyRunning(o);return(l(es._.PLUGIN),c&&(0,nb.Jc)())?nx.R.instance.enqueue({...o,onStart:async()=>await (0,nb.xG)({devResource:s})}):nx.R.instance.enqueue({...o,reuseExistingRunState:!1,onStart:async()=>((0,nb.r2)(5e3,{devResource:s}),(await r).triggerRunEvent({command:i,link:s}))})};return{plugin:t,callback:r}}(t.linkUrl),x=m?(0,p.t)("dev_handoff.developer_related_links.main_component_tooltip"):(0,p.t)("dev_handoff.developer_related_links.additional_options"),k=a.createElement("div",{ref:v},a.createElement(t7.K,{actionOnPointerDown:!0,onClick:e=>{y(),e.stopPropagation()},"aria-label":x,htmlAttributes:{"data-tooltip":x,"data-tooltip-type":tj.Ib.TEXT}},m?a.createElement(t9.K,null):a.createElement(tD.J,null))),I=[{displayText:(0,p.t)("dev_handoff.developer_related_links.copy_link"),callback:()=>h()}];N&&I.unshift({displayText:(0,p.t)("dev_handoff.developer_related_links.open_in_new_tab"),callback:()=>{F()}}),m&&g&&I.unshift({displayText:(0,p.t)("dev_handoff.developer_related_links.go_to_main_component"),callback:()=>{g()}}),t.isNested&&I.push({displayText:(0,p.t)("dev_handoff.developer_related_links.select_layer"),callback:()=>{r.w3z.selectAndFocusOnNode(t.nodeId,!0)}}),e&&I.push({displayText:(0,p.t)("dev_handoff.developer_related_links.edit_link"),callback:()=>i(t)},{displayText:"",separator:!0},{displayText:(0,p.t)("dev_handoff.developer_related_links.delete_link"),callback:()=>n(t.id,t.linkUrl)});let[T,C]=a.useState(!1),[S,A]=a.useState(!1),L=t.linkPreview,O=L&&"PLAIN_TEXT"===L.type&&L.text,M=O&&!t.isUserOverride&&N,F=()=>{(0,nc.e)(t.linkUrl)||o((0,nm.RK)({rawInput:t.linkUrl})),f("Dev Handoff Related Links Open Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"})},B=a.createElement(nB,{name:t.linkName,url:N?N.plugin.name:_,isHovering:T}),K=M&&N?a.createElement(nB,{name:O,url:N.plugin.name,isHovering:T}):null,U=(0,nd.Pt)("developerRelatedLinkRow",t.id);return a.createElement("div",{className:"developer_related_link_row--link--fvcCC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},a.createElement(P.E,{className:D()("developer_related_link_row--linkInfo--214Y7","developer_related_link_row--linkInfoContent--Cf-IY"),onClick:()=>{let e={action:nO.OPEN,link:t};if(N&&(0,nf.Zl)(N.plugin.plugin_id,e0.z4.getIsExtension())){t.isNested&&r.w3z.selectAndFocusOnNode(t.nodeId,!0),N.callback(e),f("Dev Handoff Related Links Run Plugin From Hyperlink",{nodeId:d,nodeType:u?.type,source:"web",pluginId:N.plugin.plugin_id}),o(Z.b({[nu.xb]:!0}));return}e0.z4.getIsExtension()?(0,ng.mz)(t.linkUrl):(o((0,nm.RK)({rawInput:t.linkUrl})),f("Dev Handoff Related Links Open Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"}))},recordingKey:(0,nd.Pt)(U,"button"),"aria-label":t.linkName,htmlAttributes:{onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1)}},a.createElement("div",{className:"developer_related_link_row--favicon--ZrNbB"},a.createElement(tS.v,{url:t.linkUrl})),K??B),a.createElement("div",{className:D()("developer_related_link_row--additionalButtons--tKT0M",T||S||m||w?R.cx.opacity1.$:R.cx.opacity0.$),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1)},k,w&&a.createElement("div",{onMouseEnter:()=>A(!1)},a.createElement(E,{items:I,showPoint:!1}))))}function nB({name:e,url:t,isHovering:n}){return a.createElement(em.Y,{direction:"horizontal",spacing:4,padding:{right:32}},a.createElement("p",{className:"developer_related_link_row--linkName--p0e0K ellipsis--ellipsis--Tjyfa",style:n?F.sx.add({maxWidth:"50%"}).$:void 0},e),n&&a.createElement(a.Fragment,null,a.createElement("p",{className:"developer_related_link_row--linkDivider--20WA5"},"\xb7"),a.createElement("p",{className:"developer_related_link_row--linkURL--eaX2b ellipsis--ellipsis--Tjyfa blue_link--blueLink--9rlnd"},t)))}var nK=n(835808),nU=n(937456),nz=n(47493),nH=n(77437),nV=n(971612),nG=n(265241),nW=n(893038);function nY(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.908 15.5h-.158a.25.25 0 0 0-.25.25v1c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1a.25.25 0 0 0-.25-.25zm3.325-.522c.17-.194.29-.426.35-.668.115-.468.329-.94.593-1.517l.015-.032c.23-.502.5-1.089.668-1.707A4.004 4.004 0 0 0 12 6a4 4 0 0 0-3.86 5.054c.17.618.439 1.205.669 1.707l.015.033c.264.576.477 1.048.593 1.516.06.242.18.474.35.668-.167.213-.267.48-.267.772v1a1.75 1.75 0 0 0 1.5 1.732v.018a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.518 1.75 1.75 0 0 0 1.5-1.732v-1c0-.291-.1-.56-.267-.772m-1.14-.478c.25 0 .46-.186.52-.43.141-.575.398-1.134.654-1.694.24-.523.48-1.047.628-1.585q.104-.379.105-.791a3 3 0 1 0-5.895.791c.147.538.387 1.062.628 1.585.256.56.513 1.119.655 1.694.06.244.269.43.52.43zM11 10a1 1 0 0 1 1-1 .5.5 0 0 0 0-1 2 2 0 0 0-2 2 .5.5 0 0 0 1 0",clipRule:"evenodd"}))}var nX=n(992739),nj=n(449124),nq=n(355819),nQ=n(615549),nJ=n(275725),nZ=n(286954),n$=n(234945),n0=n(273226),n1=n(286285),n2=n(103339),n3=n(507877);function n5(){let e=(0,nn.lA)(),t=(0,l.wA)(),n=(0,b.tS)(),i=(0,nl.yW)(e),o=!!i&&i!==n,s=a.useMemo(()=>!!e&&r.Egt.nodeIsSoftDeleted(e.guid),[e]),c=a.useCallback(()=>{if(e){if(o){if(!e.publishID)return;let n=(0,nl.xl)(i,e.publishID);t(n3.V3({url:n}))}else t(ek.AS()),r.glU.goToSymbolOrStateGroupById(e.guid,!1)}},[e,t,i,o]);return!e||s||o&&(0,na.wJ)(i)?null:a.createElement(t7.K,{onClick:c,"aria-label":e.isState?(0,p.t)("design_systems.playground.open_variant_in_library"):(0,p.t)("design_systems.playground.open_component_in_library"),htmlAttributes:{"data-tooltip":e.isState?(0,p.t)("design_systems.playground.open_variant_in_library"):(0,p.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(t6.E,null))}var n4=n(722261),n7=n(220747),n8=n(807197),n6=n(132208);let n9=(0,B.tf)(t7.K),ae=a.memo(({guid:e,...t})=>{let n;a.useEffect(()=>{e&&i.zl.set(n8.J,[e])},[e]);let o=(0,l.wA)(),c=(0,l.d4)(n$.AF),d=(0,s.wS)(),u="loaded"===d.status&&"temp-scene"===d.result.dataLocation?d.result:void 0,m=(0,n2.oD)(),f=a.useCallback(()=>{o((0,nZ.vq)())},[o]),g=T.hS({...t,onClose:()=>{f(),(0,el.sx)("Playground closed"),t.onClose()}}),h=a.useMemo(()=>new e3.q(u?r.juq.DETACHED_COMPONENTS:r.juq.PLAYGROUND),[u]),_=(0,np.eY)(),E=a.useMemo(()=>{if(!m)return"";if("loaded"===d.status)return d.result.isVariant?d.result.dataStateGroupId??d.result.dataComponentId:d.result.dataComponentId;let e=m.nodeData?.playgroundGUID;return e?((0,n0.Yi)([e],h)||(0,n0.k4)([e],h))??"":""},[m,h,d]),y=a.useMemo(()=>h.get(E)?.name??"",[E,h]),{theme:v,invertTheme:b,callbackCount:w}=function(e){let t=(0,nJ.IO)(e,!0),n=a.useRef(t()),[l,r]=a.useState(n.current),[o,s]=a.useState(0),[c,d]=(0,i.fp)(n2.d8),[u,m]=a.useState(!0),p=a.useCallback(()=>{let e=t();return n.current=e,e},[t]);return a.useEffect(()=>{c&&u&&(r(e=>{let t=n.current,a=p();return"light"===t&&"dark"===a||"dark"===t&&"light"===a?"light"===e?"dark":"light":e}),d(!1))},[u,p,d,r,c]),{theme:l??n.current,invertTheme:()=>{m(!1),r(e=>"light"===e?"dark":"light"),s(e=>e+1)},callbackCount:o}}(e??E),N=(0,l.d4)(e=>e.userFlags.dismissed_playground_banner),x=a.useCallback(()=>{o(Z.b({dismissed_playground_banner:!0}))},[o]),k=a.useCallback(()=>{m?.refetchAndResetScene()},[m]),I=a.useCallback(e=>{let t=(0,n8.n)(e,h,_),n=i.zl.get(n8.J);i.zl.set(n8.J,[...n,t]),r.glU.setPlaygroundSceneFromGuid(t??"")},[_,h]);if(!m||!c)return null;let{thumbnailData:A,nodeData:P}=m;if(!P)return null;let{playgroundGUID:L,componentProps:O,moduleProps:M,modeData:R}=P,F=h.get(L);if(!A)return null;let K=i.zl.get(n8.J);return K.length>1&&(n=a.createElement(t7.K,{onClick:()=>{let e=K[K.length-2];r.glU.setPlaygroundSceneFromGuid(e);let t=K.slice(0,-1);i.zl.set(n8.J,t)},"aria-label":(0,p.t)("dev_handoff.playground.select_parent_instance"),htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.playground.select_parent_instance"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(nG.E,null))),a.createElement(B.fu,{name:"Dev Mode Component Playground"},a.createElement(C.bL,{manager:g,width:"fit-content"},a.createElement(S.vo,null,a.createElement(S.Y9,null,a.createElement(S.hE,null,(0,p.tx)("design_systems.playground.component_playground"))),a.createElement(S.nB,null,a.createElement("div",{className:D()("playground_modal--container--oiCFH")},a.createElement("div",{className:"playground_modal--thumbnailContainer--ZaF9V",style:(0,nJ.CU)(v)},a.createElement("img",{src:A.src,className:"playground_modal--thumbnail--JPv2M",width:A.width,height:A.height,alt:(0,p.t)("design_systems.playground.thumbnail_alt")}),a.createElement("div",{className:"playground_modal--themeButton---BLzd","data-preferred-theme":v},a.createElement(n9,{"aria-label":(0,p.t)("design_systems.playground.change_background"),onClick:b,htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.playground.change_background"),"data-tooltip-type":tj.Ib.TEXT},trackingProperties:{type:"Background toggle",color:v,index:w}},"light"===v?a.createElement(nW.c,null):a.createElement(nY,null)))),a.createElement("div",{className:"playground_modal--propsContainer--CAA9y"},a.createElement("div",{className:"playground_modal--propsContainerHeader--oGDtk"},a.createElement("div",{className:"playground_modal--propsContainerName--ZCWzH"},n,a.createElement("div",{className:"playground_modal--productComponentName--NaHb9 ellipsis--ellipsis--Tjyfa"},y)),a.createElement("div",{className:"playground_modal--propsContainerHeaderButtons--MPFZ-"},"INSTANCE"===c.type&&a.createElement(n5,null),a.createElement(t7.K,{onClick:k,"aria-label":(0,p.t)("design_systems.playground.reset_properties"),disabled:!m.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.playground.reset_properties"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(nX.m,null)))),!N&&a.createElement("div",{className:"playground_modal--bannerContainer--rQy3f playground_modal--_propsContainerElement--F1mOU"},a.createElement(nj.z,{orientation:"vertical",iconSrc:n6.A,variant:"dev",title:(0,p.t)("design_systems.playground.banner_header"),onClose:x},(0,p.tx)("design_systems.playground.banner_content"))),a.createElement(nq.P,null,a.createElement(np.q0.Provider,{value:h},a.createElement("div",{className:"playground_modal--propsSectionContainer--3xF-J playground_modal--_propsContainerElement--F1mOU"},a.createElement(n7.x,{containerWidth:n0.O2.UNBOUNDED,componentProps:O,moduleProps:M,moduleFrameData:void 0,playgroundGUID:L,productComponentGUID:E,sceneGraph:h,viewOnlyMode:F?.isState?n1.BK.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker"})),a.createElement("div",{className:"playground_modal--modesSectionContainer--NaZ-S"},a.createElement(n4.b,{fill:!0,modes:R||{}}))),(0,eE.kc)().dt_code_connect_playground&&a.createElement("div",{className:"playground_modal--codeConnectPanel--A4E9s"},a.createElement(ne.tH,{boundaryKey:"Figmadoc",fallback:ne.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(nQ.Qd,{isPlayground:!0,onInstancePillClick:I}))))))))))}),at=(0,eq.Ju)(ae,"PlaygroundModal");var an=n(869156),aa=n(25888),al=n(673867),ar=n(564092),ai=n(534611),ao=n(91408),as=n(603689),ac=n(930269);let ad="component_preview_panel--componentPreviewContainer--aKLR0 common--well--J0WtH",au="component_preview_panel--componentPreviewImage--AZj5d",am=(0,ao.jz)(ac.devHandoffComponentPreviewMaxHeight);function ap({overPropTable:e,overPlaygroundButton:t}){let n=(0,as.rL)(),l=(0,nn.ro)(),i=n-64,o=function(e,t=am){let n=(0,s.wS)(),l=(0,nn.lA)(),i="loaded"===n.status&&n.result.dataComponentId?n.result.dataComponentId:l?.guid,o=(0,nJ.c6)(i),c="loaded"===n.status&&"temp-scene"===n.result.dataLocation,d=4*e,u=4*t;return a.useMemo(()=>{if(!i)return;let e=r.glU.getDefaultStateForLocalStateGroup(i)||i;if(!(0,ai.fn)((0,ai.sH)(e)))return;let[t,n]=r.Vzr.generateThumbnailForNode(e,d,u,4,{forceContentsOnly:!0,inDetachedComponentsScene:c});if(!n||0===n.length||!t)return;let{width:a,height:l}=t;return{url:URL.createObjectURL(new Blob([n])),backgroundStyle:o,renderWidth:a/4,renderHeight:l/4}},[o,c,i,u,d])}(i);if(!l)return null;let c=o?.renderWidth??i,d=o?.renderHeight??am;return a.createElement(tB.D8,{className:D()(ad,{"component_preview_panel--overPropTable--c8HQR":e,"component_preview_panel--overPlaygroundButton--cn0Sd":t}),style:o?.backgroundStyle,role:"button",tabIndex:0},o?.url&&a.createElement(U.J,{className:au,src:o.url,style:{maxWidth:c,maxHeight:d}}))}let af="component_props_list--propertyValueTypeBool--9q87D";function ag(){return a.createElement("span",{className:"component_props_list--propertyNameSpacer--FdkL0"})}function ah(e){let t=(0,t0.SV)("inspection_property_copy_click"),n=(0,t$.Cj)(`${e.name}: ${e.value}`,()=>{t({property:e.name,value:e.value})}),[l,i]=a.useState(!1),o=(0,al.X)(e.name),s=(0,al.X)(e.value),c={[r.J0O.BOOL]:af,[r.J0O.VARIANT]:"component_props_list--propertyValueTypeVariant--GNz6Z",[r.J0O.TEXT]:"component_props_list--propertyValueTypeText--noD0E",[r.J0O.INSTANCE_SWAP]:"component_props_list--propertyValueTypeInstanceSwap--Ckcm4",[r.J0O.NUMBER]:af,[r.J0O.NONE]:void 0},d={[r.J0O.BOOL]:nU.X,[r.J0O.VARIANT]:nz.y,[r.J0O.TEXT]:nH.I,[r.J0O.INSTANCE_SWAP]:nV.M,[r.J0O.NUMBER]:nU.X,[r.J0O.NONE]:nz.y}[e.type],u=a.createElement(d,{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,n0.xb)(e.type===r.J0O.NONE?r.J0O.VARIANT:e.type)})}),m=D()("component_props_list--propertyValue--eu4vE sf_pro--uiFontWithSFProFallback--m-p9V ellipsis--ellipsis--Tjyfa text--fontPos10--s1PI5 text--_fontBase--QdLsd",c[e.type]);return a.createElement("div",{className:D()("component_props_list--copyableRow--N-YSu ellipsis--ellipsis--Tjyfa"),onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)}},a.createElement(P.E,{className:"component_props_list--propertyRowButton--biwBU",onClick:n,htmlAttributes:{"data-testid":"inspectionPropertyRow"}},a.createElement("div",{className:"component_props_list--propertyRow--lpbBb"},e.name?a.createElement("span",{className:"component_props_list--propertyName--o49U9 sf_pro--uiFontWithSFProFallback--m-p9V text--fontPos10--s1PI5 text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-testid":"inspectionPropertyName",...o,"data-tooltip-tip-align-left":!0},e.name):a.createElement(ag,null),a.createElement("span",{className:m,"data-testid":"inspectionPropertyValue",...s,"data-tooltip-tip-align-left":!0},u,a.createElement(t0.lN,{valueProps:{...e,copyValue:e.value},isHovered:l})))))}function a_(){let e=(0,l.wA)(),t=(0,nn.M4)(),n=a.useCallback(()=>{e(ek.to({type:at,data:{guid:t?.guid}})),(0,el.sx)("Playground opened")},[e,t?.guid]);return a.createElement("div",{className:"component_props_list--propsPlaygroundButtonContainer--JYmvM","data-test-id":"openInPlaygroundButton"},a.createElement(A.IK,{variant:"secondary",onClick:n,recordingKey:"openInPlayground"},(0,p.tx)("dev_handoff.playground.open_in_playground")))}function aE(e){let t=e.variables&&e.variables.value[e.name],n=t&&t.type===r.Z_n.ALIAS?t.value:void 0,l=(0,an.u)(n);return a.createElement(ah,{type:e.type,name:e.name,value:e.value,variable:l?.name})}function ay(){let e=(0,l.d4)(n$.qd),t=a.useMemo(aa.z4,[]),{consumedVariable:n}=(0,ar.u3)(["VARIANT_PROPERTIES"]),i=function(e){if(!e||(0,tW.gl)(e)||e.type!==r.Z_n.EXPRESSION||e.value.expressionFunction!==r.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==r.Z_n.MAP?null:t}(n),o=(0,l.d4)(n=>t(n,e)),s=Object.entries((0,ar.kN)()).filter(([e,t])=>t.modeOptions.length>1),c=o.length>0,d=c||s.length>0;return a.createElement(a.Fragment,null,a.createElement(ap,{overPropTable:c,overPlaygroundButton:d}),c&&a.createElement("div",{className:"component_props_list--propsList--VRadV"},o.map(({name:e,value:t,type:n})=>a.createElement(aE,{type:n,key:e,name:e,value:t,variables:i}))),!e0.z4.getIsExtension()&&d&&a.createElement(a_,null))}var av=n(201706),ab=n(215440),aw=n(958317),aN=n(731262);let ax="legacy_component_props_list--propsList--IO9sr text--fontPos11--2LvXf text--_fontBase--QdLsd",ak="legacy_component_props_list--heading--xuytG";function aI({propDef:e}){let{type:t,name:n}=e,l=e.kind===av.u.TYPED?e.defaultValue:void 0,i=(0,ec.mJ)(l),o=(0,ec.mJ)(i?.parentGuid);if(function(e){if(e.type===r.J0O.BOOL)return!0;if(e.type!==r.J0O.VARIANT)return!1;let t=e.values.map(e=>e.toLowerCase());if(2===t.length)for(let e of aN.NE){let n=t.indexOf(e[0]),a=t.indexOf(e[1]);if(-1!==n&&-1!==a)return!0}return!1}(e))return void 0===l?a.createElement(t0._p,{name:n,value:(0,p.t)("dev_handoff.docs.prop_boolean")}):a.createElement(t0._p,{name:n,value:"true"===l?(0,p.t)("dev_handoff.docs.prop_boolean_default_true"):(0,p.t)("dev_handoff.docs.prop_boolean_default_false")});switch(t){case r.J0O.VARIANT:return a.createElement(t0._p,{key:e.name,name:e.name,value:(0,p.t)("dev_handoff.docs.prop_variant",{values:e.values.join(", ")})});case r.J0O.TEXT:return a.createElement(t0._p,{name:n,value:(0,p.t)("dev_handoff.docs.prop_string",{defaultValue:l})});case r.J0O.INSTANCE_SWAP:let s=i?.isState?o?.name:i?.name,c=s?` (${s})`:"";return a.createElement(t0._p,{name:n,value:`${(0,p.t)("dev_handoff.docs.prop_instance")}${c}`})}return null}function aT({component:e}){let t=(0,l.d4)(n$.qd),n=(0,s.wS)(),r=(0,l.d4)(aa.$F),i=a.useMemo(aw.Cu,[]),o=(0,l.d4)(e=>i(e,t)),c=(0,np.eY)(),{detachedCompPropsDefs:d,detachedVariantProps:u}=(0,s.t7)(n,c),m=e.isState||"loaded"===n.status&&n.result.isVariant,f=[...r,...d],g=[...o,...u],h=((0,l.d4)(ab.K4)||[]).filter(e=>e.isBubbled),_=Object.entries((0,ar.kN)()).filter(([e,t])=>t.modeOptions.length>1);if(!(f.length>0||_.length>0||h.length>0))return null;let E=m?f.filter(e=>e.kind!==av.u.VARIANT):f;return a.createElement("div",{className:ax},a.createElement("div",{className:ak},a.createElement("strong",null,(0,p.tx)("dev_handoff.docs.props"))),m&&g.map(({name:e,value:t})=>a.createElement(t0._p,{key:e,name:e,value:t})),E.map(e=>a.createElement(aI,{key:e.name,propDef:e})),!e0.z4.getIsExtension()&&a.createElement(aC,null))}function aC(){let e=(0,l.wA)(),t=(0,nn.M4)(),n=a.useCallback(()=>{e(ek.to({type:at,data:{guid:t?.guid}})),(0,el.sx)("Playground opened")},[e,t?.guid]);return a.createElement("div",{className:"legacy_component_props_list--propsPlaygroundButtonContainer--WlFqT"},a.createElement(ep.$,{width:"fill-parent",onClick:n,recordingKey:"openInPlayground",dataTestId:"openInPlaygroundButton"},(0,p.tx)("dev_handoff.playground.open_in_playground")))}function aS(e){let t=e.variables&&e.variables.value[e.name],n=t&&t.type===r.Z_n.ALIAS?t.value:void 0,l=(0,an.u)(n);return a.createElement(t0._p,{name:e.name,value:e.value,variable:l?.name})}function aA(){let e=(0,l.d4)(n$.qd),t=a.useMemo(aa.z4,[]),{consumedVariable:n}=(0,ar.u3)(["VARIANT_PROPERTIES"]),i=function(e){if(!e||(0,tW.gl)(e)||e.type!==r.Z_n.EXPRESSION||e.value.expressionFunction!==r.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==r.Z_n.MAP?null:t}(n),o=(0,l.d4)(n=>t(n,e)),s=Object.entries((0,ar.kN)()).filter(([e,t])=>t.modeOptions.length>1);return o.length>0||s.length>0?a.createElement("div",{className:ax},a.createElement("div",{className:ak},(0,p.tx)("dev_handoff.docs.props")),o.map(({name:e,value:t})=>a.createElement(aS,{key:e,name:e,value:t,variables:i})),!e0.z4.getIsExtension()&&a.createElement(aC,null)):null}function aP(){let e=(0,nn.M4)();return e?"INSTANCE"===e.type?a.createElement(aA,null):a.createElement(aT,{component:e}):null}function aL(){return a.createElement(a.Fragment,null,a.createElement(ap,null),a.createElement(aP,null))}function aO(){(0,t$.jY)();let e=(0,nn.lA)(),[t,n]=(0,s.XX)(),l=(0,nK.AK)(t,n),r=e?.isState?e?.parentNode:null,{backingSymbolDescription:i,parentDescription:o}=(0,s.iX)(e?.description,r?.description),c=i&&o?o+"\n\n"+i:i||o;return a.useMemo(()=>({links:l,description:c}),[l,c])}function aD(){let{links:e=[]}=aO();return 0===e.length?null:a.createElement("div",{className:"component_documentation_panel--documentationLinks--UtNIi text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement("div",{className:"component_documentation_panel--heading--x-ri2"},a.createElement("strong",null,(0,p.tx)("dev_handoff.docs.links_title"))),a.createElement("div",null,e.map(e=>{let t=(0,nr.Gw)(e.uri),n=t?(0,M.Zr)(t):(0,p.t)("dev_handoff.docs.links_default"),l={id:e.uri,nodeId:"",fileKey:"",linkName:n,linkUrl:e.uri,linkPreviewJson:"",isUserOverride:!1,isInherited:!1,linkPreview:null};return a.createElement(nF,{key:e.uri,link:l,isEditable:!1,onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})})))}function aM(){let{description:e}=aO();return a.createElement(a.Fragment,null,(0,eE.kc)().dt_code_connect_ui_update?a.createElement(ay,null):a.createElement(aL,null),a.createElement(ns,{description:e}),a.createElement(aD,null))}function aR(){let e=(0,nn.lA)(),t=(0,s.wS)(),n=(0,l.d4)(b.sS),i=(0,ec.uQ)(),o=(0,eu.U)(),c="loaded"===t.status?t.result:void 0,d=(0,nl.yW)(e),u=c&&c.isExternal?c.fileKey:d&&d!==n?d:n,m=u!==n,f=c?c.nodeId:m?e?.publishID:e?.guid,g=(0,nt.d)(!1,()=>{o("Dev Mode Navigated To Main Component",{selectedNodeId:i,external:m,detached:!!c})});if(!f||!g||!u)return null;let h=(0,na.wJ)(u),_=!1;return m?t&&(_="loading"===t.status||"errors"===t.status):_=r.Egt.nodeIsSoftDeleted(f),a.createElement(t7.K,{"aria-label":h?(0,p.t)("design_systems.instance_panel.view_library_in_community"):(0,p.t)("dev_handoff.instance_navigation.go_to_main_component"),onClick:g,disabled:_,recordingKey:"devHandoffNavigateInstanceButton",htmlAttributes:{"data-tooltip":h?(0,p.t)("design_systems.instance_panel.view_library_in_community"):(0,p.t)("dev_handoff.instance_navigation.go_to_main_component"),"data-tooltip-type":tj.Ib.TEXT}},h?a.createElement(t8.c,null):m?a.createElement(t6.E,null):a.createElement(t9.K,null))}function aF(){let e=(0,ec.VW)(),t=(0,s.wS)();return e?.isLooseComponent||e?.isState||e?.isStateGroup||e?.type==="INSTANCE"||"disabled"!==t.status?a.createElement(t0.VZ,{recordingKey:"componentPanel",hideHeader:!0,padding:t0.UZ.EXTRA_TOP_PADDING_FOR_UI2},(0,eE.kc)().dt_figmadoc&&a.createElement(ne.tH,{boundaryKey:"Figmadoc",fallback:ne.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(nQ.Qd,null)),a.createElement(aM,null)):null}var aB=n(413145);let aK=e=>e.includes("prototype")||e.includes("user")||e.includes("prop")?null:e.includes("stroke")||e.includes("border")||e.includes("corner")?"border":e.includes("fill")||e.includes("background")?"color":e.includes("text")||e.includes("font")||e.includes("paragraph")||e.includes("ot-features")||"letter-spacing"===e||"line-height"===e?"text":e.includes("effect")?"effect":e.includes("size")||e.includes("stack")?"layout":"count"===e||e.includes("vector")?"shape":"opacity"===e||"visible"===e||"blend-mode"===e?"style":null;function aU(e,t){return az.indexOf(e)-az.indexOf(t)}let az=["color","border","text","effect","layout","shape","style"];var aH=n(728325),aV=n(488578);let aG=(0,eq.Ju)(function(){return a.createElement(aV.Rw,{destructive:!0,confirmationTitle:(0,p.tx)("inspect_panel.detached_component.remove_attachment"),confirmText:(0,p.tx)("dev_handoff.detached_component.remove_attachment_confirm"),onConfirm:()=>{aH.VU.get("remove-detached-symbol-id","menu")()}},a.createElement("p",null,(0,p.tx)("dev_handoff.detached_component.remove_attachment_text_body")))},"RemoveDetachmentStatusModal");var aW=n(812505);let aY="dev_handoff_nodes_panel--item--FYINO",aX="dev_handoff_nodes_panel--itemSelectedReadySections--Wladq dev_handoff_nodes_panel--item--FYINO",aj="dev_handoff_nodes_panel--timestamp--5sWkT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",aq="dev_handoff_nodes_panel--readySectionsEmptyStateRow--3qQXK",aQ="dev_handoff_nodes_panel--readySectionsIcon--gNtWg",aJ="dev_handoff_nodes_panel--readySectionsContent--3ilof text--fontPos11--2LvXf text--_fontBase--QdLsd",aZ="header--headerContents--0Pvld",a$="header--headerButtons--Lt3iE",a0="header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",a1="header--layerRowSpacer--qrODv",a2="header--layerName--s4pA8 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",a3="header--layerIconSymbol--irpWG header--icon--IGzM0",a5="header--statusIcon--9Pk8T",a4="header--layerType--vaDds text--fontPos11--2LvXf text--_fontBase--QdLsd",a7="header--layerCompareLinkText--frP7M text--fontPos11--2LvXf text--_fontBase--QdLsd",a8="header--timestamp--zWQD3 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",a6="header--dropdownContainer--4czE1",a9="header--chevron--0Wf28",le="header--chevronActive--sp6Xw";var lt=n(783423),ln=n(757510),la=n(432616),ll=n(437527),lr=n(362679),li=n(844127),lo=n(842232),ls=n(126815);function lc(){let e=(0,l.wA)(),t=(0,s.wS)(),n=(0,t4.Td)(),{Dropdown:r,dropdownTargetRef:i,toggleDropdown:o,isDropdownShown:c}=(0,tJ.B)("DEV_HANDOFF_DETACHED_COMPONENT_DROPDOWN"),d=[{displayText:(0,p.t)("inspect_panel.detached_component.remove_attachment"),disabled:n,callback:()=>{e(ek.to({type:aG}))}},{displayText:(0,p.t)("inspect_panel.detached_component.compare_to_source"),disabled:"loaded"!==t.status,callback:(0,tU.xY)("cc_detached_component")}];return a.createElement(a.Fragment,null,a.createElement(tB.D8,{className:"header--detachedDropdownContainer--msmKV",forwardedRef:i,onClick:o},(0,p.tx)("inspect_panel.node_type.detached_component"),a.createElement(tp.B,{className:c?le:a9,svg:lt.A})),a.createElement(r,{items:d,showPoint:!1}))}function ld({state:e,backgroundState:t}){return a.createElement("div",{className:"dev_handoff_nodes_panel--historyIconContainer--QkDx6"},a.createElement(tC.t,{className:D()("dev_handoff_nodes_panel--historyIcon--dprKz"),svg:ln.A}),e===tI.Uy.RECENTLY_EDITED&&a.createElement("div",{className:D()("dev_handoff_nodes_panel--editedDot--8NIiF",{"dev_handoff_nodes_panel--editedDotSelected--95Nsq":"selected"===t,"dev_handoff_nodes_panel--editedDotHover--P8nA3":"hovered"===t})}))}function lu({frameId:e,label:t,disabled:n,compareVersions:l,compareDetachedComponent:r,compareOverrides:i,overridesText:s}){let c=(0,tG.GS)(),d=(0,o._I)(),u=!n&&d,f=(0,tU.dU)(e,"cc_versions"),g=(0,tU.xY)("cc_dropdown_detached_component"),h=(0,ec.VW)(),_=!!(h&&h.isAlive())&&"INSTANCE"===h.type,E=(0,tY.kl)("overrides"),y=E&&!(0,tW.gl)(E)?E.instanceGuid:null,v=(0,tU.Xn)(y),{Dropdown:b,dropdownTargetRef:w,toggleDropdown:N,isDropdownShown:x}=(0,tJ.B)("DEV_HANDOFF_COMPARE_CHANGES_DROPDOWN"),k=a.useMemo(()=>({displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_versions"),disabled:n||!d||!l,callback:d?f:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareVersions"}),[l,n,d,f]),I=a.useMemo(()=>r?{displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:n||!d,callback:d?g:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareDetachedComponent"}:null,[r,n,d,g]),T=a.useMemo(()=>i||_?{displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:!i||n||!d,callback:d?v:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareOverrides"}:null,[i,_,n,d,v]),C=a.useMemo(()=>[k,I,T,{separator:!0,displayText:""},{displayText:s??(0,p.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),icon:a.createElement("div",{className:R.cx.if(s,R.cx.mt6,R.cx.mt4).mr8.minW16.minH16.itemSelfStart.flex.justifyCenter.alignCenter.$},a.createElement(tp.B,{className:R.cx.colorTextMenuSecondary.colorIconMenuSecondary.$,svg:s?ls.A:lo.A})),displayTextClassName:"header--multilineText--iK4P2",disabled:!0}].filter(tL.isNotNullish),[k,I,T,s]);return u?a.createElement(a.Fragment,null,a.createElement(tB.D8,{className:a6,forwardedRef:w,onClick:N,recordingKey:"compareChanges.entrypoint"},!!s&&a.createElement("div",{className:"header--overridesDot--31BuQ"},a.createElement(tp.B,{svg:la.A})),a.createElement("div",{className:a7,"data-testid":"compare-changes-entry-with-dropdown"},t),c?a.createElement(tN.r,null):a.createElement("div",{className:x?le:a9},a.createElement(tp.B,{svg:lt.A}))),a.createElement(b,{rootAndSubmenuMaxWidth:240,items:C,showPoint:!1,recordingKey:"compareChanges.entrypoint.dropdown"})):a.createElement("div",{className:D()(a7,{"header--layerCompareLinkTextDisabled----eEQ text--fontPos11--2LvXf text--_fontBase--QdLsd":n}),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),"data-testid":"compare-changes-entry-without-dropdown"},t)}function lm(){let e=(0,o._I)(),t=tX.iZ()?.id,n=(0,t$.Tv)(),r=(0,b.tS)(),i=(0,l.wA)(),s=(0,tG.GS)();if(n?.length!==2)return null;let c=n[1],d=n[0];return a.createElement(A.$n,{variant:s?"secondary":"link",onClick:()=>{e&&((0,el.sx)("Diff Modal Compare Changes Clicked",{userId:t,fileKey:r,nodeId:c,otherNodeId:d,entrypoint:"lego_layer",origin:"cc_nodes"}),er.sn.reset("dev_handoff.view_history",c),er.sn.start("dev_handoff.view_history",{key:c}),i(ek.to({type:tQ.ku,data:{changeNodeId:c,basisNodeId:d}})))},disabled:!e,recordingKey:"compareChanges.entrypoint.nodes"},a.createElement("span",{className:"header--layerCompareLinkTextNoDropdown--LWQWY text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("inspect_panel.history.compare_changes")))}function lp(){let e=(0,o._I)(),t=(0,b.q5)(),n=(0,e1._6)(),{Dropdown:l,toggleDropdown:r,dropdownTargetRef:i,isDropdownShown:s}=(0,tJ.B)("INSPECT_PANEL_HEADER_DROPDOWN");if(!e)return null;let c=[{displayText:(0,p.t)("dev_handoff.inspect_panel.open_in_vs_code.link"),callback:function(){t&&"fullscreen"===n.view&&n.nodeId&&(window.location.href=`vscode://figma.figma-vscode-extension/open/${t.key}/${t.name}/${n.nodeId}`)},icon:a.createElement("div",{className:"header--optionsDropdownIcon--sWjMu"},a.createElement(aW.M,null))}];return a.createElement(a.Fragment,null,a.createElement("div",{ref:i},(0,eE.kc)().dt_fpl_migration?a.createElement(tO.d,{"aria-label":(0,p.t)("dev_handoff.code.options"),toggled:s,onClick:r,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.code.options"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(tD.J,null)):a.createElement(t1.YW,{svg:lr.A,onMouseDown:e=>e.stopPropagation(),onClick:r,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.code.options"),selected:s})),a.createElement(l,{items:c,showPoint:!0}))}function lf(){let e=(0,ec.NM)();return e?a.createElement(t0.VZ,{title:(0,p.t)("inspect_panel.property.mixed"),recordingKey:"layerName"},a.createElement("div",{className:"header--mixedRow--PIOSy header--layerRowContainer--qqv5Y"},a.createElement("span",{className:a4},(0,p.tx)("inspect_panel.property.selected",{numberOfItems:e.length})),a.createElement("div",{className:a1}),a.createElement(lm,null))):null}function lg({lastViewTimestamp:e,isDetached:t}){let n=(0,tz.VI)(),l=(0,tI.ei)(n?.id),r=(0,i.md)(tH.d),o=(0,tI.L)(n?.id,e,r),{versions:s,versionsQueryLoaded:c}=(0,tq.DS)(n?.id),d=!c||0===s.length||!l,u=(0,tK.i)(n),m=function(){let e;let t=(0,tY.kl)("overrides");if(!t||(0,tW.gl)(t))return null;let n=t.isPrimary,a=t.overriddenProperties,l=new Set;if(a.forEach(e=>{let t=aK(e);t&&l.add(t)}),0===l.size)return null;let r=Array.from(l).sort(aU).map(e=>{switch(e){case"color":return(0,p.t)("dev_handoff.overrides.color");case"border":return(0,p.t)("dev_handoff.overrides.border");case"text":return(0,p.t)("dev_handoff.overrides.text");case"effect":return(0,p.t)("dev_handoff.overrides.effect");case"layout":return(0,p.t)("dev_handoff.overrides.layout");case"shape":return(0,p.t)("dev_handoff.overrides.shape");case"style":return(0,p.t)("dev_handoff.overrides.style")}}).filter(aB.t),i=n?(0,p.t)("dev_handoff.overrides.instance"):(0,p.t)("dev_handoff.overrides.layer");switch(r.length){case 1:return(0,p.t)("dev_handoff.overrides.hint_one",{property:r[0],layerType:i});case 2:e=(0,p.t)("dev_handoff.overrides.properties2",{prop1:r[0],prop2:r[1]});break;case 3:e=(0,p.t)("dev_handoff.overrides.properties3",{prop1:r[0],prop2:r[1],prop3:r[2]});break;default:e=(0,p.t)("dev_handoff.overrides.properties_more",{prop1:r[0],prop2:r[1],prop3:r[2],count:r.length-3})}return(0,p.t)("dev_handoff.overrides.hint",{layerType:i,properties:e})}();if(!n||!u)return null;let f=!!l?.lastEditedAt&&(!d||d&&!!l?.createdAt),g=!!m,h=t||!d||g;return a.createElement("div",{className:"header--timestampContainer--ppFUv dev_handoff_nodes_panel--timestampContainer--dGH49"},a.createElement(a.Fragment,null,a.createElement(ld,{state:o,backgroundState:null}),f?d?a.createElement("span",{className:a8},(0,p.tx)("dev_handoff.nodes_panel.created",{at:(0,tF.A)(l?.createdAt).fromNow()})):a.createElement("span",{className:a8},(0,p.tx)("dev_handoff.nodes_panel.edited",{at:(0,tF.A)(l?.lastEditedAt).fromNow()})):a.createElement("span",{className:a8},"-"),a.createElement("div",{className:a1})),a.createElement(lu,{disabled:!h,frameId:n.id,label:h?(0,p.t)("inspect_panel.history.compare_changes"):(0,p.t)("inspect_panel.history.no_changes"),compareVersions:!d,compareDetachedComponent:t,compareOverrides:g,overridesText:m}))}function lh({selection:e}){let t=(0,s.wS)(),n=(0,ei.R)(e=>e.mirror.appModel.activeCanvasEditModeType);if(e.isReadyForDev)return a.createElement(a.Fragment,null,a.createElement(tM.O,{className:a5}),a.createElement("span",{className:a4},(0,p.tx)("dev_handoff.status.ready_for_dev")));if(e.isCompleted)return a.createElement(a.Fragment,null,a.createElement(tR.l,{className:a5}),a.createElement("span",{className:a4},(0,p.tx)("dev_handoff.status.completed")));let l=e.isSymbol||e.isDetached;return a.createElement(a.Fragment,null,a.createElement(tZ.Bf,{className:l?a3:"header--layerIcon--uDEQt header--icon--IGzM0",guid:e.id,editModeType:n,detachedInfo:t}),a.createElement("span",{className:l?"header--layerTypeSymbol--cMeH3 text--fontPos11--2LvXf text--_fontBase--QdLsd":a4,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":e.typeTooltip},e.isDetached?a.createElement(lc,null):e.type))}function l_(e){let t=(0,tz.T1)(),n=(0,l.wA)(),r=t?.name?.trim(),i=(0,t$.Cj)(r),o=(0,t2.R)(),{getMaybeEnabledItem:s}=(0,t3.nq)();if(!t)return null;let c=function(e,t=""){let{backingSymbolName:n}=e,l=t?.trim()||(0,p.t)("fullscreen.layer_panel.layer"),r=!t?.trim();return a.createElement("span",{className:D()({"header--fallbackLayerName--mPaXg":r})},n&&n!==t?(0,p.tx)("inspect_panel.components.name",{instance:l,component:a.createElement("span",{className:"header--backingSymbolName--get70"},n.trim())}):l)}(t,r);return a.createElement(t0.VZ,{recordingKey:"layerName",formattedHeader:a.createElement("div",{className:a0},a.createElement(P.E,{className:D()(a2,{"header--copyableLayerName--oMhyj":!!r}),actionOnPointerDown:!0,onClick:i,"aria-label":(0,p.t)("dev_handoff.inspect_panel.copy_layer_name")},c),a.createElement("div",{className:a$},a.createElement(aR,null),o&&(0,eo.Te)().filter(s).map(e=>a.createElement(t5.QE,{key:e.action,item:e,numUnreadComments:0,recordingKey:"toolbarView"})),a.createElement(lp,null)))},a.createElement("div",{className:aZ},a.createElement("div",{className:"header--layerRowContainer--qqv5Y"},a.createElement(lh,{selection:t})),t.link&&a.createElement("button",{className:"header--linkRow--QPcNR text--fontPos11--2LvXf text--_fontBase--QdLsd header--layerRowContainer--qqv5Y",onClick:()=>{n(tV.S({url:t.link}))}},a.createElement(tp.B,{svg:li.A,className:"header--linkIcon--9v4Qb"}),a.createElement("span",{className:"header--link--qUrbC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.link)),!!t.libraryName&&a.createElement("div",{className:"header--libraryNameRow--DjJXj text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa header--layerRowContainer--qqv5Y"},a.createElement(tp.B,{svg:ll.A}),a.createElement("span",{className:"header--libraryName---uTzg"},t.libraryName)),a.createElement(lg,{lastViewTimestamp:e.lastViewTimestamp,isDetached:t.isDetached})))}var lE=n(704513),ly=n.n(lE),lv=n(444736),lb=n(187796),lw=n(92597),lN=n(594901),lx=n(297281),lk=n(712685);let lI="box_model--imageBox--XoIJh box_model--_border--PCElt box_model--_layoutFlex--pL0jp text--fontPos11--2LvXf text--_fontBase--QdLsd",lT="box_model--variableValueContainer--oxu-X box_model--_valueContainerBase--pMK2K",lC="box_model--valueNonValid--H7q6F",lS="box_model--value--1jh75 ellipsis--ellipsis--Tjyfa",lA="box_model--innerSizeBoxValue--l-qDX ellipsis--ellipsis--Tjyfa",lP="box_model--variable--GK5G3",lL="box_model--innerSizeBoxVariable--Lw6dO",lO="box_model--gapLine--BM-H0",lD="box_model--gapVertical--t9aDg box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",lM="box_model--gapHorizontal--gLY-T box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",lR="box_model--gapValueContainer--GsVpn box_model--_layoutFlex--pL0jp",lF="box_model--gapValue--sE-2O",lB=a.createContext(!1),lK=()=>a.useContext(lB);function lU({fillContainer:e=!1,loadingState:t=!1}){let{distance:n,border:l,radius:r,padding:i,width:o,height:s}=(0,lb.$G)(),c=(0,lv.aI)(),d=!t&&(0,lv.fk)(c);return a.createElement(t0.VZ,{hideHeader:!0,padding:t0.UZ.NONE,noBorder:!0,recordingKey:"boxModel"},a.createElement(lB.Provider,{value:t},a.createElement(lz,{topDistance:n.top,bottomDistance:n.bottom,fillContainer:e},a.createElement(l$,null),a.createElement(lq,{position:"vertical",value:n.top,dataTestIndex:0}),a.createElement(l$,null),a.createElement(lq,{position:"horizontal",value:n.left,dataTestIndex:0}),a.createElement(lH,{radius:r},a.createElement(lJ,{value:r.topLeft,vertical:"top",horizontal:"left",variableConsumptionField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS"}),a.createElement(lX,null,a.createElement(lj,null,(0,p.tx)("dev_handoff.box_model.border")),a.createElement(lZ,{value:l.top,dataTestId:"layoutBorderTop"})),a.createElement(lJ,{value:r.topRight,vertical:"top",horizontal:"right",variableConsumptionField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS"}),a.createElement(lZ,{value:l.left,isVertical:!0,dataTestId:"layoutBorderLeft"}),d?a.createElement(lV,{width:o,height:s,assetType:c}):a.createElement(lW,null,a.createElement(l$,null),a.createElement("div",{className:"box_model--paddingTopMiddle--GiNbR"},a.createElement("div",{className:"box_model--paddingLabel--MsGiF"},a.createElement(lj,null,(0,p.tx)("dev_handoff.box_model.padding"))),t?a.createElement(l$,null):a.createElement(lZ,{value:i.top,dataTestId:"layoutPaddingTop",variableConsumptionField:"STACK_PADDING_TOP"})),a.createElement(l$,null),t?a.createElement(l$,null):a.createElement(lZ,{value:i.left,isVertical:!0,dataTestId:"layoutPaddingLeft",variableConsumptionField:"STACK_PADDING_LEFT"}),a.createElement(lY,{width:o,height:s}),t?a.createElement(l$,null):a.createElement(lZ,{value:i.right,isVertical:!0,dataTestId:"layoutPaddingRight",variableConsumptionField:"STACK_PADDING_RIGHT"}),a.createElement(l$,null),t?a.createElement(l$,null):a.createElement(lZ,{value:i.bottom,dataTestId:"layoutPaddingBottom",variableConsumptionField:"STACK_PADDING_BOTTOM"}),a.createElement(l$,null)),a.createElement(lZ,{value:l.right,dataTestId:"layoutBorderRight",isVertical:!0}),a.createElement(lJ,{value:r.bottomLeft,vertical:"bottom",horizontal:"left",variableConsumptionField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS"}),a.createElement(lZ,{value:l.bottom,dataTestId:"layoutBorderBottom"}),a.createElement(lJ,{value:r.bottomRight,vertical:"bottom",horizontal:"right",variableConsumptionField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"})),a.createElement(lq,{position:"horizontal",value:n.right,dataTestIndex:1}),a.createElement(l$,null),a.createElement(lq,{position:"vertical",value:n.bottom,dataTestIndex:1}),a.createElement(l$,null),a.createElement(l0,null))))}function lz({topDistance:e,bottomDistance:t,children:n,fillContainer:l}){let r=!lK()&&(!e||!e.distance)&&(!t||!t.distance);return a.createElement("div",{className:D()("box_model--gapBox--6aFgq common--well--J0WtH",r&&"box_model--gapBoxNoVertical--WqZQf",l&&"box_model--fillContainer--TZUSv")},n)}function lH({radius:e,children:t}){let n=lK();return a.createElement("div",{className:"box_model--borderBox--Ta011 box_model--_border--PCElt",style:n?{borderRadius:16}:(0,lb.F9)(e)},t)}function lV({width:e,height:t,assetType:n}){let l=(0,lb.lK)();return l?a.createElement(lG,{image:l}):a.createElement("div",{className:lI},a.createElement(lv.B7,{assetType:n,pxWidth:e,pxHeight:t,shouldShowTypeLabel:!0,dataTestId:"boxModelAssetDetails"}))}function lG({image:e}){let t=(0,b.tS)(),[n,l]=a.useState(null),r=(0,lN.h)();a.useEffect(()=>{r||(0,lx.tW)({paint:e,fileKey:t}).then(e=>{l(e)})},[e,t,r]);let i=a.createElement(a.Fragment,null,a.createElement("span",{className:"box_model--imageFileName--uK9h5 ellipsis--ellipsis--Tjyfa"},(0,lx.Rh)(e),"."),a.createElement("span",{className:"box_model--imageFileType--SYUTK"},(0,lx.x$)(e)));return n?a.createElement("div",{className:lI},a.createElement("a",{className:"box_model--imageLink--4kUYb text--fontPos11--2LvXf text--_fontBase--QdLsd blue_link--blueLink--9rlnd",href:n,target:"_blank",rel:"noopener"},i)):a.createElement("div",{className:lI},i)}function lW({children:e}){let t=lK();return a.createElement("div",{className:D()("box_model--paddingBox--x3ddV box_model--_borderStrong--VLX4w",{"box_model--paddingBoxGrayscale--SAsVz":t})},e)}function lY({width:e,height:t}){let n=l2(l1(e)),l=l2(l1(t)),{variable:r,variableDisplayName:i}=(0,ar.xp)("WIDTH",e),{variable:o,variableDisplayName:s}=(0,ar.xp)("HEIGHT",0),c=(0,t$.Cj)(n),d=(0,t$.Cj)(l);return lK()?a.createElement("div",{className:"box_model--innerSizeBoxGrayscale--geDzo box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"}):a.createElement("div",{className:"box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"},a.createElement(P.E,{className:D()(lA,{[lL]:!!r,[lP]:!!r||!!o}),onClick:c,htmlAttributes:{"data-testid":"layoutWidth"}},r?a.createElement(lk.w,{isNarrow:!0,text:n.toString(),tooltip:i}):n),a.createElement("span",{className:"box_model--innerSizeBoxX--pxeFw"},"\xd7"),a.createElement(P.E,{className:D()(lA,{[lL]:!!o,[lP]:!!r||!!o}),onClick:d,htmlAttributes:{"data-testid":"layoutHeight"}},o?a.createElement(lk.w,{isNarrow:!0,text:l.toString(),tooltip:s}):l))}function lX({children:e}){return a.createElement("div",{className:"box_model--labelAndValue--tkNzd"},e)}function lj({children:e}){return a.createElement("div",{className:"box_model--label--A5RBK text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e)}function lq({position:e,dataTestIndex:t,value:n}){let l=l1(n?.distance),r=n?.type??"distance",i=(0,t$.Cj)(l);return lK()?a.createElement("div",{className:D()({[lD]:"vertical"===e,[lM]:"horizontal"===e,"box_model--unrealGap--XhkPS":!0})},a.createElement("div",{className:lO}),a.createElement("div",{className:lR},a.createElement("span",{className:lF},"\xa0"))):(0,lb.u9)(l)?a.createElement("div",{className:D()({[lD]:"vertical"===e,[lM]:"horizontal"===e,"box_model--paddingGap--Ca1Vq":"padding"===r,"box_model--spacingGap--PWtB6":"spacing"===r,"box_model--distanceGap--ophi6":"distance"===r})},a.createElement("div",{className:lO}),a.createElement(P.E,{className:lR,onClick:i,htmlAttributes:{"data-testid":`layoutGap${ly()(e)}${t}`}},a.createElement("span",{className:lF},l))):a.createElement(l$,null)}function lQ({value:e,variableConsumptionField:t}){let n=l1(e),l=(0,lb.u9)(n),{variable:r,variableDisplayName:i,isSuggested:o}=(0,ar.xp)(t,e),s=(0,t$.Cj)(n),c=n;return r&&n&&(l||!o)&&(c=a.createElement(lk.w,{isNarrow:!0,text:l?n:"0",tooltip:i})),{isValid:l,valueElement:c,displayValue:n,copyValue:s}}function lJ({vertical:e,horizontal:t,value:n,variableConsumptionField:l}){let r;let i=(0,tP.v4)(),o=(0,lw.QO)(i,n),{isValid:s,valueElement:c,displayValue:d}=lQ({value:n,variableConsumptionField:l}),u=lK();"top"===e&&"left"===t&&(r="box_model--borderTopLeft--Yitgl"),"top"===e&&"right"===t&&(r="box_model--borderTopRight--Jtfzn"),"bottom"===e&&"left"===t&&(r="box_model--borderBottomLeft--aRpWV"),"bottom"===e&&"right"===t&&(r="box_model--borderBottomRight--Rkq3s");let m=i.id===tP.uz||i.id===tP.MT?n:o,p=d?(0,lb.EN)(e,t,m):{},f=(0,t$.Cj)(m),g=lP?lT:"box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K",h=Math.min(n??0,lb.Tk-4);return a.createElement(P.E,{style:{"--temp-border-radius":`${h}px`},className:D()(g,r),onClick:s?f:void 0,htmlAttributes:{"data-testid":`layoutBorderRadius${ly()(e)}${ly()(t)}`}},a.createElement("span",{className:D()(s?lS:lC,s&&"box_model--borderRadiusValue--tDyKD ellipsis--ellipsis--Tjyfa")},u?" ":c),a.createElement("div",{className:s?"box_model--borderRadiusHighlight--bd9Sc":"box_model--borderRadiusNonValid--qTtSU",style:p,"data-testid":`layoutBorderRadius${ly()(e)}${ly()(t)}Highlight`}))}function lZ({value:e,dataTestId:t,variableConsumptionField:n,isVertical:l}){let{isValid:r,valueElement:i,copyValue:o}=lQ({value:e,variableConsumptionField:n??"MISSING"}),s=lP?lT:l?"box_model--valueContainerVertical--AtQ8B box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K":"box_model--valueContainerHorizontal--BqOkd box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K";return r?a.createElement(P.E,{className:s,onClick:o},a.createElement("span",{className:lS,"data-testid":t},i)):a.createElement("div",{className:s},a.createElement("span",{className:lC,"data-testid":t},i))}function l$(){return a.createElement("div",null)}function l0(){let e=(0,t$.Cj)("box-sizing: border-box"),t=(0,tP.v4)();return lK()||t.id!==tP.uz?null:a.createElement(P.E,{className:"box_model--borderBoxMessage--2jJc- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.box_model.border-box-tooltip"),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0}},(0,p.tx)("dev_handoff.box_model.border-box"))}function l1(e){let t=(0,tP.v4)(),n=(0,lw.QO)(t,e,lb.B5);return void 0===e?"-":n}function l2(e){return!e||e.startsWith("-")?"0":e}var l3=n(426299),l5=n(910769),l4=n(381028),l7=n(456363),l8=n(581250);n(284321),n(207584);var l6=n(173454),l9=n(507956),re=n(428877);let rt=(e,t)=>e.name.localeCompare(t.name);function rn(e){let{styles:t}=(0,i.md)(l7.gq),n=(0,l.d4)(e=>e.library),a=t.map(e=>{let t=(0,nl.Gp)(e.key,e.guids,n);return t&&t.kind!==l6.AT.DANGLING?{...e,...t.value,styleNodeId:e.guids[0]}:null}).filter(aB.t).filter(t=>t?.style_type===e).sort((e,t)=>e.styleName.localeCompare(t.styleName));return(0,l5.y)({items:a,getShowMoreLabel:e=>(0,p.t)("dev_handoff.styles.show_more",{count:e}),shouldResetOnSelectionChange:!0,trackingProperties:{name:"Selection styles panel show more",resourceType:e,count:a.length}})}var ra=n(162555),rl=n(750029),rr=n(56285),ri=n(393062),ro=n(836283),rs=n(7959),rc=n(137906);function rd(){let{selectionVariables:e,selectionStyles:t,selectionValues:n}=function(){let{selectedColors:e,childrenColors:t,selectedStyles:n,childrenStyles:l,library:r,sceneGraph:i}=(0,ei.R)(e=>({selectedColors:e.mirror.selectionPaints.paintsDirectlyOnSingleNode,childrenColors:e.mirror.selectionPaints.paints,selectedStyles:e.mirror.selectionPaints.stylesDirectlyOnSingleNode,childrenStyles:e.mirror.selectionPaints.styles,library:e.library,sceneGraph:e.mirror.sceneGraph})),o=(0,ec.NM)(),s=(0,ec.VW)(),c=(0,re.Ig)(),d=(0,t$.uQ)(),u=(0,l8.Q)(),m=(0,tP.v4)(),p=(0,l9.ks)(),f=a.useCallback((e,t)=>{let{styleKey:n,styleGUIDs:a}=e,l=(0,nl.Gp)(n,a,r);if(!l||a.length<1)return null;let o=(0,ec.Zl)(i,a[0]);if(!o)return null;let s=o.fills.map(e=>(0,re.dc)(e,t));return(0,re.rP)((0,nl.uH)(l,i),l,s,a)},[r,i]);return a.useMemo(()=>{let a=s?.childrenGuids&&s?.childrenGuids.length>0&&s?.visibleChildren||[],r=o||a.length>0,i=r?t:e,g=i.filter(({paint:e})=>!!e.colorVar&&!!e.colorVar.value).map(({paint:e})=>(0,re.dc)(e,c)),h=i.filter(({paint:e})=>!e.colorVar||!e.colorVar.value).map(({paint:e})=>(0,re.dc)(e,c)),_=(r?l:n).map(e=>f(e,c)).filter(aB.t).sort(rt);return{selectionVariables:g,selectionStyles:(0,ar.QT)(_,d,u.inspectionMode,m,p),selectionValues:h}},[s?.childrenGuids,s?.visibleChildren,o,t,e,l,n,d,u.inspectionMode,m,p,c,f])}(),i=(0,l.d4)(b.sS),o=(0,l.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:s,showMoreButton:c}=(0,l5.y)({items:[...e,...t,...n],getShowMoreLabel:e=>(0,p.t)("dev_handoff.styles.show_more_colors",{count:e})});return o||s.length?a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:a.createElement(rr.Af,{id:"handoffColorStyles"})},o&&a.createElement(rs.fI,{className:"selection_colors_panel--ignoreLimitButtonRow--loF8J"},a.createElement("div",{className:"selection_colors_panel--ignoreLimitButton--US3qr"},a.createElement(A.$n,{variant:"secondary",onClick:()=>{(0,el.sx)("Show Selection Paints For Large Selection",{fileKey:i||""}),r.Osy.ignoreLimitWhenCollectingPaints()}},(0,p.tx)("dev_handoff.selection_colors.show_colors")))),s.map((e,t)=>e.type===ro.q.STYLE?a.createElement(rm,{key:t,colorStyle:e}):a.createElement(rp,{key:t,colorValue:e})),c):null}function ru(e,t,n,a=1){let{a:l=1}=e;return(0,ri.q)({...e,a:l*a},t,n,{alphaInPercent:!0})}function rm({colorStyle:e}){let{name:t,dsStyle:n,styleGUIDs:l,paints:i}=e;(0,nl.w$)(n);let o=()=>r.Osy.highlightOnlySameStyleInSublayers(l),s=()=>r.Osy.highlightOnlySameStyleInSublayers([]),c=n.value;n.kind===l6.AT.DANGLING&&(c.style_type="FILL",c.node_id=n.value.node_id);let d=(0,e$.Ku)();if(1===i.length&&"SOLID"===i[0].paint.type&&i[0].paint.color&&!i[0].paint.colorVar){let{value:e,copyValue:n}=ru(i[0].paint.color,d,i[0].valueFormatter,i[0].paint.opacity);return a.createElement(rf,{displayValueLeft:t,copyValueLeft:t,displayValueRight:e,copyValueRight:n,icon:a.createElement(rc.zi,{dsStyle:c,hideNameInTooltip:!0}),onMouseEnter:o,onMouseLeave:s,dataTestId:"selectionStyleRow"})}return a.createElement("div",{onMouseEnter:o,onMouseLeave:s},a.createElement(rr.Gz,{color:e,format:d}))}function rp({colorValue:e}){let{paint:t,encodedPaint:n,valueFormatter:l}=e,i=(0,e$.Ku)(),{variable:o,variableDisplayName:s,isSuggested:c}=(0,ar._B)(t),d=()=>{r.Osy.highlightOnlySamePaintInSublayers(n)},u=()=>r.Osy.highlightOnlySamePaintInSublayers("");if(o&&s&&t.color){let e="LOCAL"===o.subscriptionStatus&&o.isSoftDeleted,{value:n,copyValue:r}=ru(t.color,i,l,t.opacity);return a.createElement(rf,{isVariable:!c,isSuggestedVariable:c,isDeletedVariable:e,displayValueLeft:s,copyValueLeft:s,displayValueRight:n,copyValueRight:r,icon:a.createElement(rl.J,{paint:t,tooltip:o.description}),onMouseEnter:d,onMouseLeave:u,variableId:o.node_id})}return a.createElement("div",{onMouseEnter:d,onMouseLeave:u},a.createElement(rr.DP,{formattableColor:e,format:i}))}function rf(e){let{icon:t,isVariable:n,isSuggestedVariable:l,isDeletedVariable:r,onMouseEnter:i,onMouseLeave:o}=e,s=a.useRef(null),[c,d]=a.useState(!1),{isDetailModalShownForCurrentRow:u,toggleVariableDetailModal:m}=(0,l4.i)(s,e.variableId),f=(0,t$.Cj)(e.copyValueLeft),g=(0,t$.Cj)(e.copyValueRight),[h,_]=a.useState(!1),E=n&&(c||u);return a.createElement("div",{onMouseEnter:()=>{i?.(),d(!0)},onMouseLeave:()=>{o?.(),d(!1)},className:"selection_colors_panel--styleRow--X7gbD","data-fullscreen-intercept":!0,"data-testid":e.dataTestId,ref:s},a.createElement(P.E,{className:"selection_colors_panel--styleNameAndIcon--stVO4 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:f,htmlAttributes:{onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1)}},t&&a.createElement("div",{className:"selection_colors_panel--styleIcon--eaifW"},t),n||l?a.createElement(lk.w,{text:e.displayValueLeft,isDeleted:r,containerClassName:"selection_colors_panel--variablePill--0dLco",disableHover:!0,isHovered:h,isInferred:l,tooltip:l?(0,p.t)("dev_handoff.variables.inferred_color"):void 0}):a.createElement("div",{className:"selection_colors_panel--styleName--Nny-W text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.displayValueLeft)),(0,eE.kc)().dt_dev_view_variables&&E&&a.createElement(ra.WQ,{onClick:m,toggled:u}),e.displayValueRight&&a.createElement(a.Fragment,null,a.createElement("div",{className:"selection_colors_panel--spacer---6Fvk"}),a.createElement(P.E,{className:"selection_colors_panel--styleValue--BvNuA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",onClick:g},e.displayValueRight)))}var rg=n(818),rh=n(735056),r_=n(354711),rE=n(252828),ry=n(320986);let rv="right_panel--rowWithIcon--f3pwG",rb="right_panel--layerIcon--9-ijp";var rw=n(522157),rN=n(968109);let rx=[{prefix:"display:",width:35},{prefix:"height:",width:35},{prefix:"padding:",width:145},{prefix:"justify-content:",width:100},{prefix:"align-items:",width:47},{prefix:"gap:",width:47},{prefix:"flex:",width:47}];function rk(){return a.createElement("code",{className:"right_panel--generatedCode--4M5KP code_panel--generatedCode--XGoAV code_panels_shared--code--VPQ05",style:{minWidth:"100%",whiteSpace:"normal"}},rx.map(({prefix:e,width:t},n)=>a.createElement("div",{key:n,className:"right_panel--codeLine--YFK5t"},a.createElement("div",null,e),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,style:{width:t,height:10}}))))}let rI=[{width:97,color:500},{width:80,color:400},{width:120,color:200}],rT=[{width:97},{width:80},{width:120}],rC={inspectionMode:"code",inspectionModes:["code"],setInspectionMode:m.lQ,supportsAlternativeUnits:!0,preferenceOptions:[],preferences:{},codeLanguageApi:{codeLanguage:{type:"first-party",id:tP.uz},onCodeLanguageChange:m.lQ,activeCodegenPlugin:null,codeLanguageOptions:[],formatter:{format:e=>(0,p.t)("dev_handoff.code.lang_css")}}};function rS(){let e="dark"===(0,K.DP)()?"dark":"light",t="ui3"===(0,L.DP)().version,n=(0,rg.b)();return a.createElement("div",{className:D()("right_panel--drillDownContainer--FTkvu",ry.Lp,{[ry.Ph]:n}),"data-testid":"dev-mode-paywall-right-panel"},a.createElement("div",{className:D()(ry.ux,{[ry.Ph]:n})},a.createElement("div",{className:D()("right_panel--panelContainer--BwtVM dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",ry.KE,tf.Dm,{[ry.Ph]:n})},t&&a.createElement(r_.v2,null),a.createElement("div",{className:R.cx.wFull.flex.flexRow.flexShrink0.itemsCenter.borderBox.bSolid.bb1.pr8.colorBorder.justifyBetween.colorBg.$},a.createElement("div",{className:R.cx.flex.flexRow.itemsStart.hFull.$},a.createElement(rh.y,{withBorder:!1},a.createElement("div",{className:"right_panel--tabActive--X7gwU pages_panel--tabActive--BitzC pages_panel--tab--Uge5B","data-label":(0,p.t)("dev_handoff.tab.inspect")},(0,p.tx)("dev_handoff.tab.inspect")),a.createElement("div",{className:"right_panel--tab--qt6mo pages_panel--tab--Uge5B","data-label":(0,p.t)("dev_handoff.tab.plugins")},(0,p.tx)("dev_handoff.tab.plugins"))),t&&a.createElement(rE.HT,{recordingKey:"propertiesPanel.zoomMenu"}))),a.createElement("div",{className:"right_panel--inspectPanelContainer--ZujXg inspect_panel--inspectPanelContainer--SZhfY"},a.createElement(t0.VZ,{recordingKey:"paywall-header",formattedHeader:a.createElement("div",{className:a0},a.createElement("div",{dir:"auto",className:a2},(0,p.tx)("dev_handoff.paywall.panel.button")),a.createElement("div",{className:a$}))},a.createElement("div",{className:aZ},a.createElement("div",{className:R.cx.flex.flexColumn.gap8.wFull.$},a.createElement("span",{className:R.cx.flex.flexRow.gap8.itemsCenter.wFull.$},a.createElement("span",{className:rb},a.createElement(tC.t,{svg:rN.A})),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),a.createElement("span",{className:R.cx.flex.flexRow.justifyBetween.itemsCenter.wFull.$},a.createElement("span",{className:R.cx.flex.flexRow.gap8.itemsCenter.$},a.createElement("span",{className:rb},a.createElement(ld,{state:tI.Uy.RECENTLY_EDITED,backgroundState:null})),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0,style:{width:68,height:8}})),a.createElement("div",{className:D()(a6,"header--layerCompareLink--pHd1V text--fontPos11--2LvXf text--_fontBase--QdLsd","header--layerCompareLinkNoTimestamp--FnSP9 text--fontPos11--2LvXf text--_fontBase--QdLsd")},a.createElement("span",{className:D()(a7)},(0,p.tx)("inspect_panel.history.compare_changes")),t?a.createElement(tN.r,null):a.createElement("div",{className:a9},a.createElement(tp.B,{svg:lt.A}))))))),a.createElement(t0.VZ,{recordingKey:"paywall-devresources",title:(0,p.t)("dev_handoff.developer_related_links.links"),headerChildren:a.createElement(tx.e,null)},a.createElement("div",{className:"right_panel--devResourcesColumn--8ljG6"},a.createElement("div",{className:rv},a.createElement("img",{alt:"",src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"}),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),a.createElement("div",{className:rv},a.createElement(tS.f,null),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})))),a.createElement("div",{className:R.cx.wFull.h4.$}),a.createElement(l3.n2,{preferencesApi:rC}),a.createElement(lU,{loadingState:!0}),a.createElement(t0.VZ,{hideHeader:!0,recordingKey:"paywall-code"},a.createElement(tA.ue,{header:a.createElement(tA.n2,{type:"default",actions:a.createElement(tA.rZ,{"aria-label":(0,p.t)("inspect_panel.copy")},a.createElement(tT.U,{svg:rw.A},a.createElement(tk.X,null))),title:(0,p.t)("inspect_panel.properties.layout")}),content:a.createElement(rk,null),shouldShowMore:!1,showMoreLinesCount:0,onShowMore:m.lQ,leftGutter:(0,tA.vl)(rx)})),a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.selection_colors"),recordingKey:"paywall-selection-colors",additionalHeaders:a.createElement("div",{className:"right_panel--colorHeader--mlxwp"},"Hex",a.createElement(tp.B,{svg:lt.A}))},rI.map(({width:t,color:n},l)=>a.createElement(rf,{key:l,icon:a.createElement("div",{className:"right_panel--colorThumbnail--3-I9T",style:{backgroundColor:ac[`grey_${n}_${e}`]}}),displayValueLeft:a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,style:{width:t}}),displayValueRight:a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,style:{width:50}})}))),a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.assets"),recordingKey:"paywall-assets"},rT.map(({width:e},t)=>a.createElement("div",{key:t,className:"right_panel--assetRow--mAxTq asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(tm.Qp,{animationType:tm.JR.NO_SHIMMER,className:"right_panel--assetLoadingPreview--hjUOI"}),a.createElement("div",{className:"right_panel--assetDetails--Q51H5 asset_panel--assetDetails--xfCbP"},a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,style:{width:e,height:8}}),a.createElement(tm.Wi,{animationType:tm.JR.NO_SHIMMER,style:{width:60,height:8}})))))))),a.createElement("div",{className:"right_panel--transparentPanelScrim--o6uwc"}))}var rA=n(768137),rP=n(946689);let rL="vscode_paywall--vscodePaywallBody--pUvWv text--fontPos13--xW8hS text--_fontBase--QdLsd",rO="vscode_paywall--upgradeButton--bh7d2";var rD=n(462304);function rM({fileKey:e,teamId:t,folderId:n,parentOrgId:l,canAccessDevModeEntryPoint:r}){let i=ej(),o=[(0,p.t)("dev_handoff.paywall.vscode.list1"),(0,p.t)("dev_handoff.paywall.vscode.list2"),(0,p.t)("dev_handoff.paywall.vscode.list3"),(0,p.t)("dev_handoff.paywall.vscode.list4")],s=a.useCallback(()=>{(0,el.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Upgrade CTAAAA",fileKey:e,fileTeamId:t,fileParentOrgId:l,containingFolderId:n},{forwardToDatadog:!0}),(0,ng.Qn)(`/file/${e}?mode=dev&dev-mode-features-modal=plugins_extensions`)},[e,n,l,t]),c=a.useCallback(()=>{(0,el.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Open docs",fileKey:e,fileTeamId:t,fileParentOrgId:l,containingFolderId:n},{forwardToDatadog:!0}),(0,ng.Qn)("https://help.figma.com/hc/en-us/articles/15023121296151-Figma-for-VS-Code")},[e,n,l,t]),d=a.useCallback(()=>{(0,el.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Play Video",fileKey:e,fileTeamId:t,fileParentOrgId:l,containingFolderId:n},{forwardToDatadog:!0})},[e,n,l,t]),u=a.useCallback(()=>{(0,el.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Finish Video",fileKey:e,fileTeamId:t,fileParentOrgId:l,containingFolderId:n},{forwardToDatadog:!0})},[e,n,l,t]);return a.createElement("div",{className:"vscode_paywall--wrapper--65Gba"},a.createElement("div",{className:R.cx.flex.maxWFull.wFull.hFull.$},a.createElement("div",{className:R.cx.flex.flexGrow0.flexColumn.pl32.pt32.$},a.createElement(tp.B,{dataTestId:"logo",title:"logo",ariaLabel:"logo",svg:rD.A,useOriginalSrcFills_DEPRECATED:!0})),a.createElement("div",{className:R.cx.flex.flexGrow1.flexColumn.justifyCenter.alignTop.pt32.pl20.pr32.pb32.$},a.createElement("div",{className:"vscode_paywall--vscodePaywallTitle---OrBg text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.paywall.vscode.title")),a.createElement(rP.Kz,{direction:"y",multiple:1}),a.createElement("div",{className:rL},(0,p.tx)("dev_handoff.paywall.vscode.description")),a.createElement(rP.Kz,{direction:"y",multiple:3}),a.createElement("ul",{className:"vscode_paywall--vscodePaywallList--egn63"},o.map((e,t)=>a.createElement("li",{key:t,className:"vscode_paywall--vscodePaywallListItem--Es3mO text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))),a.createElement(rP.Kz,{direction:"y",multiple:3}),a.createElement("div",{className:rL},r?(0,p.tx)("dev_handoff.paywall.vscode.need_access",{devMode:a.createElement("strong",null,(0,p.tx)("dev_handoff.paywall.vscode.need_access_dev_mode"))}):(0,p.tx)("dev_handoff.paywall.vscode.no_access")),a.createElement(rP.Kz,{direction:"y",multiple:3}),a.createElement("div",{className:"vscode_paywall--vscodePaywallButtons--JWqPr"},r&&i?a.createElement(rA.$$,{className:rO,disabled:!0},(0,p.tx)("dev_handoff.paywall.request_pending")):a.createElement(rA.$$,{className:rO,onClick:s,disabled:!r},(0,p.tx)("dev_handoff.paywall.get_dev_mode")),a.createElement(rP.nR,{className:"vscode_paywall--docsButton--ql7Fg",onClick:c},(0,p.tx)("dev_handoff.paywall.vscode.view_button"))),a.createElement(rP.Kz,{direction:"y",multiple:5}),a.createElement("div",{className:"vscode_paywall--vscodeVideoDescription--b-s1K text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.paywall.vscode.video")),a.createElement(rP.Kz,{direction:"y",multiple:1}),a.createElement("div",{className:"vscode_paywall--vscodeVideoContainer--VcPIA"},a.createElement("video",{controls:!0,className:"vscode_paywall--vscodeVideo--sEOiZ",src:"https://static.figma.com/uploads/vscode_intro_1200.mp4",onPlay:d,onEnded:u})))))}function rR(){let e=(0,b.q5)(),t=(0,o.U4)();return a.createElement(e2.M,{isShowing:!0},a.createElement(rM,{fileKey:e?.key||"",teamId:e?.teamId||"",parentOrgId:e?.parentOrgId||"",folderId:e?.folderId||"",canAccessDevModeEntryPoint:t}))}function rF(){let e=(0,l.wA)(),t=(0,e1._6)(),n=a.useMemo(()=>e0.z4.getIsExtension(),[]),r=(0,l.d4)(e=>e.selectedView.devModeSupermodalTab),o=function(e){let t=(0,l.wA)(),n=(0,eu.U)();return a.useCallback(()=>{n("Dev Mode Paywall clicked",{type:"Dev Mode Upsell",entryPoint:e},{forwardToDatadog:!0}),t(ek.to({type:eZ,data:{initialFeatureTab:e}}))},[t,e,n])}(r),s=(0,_.W)();a.useEffect(()=>{if(r){o();let n={...t,devModeSupermodalTab:void 0};e(ex.$T(n))}},[r,e,o,t]),a.useEffect(()=>{(0,e$.UK)().sidebarSplitPosition.set(240),(0,e$.UK)().devHandoffInspectSplitPosition.set(320)},[]),ed({doReport:!1});let[c,d]=(0,i.fp)(eG.t);return(a.useEffect(()=>()=>d(eG.c.DEFAULT),[d]),n)?a.createElement(rR,null):a.createElement(B.fu,{name:"Dev Mode Paywall",properties:s,enabled:s?.gracePeriod!==void 0},a.createElement(tu,null),a.createElement(tw,null),a.createElement(rS,null))}var rB=n(725561),rK=n(385326),rU=n(619912),rz=n(213190),rH=n(698993),rV=n(100197),rG=n(262151),rW=n(18993),rY=n(369351),rX=n(402609),rj=n(101505),rq=n(251960),rQ=n(594524),rJ=n(683694),rZ=n(916108),r$=n(340514),r0=n(844425),r1=n(433195);let r2=(0,f.r1)(r1.V1),r3=(0,f.r1)(r1.WX);function r5(){let e=(0,l.wA)(),t=(0,tG.GS)(),n=(0,i.md)(rJ.wg),r=(0,np.aV)(),o=(0,i.md)(r3),s=(0,i.md)(r2),{uniqueId:c,show:d,complete:u,isShowing:m}=(0,y.e)({overlay:I.kc4,priority:N.N.SECONDARY_MODAL+1},[o,s]),f=a.useCallback(()=>{!r&&n&&d({canShow:(e,t)=>e&&!t})},[r,d,n]);function g(){e(Z.b({[r1.V1]:!0})),u()}a.useEffect(()=>{t||f()},[f,t]),(0,rq.E)(c,(0,r0.w)("dev"),()=>{f()}),a.useEffect(()=>{"loaded"===s.status&&s.data&&u()},[s,u]);let h=(0,rQ.A)({numSteps:2,onComplete:g});return(0,rq.E)(c,"action_set_tool_annotate",()=>{m&&0===h.currentStep&&h.next()}),a.createElement(rZ.U,{currentStep:h.currentStep,isShowing:m},a.createElement(r$.rq,{emphasized:!0,isShowing:m,trackingContextName:`${r1.V1}_measurements`,onClose:g,targetKey:"tool-measurements-onboarding",title:(0,p.tx)("dev_handoff.annotations_tools_overlay.measurements.title"),description:(0,p.tx)("dev_handoff.annotations_tools_overlay.measurements.description"),primaryCta:{label:(0,p.tx)("rcs.rcs_shared.next"),type:"button",onClick:h.next,ctaTrackingDescriptor:rj.c.NEXT},stepCounter:{stepNum:1,totalNumSteps:2}}),a.createElement(r$.rq,{emphasized:!0,isShowing:m,trackingContextName:`${r1.V1}_annotations`,onClose:g,targetKey:"tool-annotations-onboarding",title:(0,p.tx)("dev_handoff.annotations_tools_overlay.annotations.title"),description:(0,p.tx)("dev_handoff.annotations_tools_overlay.annotations.description"),primaryCta:{label:(0,p.tx)("rcs.rcs_shared.done"),type:"button",onClick:h.next,ctaTrackingDescriptor:rj.c.DONE},stepCounter:{stepNum:2,totalNumSteps:2}}))}var r4=n(100303),r7=n(137345),r8=n(563814),r6=n(593400),r9=n(139689),ie=n(893281),it=n(400466),ia=n(723325),il=n(896474),ir=n(718039),ii=n(979385),io=n(317299),is=n(370934),ic=n(909999),id=n(730378),iu=n(973149),im=n(638311),ip=n(205135),ig=n(76154);let ih="configuration_wizard--step--9zx-B",i_="configuration_wizard--buttonRow--2GlLI",iE="configuration_wizard--spacer--LCRlq",iy="configuration_wizard--preferenceOptionsGroup--T5b2t",iv="configuration_wizard--unitOption--R7eMs configuration_wizard--preferenceOption--OkUN2",ib="configuration_wizard--selectedPreference--K6Psv",iw="configuration_wizard--integrationsCard--aup-J configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",iN="configuration_wizard--unitText--PiILT",ix="configuration_wizard--preferenceSubheader--orNpN text--fontPos11--2LvXf text--_fontBase--QdLsd",ik="configuration_wizard--preferenceTitle--lA1Na text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",iI="configuration_wizard--unitRadioOption--YokOy",iT="configuration_wizard--selectedRadioOption--i6PrC",iC="configuration_wizard--stepHeading--b5Yv4 text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",iS="configuration_wizard--stepDescription--uSn6A text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",iA="configuration_wizard--option--I5GPA",iP="configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",iL="configuration_wizard--pluginListDivider--LeuxA",iO="configuration_wizard--pluginList---hNhu",iD="configuration_wizard--dividerListContainer--r4GxV",iM="configuration_wizard--pluginCta--WgsY- resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",iR="configuration_wizard--pluginTick--YbuJa",iF="configuration_wizard--spinnerContainer--2xXeT";var iB=n(377869),iK=n(990427),iU=n(387121),iz=n(538180),iH=n(225788);let iV="OTHER";function iG(){let e=(0,tP.v4)(),{codegenPlugins:t=[],loading:n}=(0,ir.n)(),l=(0,ii.gB)(),[i,o]=a.useState("first-party"===e.type?e.id:iV),[s,c]=a.useState(!1),d=!n&&t?.length>0,[u,m]=a.useState(d?iZ(t[0]):void 0);return a.useEffect(()=>{if(!u&&!n&&t?.length>0){let e=iZ(t[0]);m(e),l(e)}},[t,n,u,l]),a.createElement("div",{className:ih},a.createElement("h1",{className:iC},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.title")),a.createElement("h2",{className:iS},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.description")),a.createElement(iW,{selectedOption:i,onSelect:e=>{o(e),e===tP.p?(0,e$.UK)().colorFormat.set(r.NVY.UIColor):(0,e$.UK)().colorFormat.set(r.NVY.HEX),e===tP.p?l({type:"first-party",id:s?tP.Ap:tP.p}):e===tP.LK?l({type:"first-party",id:s?tP.NU:tP.LK}):e!==iV?l({type:"first-party",id:e}):u&&l(u)}}),i===tP.p||i===tP.LK?a.createElement(iY,{selectedLanguage:i,shouldUseLegacyMobileCodegen:s,onFrameworkSelect:e=>{c(e),i===tP.p&&l({type:"first-party",id:e?tP.Ap:tP.p}),i===tP.LK&&l({type:"first-party",id:e?tP.NU:tP.LK})}}):null,i!==iV?a.createElement(ij,null):a.createElement(iJ,{onSelect:m,loading:n,codegenPlugins:t}))}function iW({onSelect:e,selectedOption:t}){let n=(0,eE.sL)()?[{key:tP.uz,title:(0,p.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:iH.A},{key:tP.p,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:iU.A},{key:tP.LK,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:iK.A}]:[{key:tP.uz,title:(0,p.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:iH.A},{key:tP.p,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:iU.A},{key:tP.LK,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:iK.A},{key:iV,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_other"),subheader:null,svgSrc:iz.A}];return a.createElement("div",{className:iA},a.createElement("div",{className:iP},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_platform")),a.createElement(ie.z,{value:String(t),onChange:m.lQ,className:iy},n.map(({key:n,title:l,subheader:r,svgSrc:i})=>{let o=n===t,s=()=>e(n);return a.createElement("div",{tabIndex:0,role:"radio","aria-checked":o,key:n,onPointerDown:s,onKeyDown:e=>{"Enter"===e.key&&s()},className:D()("configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",o&&ib)},a.createElement(tp.B,{svg:i,className:"configuration_wizard--platformIcon--F7N2s"}),a.createElement(ie.Z,{value:String(n),_isChecked:o,_onChange:s,className:D()("configuration_wizard--radioOption--Yfm0j",o&&iT),tabIndex:-1}),a.createElement("div",{className:"configuration_wizard--preferenceText--ZqN2L"},a.createElement("div",{className:ik},l),r&&a.createElement("div",{className:ix},r)))})))}function iY({selectedLanguage:e,shouldUseLegacyMobileCodegen:t,onFrameworkSelect:n}){let l=a.useMemo(()=>e===tP.p?[{key:!1,title:(0,p.t)("dev_handoff.code.lang_swiftui"),onSelect:()=>n(!1)},{key:!0,title:(0,p.t)("dev_handoff.code.lang_uikit"),onSelect:()=>n(!0)}]:[{key:!1,title:(0,p.t)("dev_handoff.code.lang_compose"),onSelect:()=>n(!1)},{key:!0,title:(0,p.t)("dev_handoff.code.lang_android_xml"),onSelect:()=>n(!0)}],[e,n]);return a.createElement("div",{className:iA},a.createElement("div",{className:iP},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_framework")),a.createElement(ie.z,{value:String(t),onChange:m.lQ,className:iy},l.map(({key:e,title:n,onSelect:l})=>{let r=e===t;return a.createElement("div",{tabIndex:0,role:"radio","aria-checked":r,key:String(e),onPointerDown:l,onKeyDown:e=>{"Enter"===e.key&&l()},className:D()(iv,r&&ib)},a.createElement("div",{className:iN},a.createElement("div",{className:ik},n),a.createElement(ie.Z,{value:String(e),_isChecked:r,_onChange:l,className:D()(iI,r&&iT),tabIndex:-1})))})))}let iX=new iu.KD({min:.1});function ij(){let e=(0,tP.v4)(),t=(0,lw.Em)(),n=(0,lw.RH)(),l=(0,lw.wQ)(),r=(0,lw.Bs)(),i=a.useCallback(t=>r(e,null,{unit:t}),[e,r]),o=(0,lw.gc)(e.id),s=a.useCallback(t=>{t&&r(e,null,{scaleFactor:t})},[e,r]),c=o?.scaleFactor??1,d="first-party"===e.type&&(e.id===tP.LK||e.id===tP.NU||e.id===tP.p||e.id===tP.Ap),u=a.useMemo(()=>new io.Be(l),[l]),f=a.useMemo(()=>is.zq.map(e=>({key:e,title:u.format(e),onSelect:()=>i(e)})),[u,i]);return t?a.createElement("div",{className:iA},a.createElement("div",{className:iP},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_units")),a.createElement(ie.z,{value:String(n),onChange:e=>i(e),className:iy},f.map(({key:e,title:t,onSelect:l})=>{let r=n===e;return a.createElement("div",{tabIndex:0,role:"radio","aria-checked":r,key:e,onPointerDown:l,onKeyDown:e=>{"Enter"===e.key&&l()},className:D()(iv,r&&ib)},a.createElement("div",{className:iN},a.createElement("div",{className:ik},t),a.createElement(ie.Z,{value:String(e),_isChecked:r,_onChange:l,className:D()(iI,r&&iT),tabIndex:-1})))})),n===id.tK.SCALED&&a.createElement(a.Fragment,null,a.createElement("div",{className:"configuration_wizard--optionHeadingWithPadding--MnGm9 configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.alternative_units.inspection_scale_factor")),d?a.createElement(ic.Rg,{scaleFactor:c,onChange:s,onDropdownHidden:m.lQ,className:"configuration_wizard--scaleFactorDropdown--IVy1Q",inputClassName:"configuration_wizard--scaleFactorDropdownInput--h8Jr2 text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"}):a.createElement(ip.Q7,{className:"configuration_wizard--scaleFactorInput--ezaTA text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",property:c,formatter:iX,onChange:s,autoFocus:!0,allowEmpty:!1,noBorderOnFocus:!0}),a.createElement("div",{className:ix},a.createElement(ic.LO,{codeLanguage:e})))):null}function iq(){return a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Frame 1321317093"},a.createElement("rect",{width:"24",height:"24",rx:"4.5",fill:"#2C2C2C"}),a.createElement("rect",{x:"4",y:"4",width:"10.5",height:"1.5",fill:"#D9D9D9"}),a.createElement("rect",{x:"7",y:"8",width:"12",height:"1.5",fill:"#E4A3D9"}),a.createElement("rect",{x:"9",y:"13",width:"12",height:"1.5",fill:"#97C1EF"}),a.createElement("rect",{x:"4",y:"17.5",width:"10.5",height:"1.5",fill:"#D9D9D9"})))}function iQ(){return a.createElement("div",{className:"configuration_wizard--customCodegenPromo--Sg78f"},a.createElement("div",{className:"configuration_wizard--customCodegenPromoIcon--ND7NT"},a.createElement(iq,null)),a.createElement("div",{className:"configuration_wizard--customCodegenPromoWrapper--steEn"},a.createElement("div",{className:"configuration_wizard--customCodegenPromoTitle--31anH text--fontPos12--YsUAh text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_title")),a.createElement("div",{className:"configuration_wizard--customCodegenPromoBody--EsEFB text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_body"))),a.createElement("a",{className:"configuration_wizard--customCodegenPromoLink--0l-Sa text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/plugin-docs/api/figma-codegen/",target:"_blank"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_link"),a.createElement(il.In,{icon:"new-window-16",fill:"brand"})))}function iJ({onSelect:e,loading:t,codegenPlugins:n}){let l=t?a.createElement("div",{className:iF},a.createElement(e7.kt,null)):a.createElement(ia.dP,null,n.map((t,n)=>a.createElement(i$,{key:`${t.id}_${n}`,plugin:t,onSelect:e})),a.createElement(iQ,null));return a.createElement("div",{className:"configuration_wizard--otherLanguagesContainer--2J1b5"},a.createElement("h1",{className:"configuration_wizard--otherLanguagesListHeading--M2BwY text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.other_title")),a.createElement("h2",{className:"configuration_wizard--otherLanguagesListDescription--jeS2m text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.other_description")),a.createElement("div",{className:iD},a.createElement("div",{className:iL}),a.createElement("div",{className:iO},l)))}function iZ(e){return{type:"published-plugin",id:e.id,pluginLanguage:function(e){let t=e?.versions?.[e?.current_plugin_version_id??""];return im.m(t)?.[0]?.value??""}(e)}}function i$({plugin:e,onSelect:t}){let n=(0,tP.v4)(),l=(0,ii.gB)(),r="first-party"!==n.type&&n.id===e.id,i=a.useMemo(()=>iZ(e),[e]),o=a.useCallback(()=>{l(i),t(i)},[i,l,t]),s=r?a.createElement("div",{className:iM},a.createElement(tp.B,{svg:iB.A,className:iR}),(0,p.tx)("community.plugins.selected")):a.createElement("div",{className:iM},(0,p.tx)("community.plugins.select"));return a.createElement(ig.Cg,{plugin:e,ctaButton:s,onClick:r?void 0:o})}var i0=n(126049);function i1(){let{inspectPlugins:e=[],loading:t}=(0,ir.n)(),n=t?a.createElement("div",{className:iF},a.createElement(e7.kt,null)):a.createElement(ia.dP,null,e.map((e,t)=>a.createElement(i2,{key:`${e.id}_${t}`,plugin:e})));return a.createElement("div",{className:ih},a.createElement("h1",{className:iC},(0,p.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.title")),a.createElement("h2",{className:iS},(0,p.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.description")),a.createElement("div",{className:iD},a.createElement("div",{className:iL}),a.createElement("div",{className:iO},n)))}function i2({plugin:e}){let{pinnedPlugins:t,pinPlugin:n,unpinPlugin:l}=(0,it.VR)(),r=e.id,i=a.useMemo(()=>!!t.find(e=>e.plugin_id===r),[t,r]),[o,s]=a.useState(i);a.useEffect(()=>{s(i)},[i]);let c=(0,i0.A)(()=>{s(!0),n(r)},200),d=(0,i0.A)(()=>{s(!1),l(r)},200),u=o?a.createElement("div",{className:iM},a.createElement(tp.B,{svg:iB.A,className:iR}),(0,p.tx)("community.plugins.pinned")):a.createElement("div",{className:iM},(0,p.tx)("community.plugins.pin"));return a.createElement(ig.Cg,{plugin:e,ctaButton:u,onClick:o?d:c})}var i3=n(318812),i5=n(728587),i4=n(292164);function i7(){let e=(0,l.wA)(),t=(0,eu.am)();return a.createElement("div",{className:ih},a.createElement("h1",{className:iC},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.title")),a.createElement("h2",{className:iS},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.description")),a.createElement("div",{className:iy},a.createElement("div",{className:iw},a.createElement("img",{srcSet:"data:image/png;base64,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 2x",alt:""}),a.createElement("div",{className:ik},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode")),a.createElement("div",{className:ix},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_description")),a.createElement(A.$n,{variant:"primary",onClick:()=>{t("vscode.install_extension_clicked"),e((0,nm.RK)({rawInput:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension"}))}},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_install"))),a.createElement("div",{className:iw},a.createElement("img",{srcSet:"data:image/png;base64,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 2x",alt:""}),a.createElement("div",{className:ik},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging")),a.createElement("div",{className:ix},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_description")),a.createElement(i8,null))))}function i8({}){let e=(0,l.wA)(),t="install-messaging-dropdown",n=(0,i3.Um)(),r=a.useRef(null),i=n?.type===t,o=[{displayText:(0,p.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_slack"),callback:()=>{e((0,nm.RK)({rawInput:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info"}))}},{displayText:(0,p.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_teams"),callback:()=>{e((0,nm.RK)({rawInput:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8"}))}}];return a.createElement(a.Fragment,null,a.createElement("div",{ref:r},a.createElement(A.$n,{variant:"primary",onClick:()=>{i?e(ex.oB()):e(ex.j7({type:t}))}},a.createElement("span",{className:"configuration_wizard--installButton--PPj7O"},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install"),a.createElement(tp.B,{svg:i4.A,className:"configuration_wizard--chevronDown--P7ECL"})))),i&&r.current&&a.createElement(i5.j,{items:o,onSelectItem:t=>{t.callback&&t.callback("",null,e)},dispatch:e,parentRect:r.current.getBoundingClientRect(),showPoint:!1,lean:"right"}))}var i6=n(94823);function i9(){let e=(0,l.wA)(),t=(0,K.am)(),n=[{theme:"system",title:(0,p.t)("fullscreen_actions.theme.system_theme"),checked:"system"===t,onSelect:()=>{e(i6.Qh({theme:"system",userInitiated:!0}))},ModeSvg:on},{theme:"light",title:(0,p.t)("fullscreen_actions.theme.light"),checked:"light"===t,onSelect:()=>{e(i6.Qh({theme:"light",userInitiated:!0}))},ModeSvg:oe},{theme:"dark",title:(0,p.t)("fullscreen_actions.theme.dark"),checked:"dark"===t,onSelect:()=>{e(i6.Qh({theme:"dark",userInitiated:!0}))},ModeSvg:ot}];return a.createElement("div",{className:ih},a.createElement("h1",{className:iC},(0,p.tx)("dev_handoff.configuration_wizard.theme_step.title")),a.createElement("h2",{className:iS},(0,p.tx)("dev_handoff.configuration_wizard.theme_step.description")),a.createElement(ie.z,{value:String(t),onChange:t=>e(i6.Qh({theme:t,userInitiated:!0})),className:iy},n.map(({theme:e,title:t,checked:n,onSelect:l,ModeSvg:r})=>a.createElement("div",{tabIndex:0,role:"radio","aria-checked":n,key:e,onPointerDown:l,onKeyDown:e=>{"Enter"===e.key&&l()},className:D()("configuration_wizard--modeOptionCard--0rFq6 configuration_wizard--preferenceOption--OkUN2",n&&ib)},a.createElement("div",{className:"configuration_wizard--modeImage--TZBtz"},a.createElement(r,null)),a.createElement("div",{className:ik},t)))))}function oe(){return a.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Design"},a.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),a.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"#E5E5E5"}),a.createElement("g",{id:"Group 14125"},a.createElement("g",{id:"Group 14124"},a.createElement("rect",{id:"Rectangle 52",x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("ellipse",{id:"Ellipse 278",cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),a.createElement("rect",{id:"Rectangle 53",x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{id:"Rectangle 59",x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),a.createElement("rect",{id:"Rectangle 55",x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{id:"Rectangle 57",x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{id:"Rectangle 60",x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"})),a.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"})),a.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"white"}),a.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"white"}),a.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),a.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),a.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),a.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),a.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),a.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),a.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"}),a.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),a.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#14AE5C"})))}function ot(){return a.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{id:"Design"},a.createElement("rect",{width:"120",height:"80",fill:"#383838"}),a.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"black"}),a.createElement("g",{id:"Group 14125"},a.createElement("g",{id:"Group 14124"},a.createElement("rect",{id:"Rectangle 52",x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("ellipse",{id:"Ellipse 278",cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),a.createElement("rect",{id:"Rectangle 53",x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{id:"Rectangle 59",x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),a.createElement("rect",{id:"Rectangle 55",x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{id:"Rectangle 57",x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{id:"Rectangle 60",x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"})),a.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"})),a.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"#1E1E1E"}),a.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"#1E1E1E"}),a.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),a.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#198F51"}),a.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),a.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),a.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),a.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),a.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),a.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),a.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"})))}function on(){return a.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"120",height:"80",fill:"black"}),a.createElement("rect",{width:"120",height:"80",fill:"black"}),a.createElement("rect",{x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("ellipse",{cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),a.createElement("rect",{x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),a.createElement("rect",{x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),a.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),a.createElement("rect",{width:"26.0423",height:"80",fill:"#1E1E1E"}),a.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),a.createElement("rect",{x:"92",width:"28",height:"80",fill:"#1E1E1E"}),a.createElement("rect",{width:"120",height:"8",fill:"#1E1E1E"}),a.createElement("rect",{x:"8",width:"8",height:"8",fill:"#198F51"}),a.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),a.createElement("rect",{x:"96",y:"42",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),a.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),a.createElement("rect",{x:"104",y:"42",width:"13",height:"2",rx:"1",fill:"#009951"}),a.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),a.createElement("rect",{x:"96",y:"37",width:"16",height:"2",rx:"1",fill:"#FC9CE0"}),a.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),a.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),a.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),a.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"}),a.createElement("mask",{id:"mask0_3979_274036",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"8",width:"120",height:"72"},a.createElement("path",{d:"M120 8V80H0L120 8Z",fill:"#C4C4C4"})),a.createElement("g",{mask:"url(#mask0_3979_274036)"},a.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),a.createElement("rect",{width:"120",height:"80",fill:"#E5E5E5"}),a.createElement("rect",{x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("ellipse",{cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),a.createElement("rect",{x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),a.createElement("rect",{x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),a.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),a.createElement("rect",{width:"26.0423",height:"80",fill:"white"}),a.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),a.createElement("rect",{x:"92",width:"28",height:"80",fill:"white"}),a.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),a.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),a.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),a.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),a.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),a.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),a.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"})))}var oa=n(70964);function ol(){let e=(0,E.J)(),t=(0,b.tS)()??"",n=(0,u.Rs)(w.oBY,{key:t}),l=(0,v.M)();return e&&n?.data?.file?.hasPermission&&l?a.createElement("h2",{className:"configuration_wizard--gracePeriodWelcome--16eIy text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:l.totalGraceDays})):a.createElement(a.Fragment,null,a.createElement("h1",{className:iC},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.title")),a.createElement("h2",{className:iS},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description")))}function or(){return a.createElement("div",{className:ih},a.createElement(ol,null),a.createElement("div",{className:"configuration_wizard--welcomeVideo--PNKpG"},a.createElement(oa.GV,{src:"https://static.figma.com/uploads/ea250827f5a3454fccafb18ae2f37229cd406810",width:444,height:278})),a.createElement("div",{className:iE}))}var oi=(e=>(e[e.WELCOME=0]="WELCOME",e[e.CODE_LANGUAGE_N_UNIT=1]="CODE_LANGUAGE_N_UNIT",e[e.THEME=2]="THEME",e[e.INSPECT_PLUGINS=3]="INSPECT_PLUGINS",e[e.INSTALL_INTEGRATIONS=4]="INSTALL_INTEGRATIONS",e))(oi||{});let oo={0:"welcome_step",1:"code_language_step",2:"theme_step",3:"inspect_plugins_step",4:"install_extensions_step"},os=(0,eE.sL)()?[1,2]:[1,2,3,4];function oc(){let e=(0,i.md)(h),[t,n]=en(),r=(0,l.wA)(),o=(0,b.tS)()??"",s=(0,u.Rs)(w.oBY,{key:o}),c=(0,E.J)(),{isShowing:m,uniqueId:p,show:f,complete:_}=(0,y.e)({overlay:I.tb3,priority:N.N.HIGH_PRIORITY_MODAL},[e,s]);return(0,d.h)(()=>{c?f({canShow:(e,t)=>!e&&t?.file?.hasPermission!==void 0}):f({canShow:e=>!e})}),(0,rq.E)(p,"Reset Onboarding",()=>{r(Z.b({[g]:!1})),f()}),(0,a.useEffect)(()=>{m&&n(!0)},[m,n]),a.createElement(e2.M,{isShowing:m,testId:"dev_handoff_config_wizard"},a.createElement(B.fu,{name:"Dev Mode Configuration Wizard"},a.createElement(aV.Nb,{hide:_,size:"fitContent",disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,noPadding:!0},a.createElement(ou,{dismissModal:_}))))}let od=()=>{let{pinnedPlugins:e}=(0,it.VR)();return e.length>0};function ou({dismissModal:e}){let t=(0,eu.U)(),[n,r]=(0,a.useState)(0),i=(0,l.wA)(),o=od(),s=a.useRef(null),c=(0,eS.ru)(),d=(0,eh.q)(),m=(0,b.tS)()??"",f=u.Rs(w.oBY,{key:m})?.data?.file?.hasPermission,h=(0,b.q5)(),_=(0,eR.ol)(),E=(0,u.Rs)(w.kQI,{id:_?.id||""},{enabled:!!_?.id}),y=d&&c(h,!!E.data?.team?.hasPermission)&&f,v=()=>{s.current&&s.current.focus()};a.useEffect(()=>{v()},[n]);let N=a.useCallback(()=>{e(),i(Z.b({[g]:!0})),o&&i(Z.b({[nu.xb]:!0}))},[i,o,e]),x=a.useCallback(()=>{r(n+1)},[n]),k=a.useCallback(()=>{r(n-1)},[r,n]),I=0===n,T=n===os[os.length-1];return a.createElement("div",{className:D()("configuration_wizard--wizardContainer--gss4b",tf.Dm),tabIndex:-1,ref:s},a.createElement("div",{className:"configuration_wizard--closeButton--pv-0K"},a.createElement(t7.K,{onClick:function(){N(),t("dev_handoff.config_wizard.closed",{step:n,stepName:oo[n]})},"aria-label":(0,p.t)("general.close")},a.createElement(r9.A,null))),a.createElement("div",{className:"configuration_wizard--sidebar--g-2b8"},y?a.createElement("h1",{className:"configuration_wizard--sidebarHeadingTrial--tkxTS text--fontPos24WhyteInktrap--pgrWi text--_fontBaseWhyteInktrap--YiiGP"},(0,p.tx)("dev_handoff.configuration_wizard.title_trial",{lineBreak:a.createElement("br",null)})):a.createElement("h1",{className:"configuration_wizard--sidebarHeading--xnYnE text--fontPos32WhyteInktrap--BG9sC text--_fontBaseWhyteInktrap--YiiGP"},(0,p.tx)("dev_handoff.configuration_wizard.title")),a.createElement("h2",{className:"configuration_wizard--sidebarSubheading--ta8gQ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.subtitle")),a.createElement("div",{className:iE}),a.createElement(om,{step:n,setStep:r,disabled:0===n})),a.createElement("div",{className:"configuration_wizard--content--hktpZ"},0===n&&a.createElement(or,null),1===n&&a.createElement(iG,null),2===n&&a.createElement(i9,null),3===n&&a.createElement(i1,null),4===n&&a.createElement(i7,null),a.createElement("div",{className:"configuration_wizard--footer--YjGGh"},I?a.createElement(a.Fragment,null,a.createElement("div",{className:i_},a.createElement("div",{className:iE}),a.createElement(A.$n,{onClick:x,variant:"primary"},(0,p.tx)(`dev_handoff.configuration_wizard.${oo[n]}.next_text`)))):T?a.createElement("div",{className:i_},a.createElement("div",{className:iE}),a.createElement(A.$n,{variant:"secondary",onClick:k},(0,p.tx)("general.back")),a.createElement(A.$n,{variant:"primary",onClick:function(){N(),t("dev_handoff.config_wizard.done",{step:n,stepName:oo[n]})}},(0,p.tx)("general.done"))):a.createElement("div",{className:i_},a.createElement("div",{className:iE}),a.createElement(A.$n,{variant:"secondary",onClick:k},(0,p.tx)("general.back")),a.createElement(A.$n,{variant:"primary",onClick:x},(0,p.tx)(`dev_handoff.configuration_wizard.${oo[n]}.next_text`))))))}function om({step:e,setStep:t,disabled:n}){return a.createElement(ie.z,{value:String(e),onChange:e=>{n||t(Number.parseInt(e,10))},className:D()("configuration_wizard--stepPicker--Ffab-",n&&"configuration_wizard--disabledStepPicker--Ib2IX")},os.map(l=>{let r=l===e,i=()=>{n||t(l)};return a.createElement("div",{tabIndex:n?-1:0,role:"radio","aria-checked":r,key:l,onPointerDown:i,onKeyDown:e=>{"Enter"===e.key&&i()},className:D()("configuration_wizard--stepPickerOption--5Iqtt",r&&"configuration_wizard--selectedStepPickerOption--wndji",n&&"configuration_wizard--disabledStepPickerOption--9tTeN")},a.createElement("div",{className:"configuration_wizard--stepPickerOptionNumber--3GVYZ text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI"},`0${l}`),a.createElement("div",{className:"configuration_wizard--stepPickerOptionText--KmSjp text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)(`dev_handoff.configuration_wizard.${oo[l]}.picker_title`)))}))}var op=n(933992),of=n(179220),og=n(176572),oh=n(286640),o_=n(448169);let oE={top:"ns-resize",bottom:"ns-resize",left:"ew-resize",right:"ew-resize"};function oy(e){let{onSizeChanged:t,onStateChanged:n,edge:l}=e,r=a.useRef({isResizing:!1,lastX:0,lastY:0}),i=a.useCallback(e=>{n?.(!0),r.current.isResizing=!0,r.current.lastX=e.clientX,r.current.lastY=e.clientY,document.body.style.pointerEvents="none",document.documentElement.style.cursor=oE[l]},[n,l]),o=a.useCallback(e=>{r.current.isResizing&&(t({x:e.clientX-r.current.lastX,y:e.clientY-r.current.lastY}),r.current.lastX=e.clientX,r.current.lastY=e.clientY)},[t]),s=a.useCallback(e=>{r.current.isResizing&&(n?.(!1),r.current.isResizing=!1,document.body.style.pointerEvents="auto",document.documentElement.style.cursor="auto")},[n]);return a.useEffect(()=>(document.addEventListener("mousemove",o),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s)}),[o,s]),a.createElement("div",{className:D()("resizable--panelContainer--35Ay7",tf.Dm),style:{width:e.size.width,minWidth:e.size.width,height:e.size.height,minHeight:e.size.height},ref:e.forwardedRef},a.createElement(o_.V,{className:"resizable--content--gsGWd"},e.children),a.createElement("div",{className:D()({"resizable--edgeDisabled--K1j0X":e.disabled,"resizable--edgeTop--vG5Ad resizable--edge--H5-yq":"top"===e.edge,"resizable--edgeBottom--bN-R0":"bottom"===e.edge,"resizable--edgeLeft--nRRyA":"left"===e.edge,"resizable--edgeRight--ZGbad":"right"===e.edge}),onMouseDown:i,onDoubleClick:e.onReset}))}var ov=n(428654),ob=n(356390),ow=n(543841),oN=n(843495),ox=n(601607),ok=n(652649),oI=n(393812),oT=n(187882),oC=n(3044),oS=n(412371);function oA(){let e=(0,e$.dP)(),t=(0,o._I)(),n=(0,eN.l7)(),l=(0,oT.n0)(),i=(0,oS.K)();return a.createElement(oC.yD,{recordingKey:"pagesPanel",isReadOnly:!0,width:e,pagesList:l,hasTeamLibraryUpdates:!1,activeTab:r.xae.LAYERS,showTabs:t,disableCollapsing:!t,isDevHandoff:!0,isDevHandoffOverview:n,isComparingChanges:!1,onPageContextMenu:i,ignoreVerticalFlex:!0})}var oP=n(786110),oL=n(837746);let oO="dev_handoff_layers_panel--hideCaret--JgPdQ";var oD=n(432023);let oM=(0,ao.jz)(oL.KAq),oR=(0,ao.jz)(oL.tUy);function oF(e,t,n){let a=[],l=[t];for(;l.length>0;){let r=l.pop(),i=e.get(r);if(i&&(r===t||n(i)))for(let e of(a.push(r),i?.childrenGuids??[]))l.push(e)}return a}function oB(e){return!!e&&e.isAlive()&&"INSTANCE"!==e.type&&!(0,oP.vY)(r.w3z.getAssetInfo(e.guid),!0)}let oK=(0,nE.eU)([]);function oU({inspectableRootNodeId:e,page:t,didSelectRow:n,hideHeader:o=!1}){let s=(0,l.wA)(),c=(0,np.eY)(),d=(0,ec.uQ)(),u=(0,ec.NM)(),m=e||t,[p,f]=a.useState(()=>0===r.glU.nodeStatusesOnPage(t).length||o),[g,h]=(0,i.fp)(oK);a.useEffect(()=>{f(0===r.glU.nodeStatusesOnPage(t).length)},[t]);let _=a.useCallback(()=>{h(()=>[m])},[h,m]),E=a.useCallback(e=>{h(t=>[...t,...oF(c,e,oB)])},[c,h]),y=a.useCallback((e,t)=>h(n=>n.includes(t)?n.filter(e=>e!==t):e.altKey?[...n,t,...oF(c,t,oB)]:[...n,t]),[c,h]),v=a.useCallback(e=>g.includes(e),[g]),b=function(e,t){let n=(0,np.eY)();return a.useMemo(()=>{let a=[];if(t){let l=n.get(t)?.parentGuid;for(;l&&l!==e;)a.push(l),l=n.get(l)?.parentGuid}return a.push(e),a},[n,e,t])}(m,d??"");a.useEffect(()=>{h(e=>[...e,...b])},[b,h]);let w=a.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:a}=e;s(ex.j7({type:tf.i,data:{clientX:n,clientY:a,guid:t,expandElement:()=>E(t)}}))},[s,E]),N=(0,np.KH)(),x=a.useMemo(()=>{let t=o?[]:["header"];return p||e||u?[...t,...function e(t,n,a,l,r,i,o){let s=n.get(t);if(!s)return[];let c=t in a,d={nodeId:t,indentation:r,isSelected:c,isAncestorSelected:i,isRoot:o};if(!l(t))return[d];let u="CANVAS"===s.type,m=s.childrenGuids.flatMap(t=>e(t,n,a,l,r+(u?0:1),i||c,!1));return u?m:[d,...m]}(m,c,N,v,0,!1,!0)]:t},[e,v,p,m,c,N,u,o]),k=a.useRef(null),I=(0,of.Te)({count:x.length,getScrollElement:()=>k.current,estimateSize:e=>0!==e||o?oM:oR,overscan:10});return a.createElement("div",{ref:k,style:{height:"100%",overflowY:"auto",overflowX:"hidden"},"data-testid":"devHandoffLayersPanel"},a.createElement("div",{style:{height:`${I.getTotalSize()}px`,width:"100%",position:"relative"}},I.getVirtualItems().map(t=>{let l=x[t.index];return a.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`}},"header"===l?a.createElement(oz,{forceExpanded:!!e||!!u,isExpanded:p,setIsExpanded:f,collapseAllLayers:_}):a.createElement(oP.O5,{key:l.nodeId,guid:l.nodeId,toggleExpanded:y,isExpanded:v,openContextMenu:w,didSelectRow:n,indentation:l.indentation,isSelected:l.isSelected,isAncestorSelected:l.isAncestorSelected,isRoot:l.isRoot}))})))}function oz({isExpanded:e,forceExpanded:t,setIsExpanded:n,collapseAllLayers:l}){let r=[{displayText:(0,p.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>l()}],i=(0,tG.GS)(),o=`devHandoffNodesPanel.caret.${t?"forcedExpanded":e?"expanded":"collapsed"}`;return a.createElement("div",{className:D()("dev_handoff_layers_panel--layersListHeader--gQFn- text--fontPos11--2LvXf text--_fontBase--QdLsd",{"dev_handoff_layers_panel--bottomLine--v9zno":!(e||t)&&!i})},a.createElement(P.E,{className:"dev_handoff_layers_panel--layersListHeaderButton--MlUHF",onClick:()=>!t&&n(!e),actionOnPointerDown:!0},a.createElement("div",{className:"dev_handoff_layers_panel--layersListHeaderButtonContent--qRCB5"},i&&a.createElement("span",{className:t?oO:void 0,"data-testid":o},a.createElement(ok.g,{isExpanded:e})),!i&&a.createElement(tp.B,{className:D()("dev_handoff_layers_panel--expandCaret--2ZbrU",{[oO]:t}),svg:e?tv.A:oD.A,dataTestId:o}),a.createElement("div",{className:"dev_handoff_layers_panel--layersTitle--sU99L text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,p.tx)("dev_handoff.tag.layers")))),(e||t)&&a.createElement(oH,{dropdownItems:r}))}function oH({dropdownItems:e}){let{Dropdown:t,toggleDropdown:n,dropdownTargetRef:l,isDropdownShown:r}=(0,tJ.B)("LAYERS_PANEL_DROPDOWN");function i(e){e.stopPropagation(),n()}return a.createElement(a.Fragment,null,a.createElement("div",{ref:l},(0,eE.kc)().dt_fpl_migration?a.createElement(tO.d,{"aria-label":(0,p.t)("dev_handoff.code.options"),toggled:r,onClick:i,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.code.options"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(tD.J,null)):a.createElement(rs.YW,{svg:lr.A,onMouseDown:e=>e.stopPropagation(),onClick:i,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.code.options"),selected:r})),a.createElement(t,{items:e,showPoint:!0}))}var oV=n(376600),oG=n(721409);let oW=(0,ao.jz)(oL.LDP),oY=(0,ao.jz)(oL.Rv9),oX=(0,ao.jz)(oL.tUy),oj=(0,nE.eU)([]);function oq(e){let{guid:t,hasChildren:n,isExpanded:i,toggleExpand:o,isSelected:s,nameOverride:c,hideSectionIcon:d}=e,u=(0,rV.J2)((0,e$.UK)().showGuids),m=(0,ox.Fk)((e,t)=>{let n=e.get(t);return n?{guid:n.guid,name:n.name,isStateGroup:n.isStateGroup}:null},t),p=m?.name,f=c??p,g=m?.guid,h=m?.isStateGroup,_=(0,nd.rf)(`devHandoffNodesPanel-targetIcon-${p}`,"click",e=>{(0,rH.S)("sections_frames_list"),r.w3z.selectAndFocusOnNode(t,!0)}),E=(0,nd.rf)(`devHandoffNodesPanel-${p}`,"click",e=>{e.stopPropagation(),o?.()}),y=(0,l.wA)(),v=a.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:n}=e;g&&y(ex.j7({type:tf.i,data:{clientX:t,clientY:n,guid:g}}))},[y,g]);if(!g)return null;let b=D()("dev_handoff_nodes_panel--expandCaret--EdbSv",{"dev_handoff_nodes_panel--expandCaretNoIcon--VTPwj":d});return a.createElement("div",{className:D()("dev_handoff_nodes_panel--sectionHeader--qDUGd",s?aX:aY),onMouseDown:_,onContextMenu:v,role:"button",tabIndex:0,"data-fullscreen-intercept":!0},n?a.createElement(tp.B,{className:b,svg:i?tv.A:oD.A,onMouseDown:E}):a.createElement("div",{className:b}),!d&&a.createElement(tZ.Bf,{className:D()("dev_handoff_nodes_panel--layerIcon--aZvoO",{"dev_handoff_nodes_panel--symbolLayerIcon--D0Mch dev_handoff_nodes_panel--layerIcon--aZvoO":h}),guid:g}),a.createElement("div",{className:D()("dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{"dev_handoff_nodes_panel--symbolName--IoUUt dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":h})},u?`${f} (${t})`:f))}let oQ=a.memo(function(e){let{guid:t,isSelected:n,onClick:o}=e,s=(0,rV.J2)((0,e$.UK)().showGuids),[c,d]=a.useState(!1),u=function(e){(0,ec.uQ)();let t=(0,ei.R)(e=>!(0,oI.Mx)(e));return n=>(0,oN.Uc)(n&&t?e:"")}(t),m=(0,i.md)(tH.d),f=oJ(t),g=(0,tI.E1)(),h=(0,tI.ei)(t),_=(0,tI.L)(t,g,m),E=a.useMemo(()=>h?(0,tF.A)(h.lastEditedAt).fromNow():"",[h]),y=(0,rV.J2)(r.Ez5.devHandoffState().focusAnimationIsRunning),{width:v=0,height:b=0}=f??{},w=v>2.5*b,N=b>2.5*v,x=v<1||b<1?{width:0,height:0}:w?{height:80,width:v/b*80}:N?{width:48,height:b/v*48}:{width:48,height:80},k=(0,ow.yh)({nodeId:t,width:2*x.width,height:2*x.height,version:h?.lastEditedAt??"-",reason:"dev_handoff_nodes_panel.thumbnail",shouldSkip:y,regenerateAfterImagesLoaded:!0}),I=(0,nd.rf)(`devHandoffNodesPanel-${f?.name??""}`,"click",e=>{(0,rH.S)("sections_frames_list"),r.w3z.selectAndFocusOnNode(t,!0),e?.currentTarget?.blur(),o&&o(e)}),T=(0,l.wA)(),C=a.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:a}=e;T(ex.j7({type:tf.i,data:{clientX:n,clientY:a,guid:t}}))},[T,t]);if(!f)return null;let S=e=>{d(e),u(e)},A=h?.lastEditedAt,P=k?{backgroundColor:e.thumbnailBackgroundColor}:void 0;return a.createElement("div",{className:D()(n?aX:aY,"dev_handoff_nodes_panel--itemWithThumbnail--t0s4E"),onMouseDown:I,onContextMenu:C,role:"button",tabIndex:0,onMouseEnter:()=>{S(!0)},onMouseLeave:()=>S(!1),"data-fullscreen-intercept":!0},a.createElement("div",{className:"dev_handoff_nodes_panel--thumbnailContainer--y8uEp",style:P},k&&a.createElement("img",{src:k.src,className:D()("dev_handoff_nodes_panel--thumbnailImg--yRcCn",w&&"dev_handoff_nodes_panel--thumbnailImgLong--5eP8l",N&&"dev_handoff_nodes_panel--thumbnailImgTall--iJO4k"),alt:(0,p.t)("dev_handoff.nodes_panel.thumbnail_alt_text")})),a.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestampContainer--egq48 text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestamp--HcL87"},a.createElement("div",{className:"dev_handoff_nodes_panel--nodeName--5SQVr ellipsis--ellipsis--Tjyfa"},s?`${f.name} (${t})`:f.name),A?a.createElement("div",{className:"dev_handoff_nodes_panel--tlfPanelTimestampContainer---u-Ju"},a.createElement(ld,{state:_,backgroundState:n?"selected":c?"hovered":null}),a.createElement("div",{className:"dev_handoff_nodes_panel--editedTimestamp--nShNo"},h?.createdAt&&(_===tI.Uy.RECENTLY_CREATED||h.createdAt===h.lastEditedAt)?a.createElement("span",{className:aj},(0,p.tx)("dev_handoff.nodes_panel.created",{at:E})):a.createElement("span",{className:aj},(0,p.tx)("dev_handoff.nodes_panel.edited",{at:E})))):f.isSymbol&&a.createElement("div",{className:"dev_handoff_nodes_panel--timestampContainer--dGH49"},a.createElement(tZ.Bf,{className:a3,guid:t}),a.createElement("span",{className:"dev_handoff_nodes_panel--layerTypeSymbol--BuyoH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},f.type)))))}),oJ=e=>(0,ox.Fk)((e,t)=>{let n=(0,ec.Zl)(e,t);if(!n)return null;let a=n.isState?n.parentNode:null,l=a?.name||n.name;return{id:n.guid,name:l,width:n.size.x,height:n.size.y,type:(0,tz.bg)(n,a),isSymbol:n.isStateGroup||"SYMBOL"===n.type||"INSTANCE"===n.type}},e);function oZ({items:e,selectedNodeId:t,inReadySectionTopLevelNodeId:n,onRowClick:l}){let r=a.useRef(null),o=e.length>0,[s,c]=(0,i.fp)(oj),d=function(){let{currentPage:e}=(0,ei.R)(e=>({currentPage:e.mirror.appModel.currentPage})),t=(0,ox.Fk)((e,t)=>e.get(t)?.backgroundColor,e);return t?ov.F.format(t):"var(--color-bg)"}(),[u,m]=a.useState(!0),f=(0,tG.GS)(),g=a.useMemo(()=>Math.min(e.length*oW,400)+7+(f?0:oX),[e.length,f]),[h,_]=(0,oh.Vc)("ready-panel-height-storage-key",g),E=o?`calc(max(${oW}px, min(60%, ${h}px)))`:"fit-content";a.useEffect(()=>{if(!t)return;let n=e.find(e=>e.childNodeIds.includes(t))?.guid;n&&c(e=>e.includes(n)?e.filter(e=>e!==n):e)},[e,t,c]);let y=a.useMemo(()=>{let t=!1;return[...f?[]:[{type:"header"}],...e.flatMap(e=>{if(e.isSection){let n=s.includes(e.guid);return n||(t=!0),[{type:"section",sectionId:e.guid,displayName:e.sectionNames.fill("...",1,-1).join(" / "),hasChildren:e.childNodeIds.length>0},...n?[]:e.childNodeIds.map(e=>({type:"node",nodeId:e}))]}return t?(t=!1,[{type:"divider"},{type:"node",nodeId:e.guid}]):{type:"node",nodeId:e.guid}})]},[s,f,e]),v=a.useMemo(()=>{let e=[];return y.forEach((t,n)=>{"section"===t.type&&e.push(n)}),e},[y]),b=a.useRef(),w=e=>b.current===e,N=a.useRef(null),x=(0,of.Te)({count:y.length,estimateSize:e=>{let t=y[e].type;return"node"===t?oW:"header"===t?oX:"divider"===t?16:oY},getScrollElement:()=>N.current,overscan:10,rangeExtractor:a.useCallback(e=>(b.current=[...v].reverse().find(t=>e.startIndex>=t),b.current)?[...new Set([b.current,...(0,og.vp)(e)])].sort((e,t)=>e-t):(0,og.vp)(e),[v])}),k=a.createElement("div",{className:"dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{padding:f?0:void 0}},(0,p.tx)("dev_handoff.tag.ready_for_development"));a.useEffect(()=>{let e=y.findIndex(e=>"node"===e.type&&n===e.nodeId);-1!==e&&x.scrollToIndex(e)},[y,n,x]);let I=a.useCallback(e=>_(t=>t+e.y),[_]),T=a.useCallback(()=>_(r.current.clientHeight),[_]),C=a.useCallback(()=>_(g),[_,g]);return a.createElement(a.Fragment,null,f&&a.createElement(P.E,{className:D()([oV.RE,"dev_handoff_nodes_panel--focusVisible--KtjCp"]),"aria-label":(0,p.t)("dev_handoff.tag.ready_for_development"),onClick:()=>m(e=>!e)},a.createElement("div",{className:oV.Pz},a.createElement(ok.g,{isExpanded:u}),k)),a.createElement(oy,{edge:"bottom",size:{height:f&&!u?0:E},onSizeChanged:I,onStateChanged:T,onReset:C,forwardedRef:r,disabled:!o},u&&a.createElement("div",{"data-testid":"devHandoffNodesPanel.readyList",style:{height:"100%",overflow:"auto"},ref:N},o?a.createElement("div",{style:{height:`${x.getTotalSize()}px`,width:"100%",position:"relative"}},x.getVirtualItems().map(e=>{let r;let i=y[e.index];return r="header"===i.type?k:"divider"===i.type?a.createElement("div",{className:"dev_handoff_nodes_panel--readyNodesDivider--QAmcF"}):"section"===i.type?a.createElement(oq,{guid:i.sectionId,hideSectionIcon:!0,hasChildren:i.hasChildren,isExpanded:!s.includes(i.sectionId),toggleExpand:()=>{c(e=>e.includes(i.sectionId)?e.filter(e=>e!==i.sectionId):[...e,i.sectionId])},isSelected:t===i.sectionId,nameOverride:i.displayName}):a.createElement(oQ,{guid:i.nodeId,thumbnailBackgroundColor:d,isSelected:n===i.nodeId,onClick:l}),a.createElement("div",{key:e.key,style:{..."section"===i.type?{zIndex:1}:{},...w(e.index)?{position:"sticky"}:{position:"absolute",transform:`translateY(${e.start}px)`},top:0,left:0,width:"100%",height:`${e.size}px`}},r)})):a.createElement(a.Fragment,null,!f&&k,a.createElement(o0,null)))))}function o$(){return(0,tK.s)()?a.createElement(A.$n,{variant:"secondary",iconPrefix:a.createElement(op.A,null),onClick:()=>ob.Y5.triggerAction("add-selection-ready-status")},(0,p.tx)("fullscreen_actions.ready-status-add")):null}function o0(){let e=(0,np.p8)("isSceneReadOnly"),t=(0,tK.s)();return e?a.createElement("div",{className:aq},a.createElement(tp.B,{svg:oG.A,className:aQ}),a.createElement("div",{className:aJ},(0,p.tx)("dev_handoff.tag.ready_for_development.content_view_only"))):a.createElement("div",{className:aq},t?a.createElement(o$,null):a.createElement(a.Fragment,null,a.createElement(tp.B,{svg:oG.A,className:aQ}),a.createElement("div",{className:aJ},(0,p.tx)("dev_handoff.status.ready_for_development.content"))))}function o1(e,t){let n=a.useRef(!1),l=a.useCallback(e=>{e!==t&&(n.current=!0)},[t]),{inspectableRootNodeId:r}=o2(e,t),i=a.useRef(null),o=a.useMemo(()=>t&&n.current?(n.current=!1,i.current):r,[t]);return i.current=o,{inspectableRootNodeId:o,didSelectRow:l}}function o2(e,t){let n=a.useMemo(()=>{let e=t?r.w3z.getInReadySectionTopLevelNodeId(t):null;return e&&e!==ai.AD?e:null},[t]),l=(0,ox.Fk)((e,t,n)=>{let a=null;if(n?a=n:t===ai.AD||r.w3z.isNodePanelSection(t)||(a=t),a){let t=e.get(a);(!t||oP.q1.includes(t.type))&&(a=null)}return a},e,n),i=(0,eN.hA)();return i?{inspectableRootNodeId:i,inReadySectionTopLevelNodeId:null}:{inspectableRootNodeId:l,inReadySectionTopLevelNodeId:n}}function o3({onRowClick:e,inspectableRootNodeId:t,didSelectRow:n}){let l=(0,rV.J2)(r.Ez5.devHandoffState().currentNodeId),i=(0,ec.uQ)(),o=(0,rV.J2)(r.Ez5.devHandoffState().readySectionItems),{currentPage:s}=(0,ei.R)(e=>({currentPage:e.mirror.appModel.currentPage})),{inReadySectionTopLevelNodeId:c}=o2(l,i);return a.createElement("div",{className:"dev_handoff_nodes_panel--nodesListPanels--ceR3Z","data-testid":"devHandoffNodesList"},a.createElement(oZ,{items:o||[],selectedNodeId:i,inReadySectionTopLevelNodeId:c,onRowClick:e}),a.createElement(oU,{inspectableRootNodeId:t,didSelectRow:n,page:s}))}let o5=a.memo(()=>{let e=(0,rV.J2)(r.Ez5.devHandoffState().currentNodeId),t=(0,eN.l7)(),n=!!(0,eN.hA)()&&!t,{inspectableRootNodeId:i,didSelectRow:o}=o1(e,(0,ec.uQ)()),s=(0,l.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,d.h)(()=>{let e=er.sn.tryStop("switch_to_inspect_mode.left_panel_tti");e&&(0,el.sx)("switch_to_inspect_mode.left_panel_tti",{elapsedMs:e,isNodeSelected:s},{forwardToDatadog:!0})}),a.createElement("div",{className:D()(tf.Dm,"dev_handoff_nodes_panel--nodesPanel--4Pea0")},!n&&a.createElement(oA,null),!t&&a.createElement(o3,{inspectableRootNodeId:i,didSelectRow:o}))});var o4=n(480889),o7=n(886133);function o8(){return a.createElement("div",{className:R.cx.flex.flexRow.m16.$},a.createElement("div",{className:R.cx.font11.$},(0,p.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")))}var o6=n(225266),o9=n(554294),se=n(176626),st=n(559497),sn=n(877822),sa=n(902139),sl=n(360934),sr=n(760445),si=n(76158),so=n(86538);function ss(){let{setCurrentView:e,currentPluginView:t}=function(){let e=(0,nh.Xr)(so.hO),[t,n]=(0,i.fp)(so.HT),l=(0,sn.AY)(so.HT),r=a.useCallback(()=>{e(t)},[t,e]),o=a.useCallback(({newView:e})=>{e&&t!==e&&(r(),n(e))},[t,n,r]);return a.useEffect(()=>{r()},[r]),a.useEffect(()=>()=>{l()},[l]),a.useMemo(()=>({currentPluginView:t,setCurrentView:o}),[t,o])}(),n=(0,l.wA)(),r=a.useMemo(()=>({activeTab:si.s.PLUGIN,viewResource:e=>{n(sa.IN({fdPreviewResource:e}))},closeResource:()=>{n(sa.IN({fdPreviewResource:void 0}))},setCurrentViewOrTab:e,currentView:t,closeModal:()=>{},pinModal:()=>{}}),[n,e,t]);return a.createElement(em.Y,{direction:"vertical",spacing:0,height:"fill-parent"},a.createElement(sr.B0.Provider,{value:r},a.createElement(sl.z,null)))}let sc=a.memo(function(){let e=(0,l.d4)(e=>e.mirror.appModel.currentTool===eo.ec.tool),t=(0,lN.h)(),n=(0,e$.UX)(),r=(0,i.md)(o9.d4),o="LOADING"===r,s="RUNNING"===r,c=(0,i.md)(es.H)===es._.PLUGIN&&!e,d=(0,l.wA)();a.useEffect(()=>d(o6.aq()),[d]),a.useEffect(()=>{let e=st.mN.getInstance();s&&e&&(c?e.hideProgress():e.showProgress({isBackground:!0}))},[s,c]);let u=s&&c?{height:"100%"}:{display:"none"};return a.createElement("div",{className:R.cx.hFull.wFull.if(c,R.cx.block,R.cx.hidden).$,"data-testid":"devHandoffPluginPanel"},t?a.createElement(o8,null):a.createElement(a.Fragment,null,o&&a.createElement(sd,null),a.createElement("div",{style:u,"data-testid":"pluginPanelContainer"},a.createElement(se.jv,{iframeId:se.Wh.INSPECT,width:n,fillParent:!0})),!o&&!s&&a.createElement(ss,null)))});function sd(){let e=(0,i.md)(o9.be);return e?a.createElement(em.Y,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},a.createElement(a.Fragment,null,a.createElement("span",{style:F.sx.add({boxSizing:"content-box",margin:"-20px auto",opacity:"0.3"}).$},a.createElement(o7.y$,null)),a.createElement("div",{className:R.cx.pt16.px32.alignCenter.$},a.createElement(ef.E,{fontSize:12,color:"secondary"},(0,p.tx)("dev_handoff.loading_plugin",{pluginName:e?.name}))))):null}var su=n(139588),sm=n(506599),sp=n(544403),sf=n(591494);let sg="dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",sh="dev_handoff_right_panel_container--panelContainerResizing--sfFQd dev_handoff_right_panel_container--panelContainerResizingBase--OZRr- dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",s_="dev_handoff_right_panel_container--panelContainerHidden--7-A2P dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",sE="dev_handoff_right_panel_container--content--HcUHi",sy=(0,ao.jz)(oL.QBm);function sv(e){let t=(0,l.d4)(e=>e.mirror.appModel.showUi),n=(0,as.lz)(),[r,o]=(0,i.fp)(as.XI),s=(0,tG.GS)(),c=(0,rV.J2)((0,e$.UK)().renderRulers),d=(0,eN.hA)(),u=(0,rg.b)(),m=(0,rz.Tn)(),p=(0,rz.qM)(),{isPropertiesPanelCollapsed:f}=(0,sm.iT)();f=f&&s,(0,as.qn)();let g=a.useCallback(()=>{o(!0)},[o]),h=a.useCallback(e=>{if(r){let t=(0,as.gY)(window.innerWidth-e.clientX);t!==n&&(0,as.xT)(t)}},[r,n]),_=a.useCallback(()=>{r&&o(!1)},[r,o]);a.useEffect(()=>(document.addEventListener("mousemove",h),document.addEventListener("mouseup",_),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",_)}));let E=s&&!f,y=r?sh:t?sg:s_;return s?a.createElement(o_.V,{className:D()(ry.Lp,{[ry.dn]:f,[ry.Ph]:u&&!d&&!p}),style:{width:n}},E&&a.createElement(su.T,{side:"right"}),a.createElement(sp.wV,{className:D()(ry.ux,tf.Dm,{[ry.ew]:c&&!d,[ry.Ph]:u&&!d&&!p,[ry.Jq]:!m}),size:n,onResize:g,side:"left"},f&&a.createElement("div",{className:D()(ry.KE,ry.tM)},a.createElement(r_.v2,null)),a.createElement("div",{className:D()(ry.KE,{[sh]:r,[sg]:t,[s_]:!t||f,[ry.Ph]:u&&!d&&!p})},!f&&a.createElement(r_.v2,null),a.createElement(sf.Ay,null),a.createElement("div",{className:sE},e.children)))):a.createElement("div",{className:`${y} ${tf.Dm}`,style:{width:n-sy},ref:e.forwardedRef},a.createElement(sf.Ay,null),a.createElement(o_.V,{className:sE},e.children),a.createElement(tB.D8,{className:"dev_handoff_right_panel_container--edge--K3aDb",style:{right:n},onMouseDown:g,onDoubleClick:as.Az}))}var sb=n(69814),sw=n(937036),sN=n(512495),sx=n.n(sN),sk=n(561004),sI=n(978527);function sT({plugin:e}){return"first-party"!==(0,tP.v4)().type?null:a.createElement(sS,{plugin:e,buttonText:(0,p.t)("dev_handoff.inspect_panel.close_plugin")})}function sC({plugin:e}){return"first-party"===(0,tP.v4)().type?null:a.createElement(sS,{plugin:e,buttonText:(0,p.t)("dev_handoff.inspect_panel.generate_code")})}function sS({plugin:e,buttonText:t}){return e?a.createElement(t0.VZ,{padding:t0.UZ.NONE,recordingKey:"pluginProgressPanel"},a.createElement(em.Y,{direction:"vertical",horizontalAlignItems:"center",padding:{top:12,bottom:12,left:16,right:16},spacing:8,width:"fill-parent"},a.createElement(em.Y,{direction:"horizontal",verticalAlignItems:"start",horizontalAlignItems:"center",spacing:4},a.createElement("div",{style:F.sx.add({marginTop:"-3px"}).$},a.createElement(sI.d,{plugin:e})),a.createElement(ef.E,{fontFamily:"primary"},(0,p.tx)("fullscreen.plugins.background",{plugin:a.createElement(ef.E,{fontWeight:"bold"},e.name)}))),a.createElement(ep.$,{variant:"secondary",onClick:()=>{(0,sk.wY)()},width:"fill-parent",recordingKey:"generateCodeButton"},a.createElement(ef.E,{fontFamily:"primary"},t)))):null}var sA=n(249436),sP=n(19741),sL=n(54574);let sO="code_extension_section--sectionsBorder--iguOh";function sD({localCodeLanguage:e,overrideNodeId:t,hideLayoutAndColor:n,sectionClassName:l,emptyStateMessage:r}){let o=(0,tP.v4)(),s=e??o,c=s.id===tP.uz&&"first-party"===s.type?{id:rU.qZ.CSS,type:"first-party"}:s,d=(0,i.md)(o9.GR),u=(0,i.md)(o9.vT);return d&&"codegen"!==u&&"first-party"!==c.type?a.createElement(sC,{plugin:d}):a.createElement(sM,{overrideNodeId:t,hideLayoutAndColor:n,codegenPluginLanguage:c,sectionClassName:l,emptyStateMessage:r},(e,t,n)=>a.createElement(tA.yT,{code:e,section:t,index:n}))}function sM({codegenPluginLanguage:e,children:t,overrideNodeId:n,hideLayoutAndColor:r,sectionClassName:i,emptyStateMessage:o}){let s=(0,lw.ie)(),c=(0,lw.fb)(),d=(0,l.d4)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),u=(0,eu.U)(),[m,f]=a.useState(!1),g=n??d,h=a.useCallback(t=>{u("Dev Mode Code Section Clicked",{codeSection:t,languageType:e.type,languageId:e.id,unit:s,scaleFactor:c})},[e.id,e.type,c,u,s]),_=(0,lw.gc)()||{},E=(0,tP.QN)(),y="first-party"===e.type,{code:v,error:b,isLoading:w}=(0,sL.K)({selectedNodeID:g,extensionLanguage:e,preferences:sx()(_,y?{customSettings:{hideLayoutAndColor:r?"true":"false"}}:{}),plugin:E}),N=!!n,x=a.useCallback(({id:e})=>{e===g&&(rU.px().nodeCache?.invalidate(e),f(!0))},[g]);a.useEffect(()=>((0,sP.BT)(x),()=>{(0,sP.q$)(x)}),[x]),a.useEffect(()=>{N||f(!1)},[N,g]);let k=a.useCallback(()=>{f(!1),(0,rU.px)().rebuildNodeCache(),(0,sA.c)()},[]),I=function(e,t){let[n,l]=a.useState(e);return a.useEffect(()=>{let t=null;return e?t=setTimeout(()=>{l(!0)},200):l(!1),()=>{null!=t&&clearTimeout(t)}},[e,200]),n}(w,200);return g?b?(console.error(b),null):I?a.createElement("div",{className:sO},a.createElement(em.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},a.createElement(e7.kt,null))):0!==v.length&&v.some(e=>e.lines.length>0)?a.createElement("div",{className:sO},m&&a.createElement(em.Y,{padding:{top:16,left:16,right:16,bottom:0}},a.createElement(nj.z,{dataTestId:"dev-handoff-code-update-prompt",iconSrc:ls.A,title:(0,p.t)("dev_handoff.code.update_prompt_title"),orientation:"vertical",variant:"brand",onClose:()=>f(!1),action:{label:(0,p.t)("dev_handoff.code.update_prompt_action"),onClick:k}},(0,p.tx)("dev_handoff.code.update_prompt"))),v.map((n,l)=>n.lines.length>0&&(!r||"Layout"!==n.name)?a.createElement(tB.D8,{className:D()("code_extension_section--sectionsContainer--vZzFZ",i),"data-testid":`code-panel-${n.name}`,key:`${e}-${n.name}-${l}`,tabIndex:-1,"data-fullscreen-intercept":!0,onClick:()=>h(n.name)},t(v,n,l)):null)):o?a.createElement("div",{className:sO},a.createElement(em.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},o)):null:null}var sR=n(268537),sF=n(116135),sB=n(493364);let sK="Dev Mode Focus View Onboarding",sU="focus_view_title_onboarding_key",sz="focus_view_completed_onboarding_key",sH="focus_view_versions_onboarding_key",sV="focus_view_back_onboarding_key";function sG(){let{show:e,isShowing:t,complete:n}=(0,y.e)({overlay:I.FtN,priority:N.N.DEFAULT_MODAL});(0,d.h)(()=>{e()});let l=(0,a.useMemo)(()=>({label:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.secondary_cta_label"),type:"button",onClick:()=>n(),ctaTrackingDescriptor:rj.c.CANCEL}),[n]),r=[{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.description"),trackingContextName:`${sK} Viewing`,targetKey:sU,emphasized:!0,secondaryCta:l,disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.completed.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.completed.description"),trackingContextName:`${sK} Completed`,targetKey:sz,emphasized:!0,secondaryCta:l,disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.versions.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.versions.description"),trackingContextName:`${sK} Versions`,targetKey:sH,emphasized:!0,arrowPosition:sB.F_.RIGHT_BODY,secondaryCta:l,onStepShow:()=>oN.wr(),disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.back.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.back.description"),trackingContextName:`${sK} Back`,targetKey:sV,emphasized:!0,primaryCtaLabel:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.last_primary_cta_label"),disableHighlight:!0}];return a.createElement(sF.WZ,{steps:r,isShowing:t,onComplete:n})}var sW=n(293017),sY=n(694517),sX=n(945020),sj=n(236192),sq=n(298543),sQ=n(524513),sJ=n(135317),sZ=n(564577);let s$="dev_handoff_activity_panel--versionIconContainer--i7OVd",s0="dev_handoff_activity_panel--editedIcon--V-4-N dev_handoff_activity_panel--_versionIcon--9Io2B",s1="dev_handoff_activity_panel--activityDisplayText--4O-Dk",s2="dev_handoff_activity_panel--activityTime--pCZ9l";function s3({activity:e,isLatest:t}){let n=s5(e),l=(0,sZ.Ak)(e.timestamp);return a.createElement("div",{className:s1},t?(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row_with_latest",{versionText:n,activityTime:a.createElement("span",{className:s2},l),latest:a.createElement("span",{className:s2},(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row_latest_part"))}):(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row",{versionText:n,activityTime:a.createElement("span",{className:s2},l)}))}function s5(e){switch(e.metadata?.status){case eL.zI.BUILD:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_ready");case eL.zI.COMPLETED:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_completed");case eL.zI.NONE:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_removed");default:return null}}function s4({activity:e,line:t,isGreen:n}){switch(e.metadata?.status){case eL.zI.BUILD:return a.createElement("div",{className:s$,"data-testid":"devModeActivity.readyIcon"},t,a.createElement(op.A,{className:n?"dev_handoff_activity_panel--readyIconGreen--qdkvg dev_handoff_activity_panel--_versionIcon--9Io2B":"dev_handoff_activity_panel--readyIcon--zbH-1 dev_handoff_activity_panel--_versionIcon--9Io2B"}));case eL.zI.COMPLETED:return a.createElement("div",{className:s$,"data-testid":"devModeActivity.completedIcon"},t,a.createElement(sJ.g,{className:"dev_handoff_activity_panel--completedIcon--3i2u3 dev_handoff_activity_panel--_versionIcon--9Io2B"}));default:return null}}function s7(){let e=(0,l.wA)();return()=>{e((0,sY.Eg)())}}function s8(){return(0,l.d4)(e=>e.versionHistory.activeId===sY.V_)}function s6(e,t,n){return e&&t.metadata?.status!==eL.zI.NONE?e=>a.createElement(s4,{line:e,activity:t,isGreen:n}):void 0}function s9(){let e=(0,l.wA)();return t=>{e((0,sY.Eg)()),r.w3z.focusOnNode(t,!1)}}function ce({latestReadyForDevVersionId:e,lastEditedAt:t,hasEdits:n,status:i,isActive:o,onSelect:s,showCompareChanges:c,focusNodeId:d}){let u=(0,l.wA)(),m=(0,tG.GS)(),f=(0,eu.U)(),g=(0,sZ.Ak)((t??0)*1e3),h=(0,eN.hA)();return a.createElement(sj.jP,{label:"latest-change-row",displayText:a.createElement("div",{className:"dev_handoff_activity_panel--activityDisplayTextContainer--80BG-"},a.createElement("div",{className:s1},a.createElement("span",{className:"dev_handoff_activity_panel--latestVersion--ukUVR"},h?(0,p.tx)("dev_handoff.workflows.focus_view.activity.latest"):(0,p.tx)("collaboration.feedback.current_version")),!!t&&a.createElement("span",{className:s2},g)),o&&c&&a.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonEdited--j3Wzx",onClick:function(){f("Dev Mode Activity Compare Changes",{source:"compare_previous"}),(0,tQ.L$)(e,u,!0,d)}},(0,p.tx)("dev_handoff.workflows.focus_view.activity.compare_previous"))),iconOverride:m&&n?e=>a.createElement("div",{className:s$},e,i?.status===r.zIx.COMPLETED?a.createElement(sJ.g,{className:s0}):a.createElement(op.A,{className:s0})):void 0,onSelect:o?void 0:s,view:null,isActive:o,userUrl:null,versionId:sY.V_,dispatch:u,isAllowedToChangeVersion:()=>!o,first:!0,last:!1,isUI3:m,editorType:eL._Y.DESIGN})}var ct=n(40987);function cn(){let e=(0,eN.hA)(),t=(0,tq.Os)(e??""),n=(0,tq.jh)(e??void 0),l=s8(),o=s9(),s=(0,i.md)(ct.pc);if("loading"===t||t&&0===t.length&&s)return a.createElement("div",{"data-onboarding-key":sH,className:"dev_handoff_activity_panel--loading--kM0Yf"},a.createElement(e7.kt,null));if(!t||0===t.length||!e)return a.createElement("div",{"data-onboarding-key":sH});let c=new e3.q(r.juq.LIVE_FILE).get(e??""),d=t[0],u=!!c?.editInfo?.lastEditedAt&&d.timestamp.getTime()<1e3*c.editInfo.lastEditedAt;return a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.workflows.focus_view.activity.versions"),recordingKey:"activityLog",headerOnboardingKey:sH},a.createElement("div",{className:"dev_handoff_activity_panel--activityEvents--9uFul"},u&&a.createElement(ce,{lastEditedAt:c?.editInfo?.lastEditedAt,latestReadyForDevVersionId:d.id,hasEdits:!0,status:c?.getStatusInfo(),isActive:l,onSelect:()=>o(e),showCompareChanges:!0,focusNodeId:e}),s&&a.createElement("div",{className:"dev_handoff_activity_panel--loadingInline--WHTg6"},a.createElement(e7.kt,null)),t.map((l,r)=>{let i=r===t.length-1;return a.createElement(ca,{key:r,activity:l,prevActivity:i?null:t[r+1],isOldest:i,isLatest:0===r&&!u,versions:n.versions,focusNodeId:e})})))}function ca({activity:e,prevActivity:t,isOldest:n,isLatest:o,versions:s,focusNodeId:c}){let d=(0,l.wA)(),u=(0,e1._6)(),m=(0,tG.GS)(),f=(0,l.d4)(e=>e.versionHistory),g=e.version?.id??void 0,h=s8(),_=(0,i.md)(rJ.wg),E=(0,eu.U)(),y=h&&o||g===f.activeId,v=function(e,t,n){let i=(0,eN.hA)(),o=(0,l.wA)(),s=(0,e1._6)(),c=s7(),d=(0,eu.U)();return a.useCallback((a,l)=>{if(t&&!a){if(n){c();return}d("Dev Mode Activity Load Version",{entrypoint:l}),o(ex.$T({...s,versionId:t})),o(sW.Y6({mode:r.Oin.KEEP_UI,type:sX.lF.SPINNER})),requestAnimationFrame(()=>{o((0,sY.Nb)({id:t,nodeId:i??void 0,eventType:"LOAD_NEW_VERSION",versions:e}))})}},[t,n,e,i,o,s,c,d])}(s,g,o),b=()=>{E("Dev Mode Activity Compare Changes",{source:o?"compare_previous":"compare_to_latest"});let e=o&&t?.version?.id||g;(0,tQ.L$)(e,d,!0,c)},w=s7(),{toggle:N,showing:x}=(0,i3.BK)(`DROPDOWN_TYPE_ACTIVITY_LOG_${e.id}`),[k,I]=a.useState(null),T=e.metadata?.status===eL.zI.BUILD&&null!==t,C=!!g&&g!==f.activeId;return a.createElement(a.Fragment,null,a.createElement(sj.jP,{description:e.version?.description??void 0,label:"activity-row",displayText:a.createElement(s3,{activity:e,isLatest:o}),view:null,iconOverride:s6(m,e,n||y),onSelect:C?()=>v(y,"row"):void 0,onHoverMenuCallback:g?e=>{e.stopPropagation(),I(e.currentTarget.getBoundingClientRect()),N()}:void 0,forceShowHoverMenu:x||y,isActive:y&&!o,user:e.user.name||"",userUrl:e.user.imgUrl,isAllowedToChangeVersion:()=>C,versionId:g||"NO_VERSION",dispatch:d,first:o,last:n,isUI3:m,editorType:eL._Y.DESIGN,rowBodyFooter:o&&T?a.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonReady--mGQg4",onClick:b},(0,p.tx)("dev_handoff.workflows.focus_view.activity.compare_previous")):void 0}),x&&k&&a.createElement(sq.Cf,{targetRect:k},!o&&(y?a.createElement(sR.c$,{onClick:w},(0,p.tx)("dev_handoff.workflows.focus_view.back_to_current")):a.createElement(sR.c$,{onClick:()=>v(y,"dropdown_option")},(0,p.tx)("dev_handoff.workflows.focus_view.inspect_version"))),(!o||T)&&a.createElement(sR.c$,{onClick:b},o?(0,p.tx)("dev_handoff.workflows.focus_view.compare_previous_menu_item"):(0,p.tx)("dev_handoff.workflows.focus_view.compare_latest")),a.createElement(sR.c$,{onClick:()=>{E("Dev Mode Activity Copy Link To Version"),(0,sj.S)(d,u,g)}},(0,p.tx)("dev_handoff.workflows.focus_view.copy_link_to_version")),_&&a.createElement(sR.c$,{onClick:()=>{if(!_)return;let t=e.version;t&&d(ek.to({type:sQ.S9,data:{label:s5(e),description:t.description,savepointID:t.id}}))}},(0,p.tx)("collaboration.feedback.context_menu.edit_version_info"))))}var cl=n(200243),cr=n(189283),ci=n(791011),co=n(347740);function cs(){return a.createElement(a.Fragment,null,a.createElement(cl.Xh,null),a.createElement(co.U,null),a.createElement(rr.ZN,null),a.createElement(ci.o,null),a.createElement(cr.yg,null))}var cc=n(963067),cd=n(459674);function cu(){let{selectionProperties:e}=(0,ei.R)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,nv.nl)(),n=(0,nv.cW)(),r=(0,nv.Be)(),i=(0,cc.Yo)(),o=(0,l.wA)(),s=(0,b.tS)();return a.createElement(cd.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:t,publishedPlugins:n,allSavedPlugins:r.plugins,orgEntity:i,dispatch:o,openFileKey:s,editorType:eB.nT.DevHandoff,numSelected:e.numSelected??0,recordingKey:"devHandoffPluginPanel",title:(0,p.t)("dev_handoff.plugin_panel.title"),isDevHandoff:!0})}var cm=n(945099),cp=n(373119),cf=n(143678),cg=n(70575),ch=n(12920),c_=n(853497),cE=n(783908),cy=n(37112),cv=n(400181),cb=n(301854),cw=n(215837);function cN(){let e=(0,ec.VW)();return e?.isModule}var cx=n(238093);let ck="typography_preview--measureContainer--D1G5R",cI="typography_preview--measure---sPO7",cT="typography_preview--value--v5BEy text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",cC=(0,ao.jz)(oL.WPY);function cS({fillContainer:e=!1}){let t=(0,ec.VW)(),n=(0,l.d4)(e=>e.mirror.selectionProperties.selectedFonts);return!t||!t.isAlive()||"TEXT"!==t.type||!t.fontName||!n||n?.fonts.length<1?null:a.createElement(t0.VZ,{hideHeader:!0,padding:t0.UZ.NONE,noBorder:!0,recordingKey:"typographyPreview"},a.createElement(cA,{nodeId:t.guid,containerClassName:e?"typography_preview--previewContainerFill--QUwgr":"typography_preview--previewContainerBoxed--yWT-0 typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--well--J0WtH",numberOfFonts:n.fonts.length}))}function cA({nodeId:e,containerClassName:t="typography_preview--previewContainerFullWidth--61D4v typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--sectionWithBottomSeparator--N54QE",numberOfFonts:n=1,localCodeLanguage:l}){let i=function(e){let t=(0,K.DP)(),n=(0,as.rL)()-32,[l,i]=a.useState({...cF,loading:!0}),{family:o,style:s}=(0,ox.Fk)(t=>{let n=t.get(e),{family:a,style:l}=n?.fontName||{};return{family:a,style:l}}),c=a.useCallback(()=>{i(e=>({...e,imageLoading:!1}))},[]);return a.useEffect(()=>{let t=e=>{i(t=>{cR(t?.url);let n=!!e.url&&(t.fontFamily!==e.fontFamily||t.fontStyle!==e.fontStyle);return{...t,...e,imageLoading:n,loading:!1,error:!e.url&&e.error}})},n=()=>{t({...cF,url:void 0,error:!0})};(async()=>{if(!o||!s)return;if(r.vXe.fontsAreLoading()){let e=0;await new Promise((t,n)=>{let a=setInterval(()=>{r.vXe.fontsAreLoading()||(t(),clearInterval(a)),e>10&&n(),e++},100)})}if(!r.vXe.fontIsLoaded(o,s)){n();return}let a=r.w3z.getTypographyPreview(e);if(a&&a.thumbnail?.byteLength>0){let{thumbnail:e,...n}=a,l=URL.createObjectURL(new Blob([e]));t({...n,url:l})}else n()})().catch(()=>{n()})},[e,n,o,s,t]),a.useEffect(()=>()=>cR(l?.url),[l?.url]),{...l,onImageLoaded:c}}(e),{fontName:o,inheritedTextStyle:s}=(0,ox.Fk)((e,t)=>{let n=e.get(t);return{fontName:n?.fontName,inheritedTextStyle:n?.inheritedTextStyle}},e);return a.createElement("div",{className:t},i.loading?a.createElement(cO,null):a.createElement(cP,{data:i,font:o,styleId:s,numberOfFonts:n,localCodeLanguage:l}))}function cP({data:e,font:t,styleId:n,numberOfFonts:l,localCodeLanguage:r}){let i=(0,lw.qM)(r,e.lineHeightInPx,cM,{isTextProperty:!0}),o=(0,lw.qM)(r,e.fontSizeInPx,cM,{isTextProperty:!0}),s=e.textStyleNodeId||(0,cx.f$)(n),{styleName:c,styleDescription:d}=(0,ox.wA)((e,t)=>{if(!t||0===t.length)return{};let n=t[0];if(!n)return{};let a=e.get(n);return{styleName:a?.name,styleDescription:a?.description}},[s]),u=(0,t$.Cj)(i),m=(0,t$.Cj)(o),f=(0,t$.Cj)(c),g=cC-16-((0,ai.fn)((0,ai.sH)(e.textStyleNodeId))||l>1?40:0),h=e.fullSize.y>g?e.fullSize.y/g:1,_=e.fullSize.y/h,E=e.fullSize.x/h,y=_+1,v=e.capPosition/h,b=e.baselinePosition/h,w=e.bottomPosition/h,N=`calc((100% - ${E}px) / 2)`,x=l>1?a.createElement("div",{className:"typography_preview--label--pJ-5L typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.typography_preview_multiple_styles")):c?a.createElement(P.E,{className:"typography_preview--styleName--tA801 typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:f,"aria-label":(0,p.t)("inspect_panel.code.style"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":d,"data-tooltip-show-above":!0}},c):null;return a.createElement("div",{className:D()("typography_preview--previewHighlights--zrIw3",e.imageLoading?"typography_preview--hidden--pKo8l":"typography_preview--shown--6sBFE")},e.error?a.createElement(cD,{font:t}):a.createElement("div",{className:"typography_preview--centredRow--3-Ofp",style:{marginTop:(g+16-y)/2,height:y}},a.createElement("div",{className:ck,style:{marginTop:v,marginBottom:_-w}},a.createElement("div",{className:D()(cI,"typography_preview--left--wzNxs")},a.createElement(P.E,{className:cT,onClick:m,"aria-label":(0,p.t)("inspect_panel.code.font_size"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("inspect_panel.code.font_size"),"data-tooltip-show-above":!0}},o))),a.createElement("div",{className:"typography_preview--measurementLines--U03DM",style:{width:E,height:_,left:N,right:N}},a.createElement(cL,{position:v}),a.createElement(cL,{position:b}),a.createElement(cL,{position:w})),a.createElement(U.J,{className:"typography_preview--borderedPreview--wYbvY",style:{width:E,height:_},src:e.url,onLoad:e.onImageLoaded,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":t?`${t.family} ${t.style}`:void 0,"data-tooltip-show-above":!0}),a.createElement("div",{className:ck},a.createElement("div",{className:D()(cI,"typography_preview--right--QhAIw")},a.createElement(P.E,{className:cT,onClick:u,"aria-label":(0,p.t)("inspect_panel.typography.line_height"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("inspect_panel.typography.line_height"),"data-tooltip-show-above":!0}},i)))),x)}function cL({position:e}){return a.createElement("div",{className:"typography_preview--measurementLine---lBL5",style:{top:e}})}function cO(){let[e,t]=a.useState(!1);return(a.useEffect(()=>{let e=setTimeout(()=>t(!0),250);return()=>clearTimeout(e)},[]),e)?a.createElement(e7.kt,null):null}function cD({font:e}){let t=e?.family,n=e?.style??"",l=t&&!r.vXe.fontIsLoaded(t,n)&&t?(0,p.t)("dev_handoff.typography_preview_missing_font",{fontFamily:t,fontStyle:n}):void 0;return a.createElement("div",{className:"typography_preview--previewError--Kwn7m"},a.createElement("span",{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":l},(0,p.tx)("dev_handoff.typography_preview_not_available")))}let cM=e=>e.toLocaleString("en",{maximumFractionDigits:3,useGrouping:!1}),cR=e=>{e&&URL.revokeObjectURL(e)},cF={url:void 0,fullSize:{x:0,y:0},capPosition:0,baselinePosition:0,bottomPosition:0,fontSizeInPx:0,lineHeightInPx:0,fontFamily:"",fontStyle:"",textStyleNodeId:""};function cB({fillContainer:e=!1}){let t=(0,ec.VW)();return t?.type==="TEXT"?a.createElement(cS,{fillContainer:e}):a.createElement(lU,{fillContainer:e})}var cK=n(495085);function cU(){let e=cN(),t=(0,ec.VW)(),n=t?.description;return e?a.createElement(a.Fragment,null,a.createElement("div",{className:"module_documentation_panel--spacer--fEdqY"}),a.createElement(ns,{description:n,emptyStateText:(0,p.t)("inspect_panel.templates.no_templates_description")})):null}var cz=n(118830);function cH({module:e}){let t=(0,as.rL)(),n=e.guid,l=t-64,r=(0,cz.O)({assetId:n,thumbnailVersion:1,width:4*l,height:4*am,scale:4});return a.createElement(tB.D8,{className:ad,style:r?.backgroundStyle,role:"button",tabIndex:0},r?.url&&a.createElement(U.J,{className:au,src:r.url,style:{maxWidth:l,maxHeight:am}}))}function cV(){let e=(0,ec.VW)();return e?.isModule?a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.inspect_panel.template"),recordingKey:"templatePanel"},a.createElement(cH,{module:e}),a.createElement(cU,null)):null}var cG=n(397863),cW=n(631437);function cY(){return!!(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===r.m1T.DEV_HANDOFF_HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var cX=n(309798),cj=n(754369),cq=n(335601),cQ=n(452441);let cJ="add_developer_related_link_row--inputRow--0rB-c text--fontPos11--2LvXf text--_fontBase--QdLsd";var cZ=n(949554);function c$({onCancel:e,onSuccess:t,existingUrls:n,onFocus:r,onUnfocus:i,addExtraPadding:o=!1}){let s=(0,l.wA)(),[c,d]=a.useState(""),[u,m]=a.useState(!1),f=a.useCallback(e=>d(e.target.value),[]),g=(0,np.eY)(),h=(0,nn.Nf)()??"",_=g.get(h),E=(0,b.tS)(),y=nM(c),{inputRef:v,inputProps:{onFocus:w,onMouseUp:N,onMouseLeave:x,onKeyUp:k,onChange:I}}=(0,cq.X)({onChange:f}),T=a.useCallback(async()=>{let e=c;if(!(0,nR.G)(e)||!(0,nR.H)(e)){if(e="http://"+e,!(0,nr.FB)(e)||!(0,nR.G)(e)){s(eb.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}d(e)}if(n.includes(e)){s(eb.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.duplicate_link_error"),error:!0,timeoutOverride:2e3}));return}m(!0),i();let a=(0,nC.DY)({fileKey:E,nodeId:h,url:e,onPost:t,nodeType:_?.type,source:"web",pluginId:y?.plugin.plugin_id});try{let e=await a;m(!1);let t=nC.Rb.safeParse(e.data);if(!t.success||!y)return;let n=t.data.meta;y.genPreview({link:{id:n.id,linkUrl:n.link_url,linkName:n.link_name,linkPreview:null,linkPreviewJson:"",nodeId:n.node_id,fileKey:n.file_key,isUserOverride:n.is_user_override,isInherited:!1}})}catch(e){console.error(e),s(eb.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.link_error",{errorMessage:e.message}),error:!0,timeoutOverride:2e3}))}finally{m(!1)}},[c,n,i,E,h,t,s,_?.type,y]),C=async t=>{"Enter"===t.key&&!t.shiftKey&&c?await T():"Escape"===t.key&&e()};if(a.useEffect(()=>{let t=t=>{v.current&&!v.current.contains(t.target)&&(c&&""!==c?T():e())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,v,T,c]),u){let e=new URL(c).host;return e.startsWith("www.")&&(e=e.slice(4)),a.createElement(rs.fI,{className:cJ},a.createElement(e7.kt,{className:"add_developer_related_link_row--loadingSpinner--zWFF2"}),a.createElement(rs.UZ,null,e))}return a.createElement(rs.fI,{className:D()(cJ,o&&R.cx.pb8.$)},a.createElement(tp.B,{svg:cZ.A,className:R.cx.colorIconSecondary.$}),a.createElement(cQ.L,{ref:v,className:"add_developer_related_link_row--input--4Y-uG",onFocus:e=>{w(e),r()},onMouseUp:N,onMouseLeave:x,onChange:I,onKeyDown:C,onKeyUp:k,value:c,placeholder:(0,p.t)("dev_handoff.developer_related_links.link_placeholder"),autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",autoFocus:!0}))}var c0=n(44948),c1=n(675678),c2=n(776621),c3=n(330654);let c5=c3.object({type:c3.literal("PLAIN_TEXT"),text:c3.string()}),c4=c3.union([c5,c3.null()]),c7=c3.object({type:c3.literal("AUTH_REQUIRED")}),c8=(c3.union([c7,c5,c3.null()]),c3.object({type:c3.literal("AUTH_SUCCESS")}));function c6(e){if(!e)return null;try{let t=JSON.parse(e),n=c4.safeParse(t);if(!n.success)return null;return n.data}catch(t){return(0,c2.$D)(c1.FigmaTeam.DEVELOPER_TOOLS,t,{extra:{previewJson:e}}),null}}c3.union([c8,c3.null()]);var c9=n(857766);function de(e,t){let n=(0,u.Rs)(w.Ssd,{fileKey:e,nodeId:t});return(0,c0.k9)(()=>"loaded"===n.status&&n.data.file?.developerRelatedLinksForNode?[n.data.file.developerRelatedLinksForNode.map(e=>({...e,linkPreview:c6(e.linkPreviewJson)})),"loaded"]:[[],n.status],[n])}let dt=(0,eq.Ju)(function(e){let t=e.linkId,n=(0,nn.Nf)()??"",r=(0,b.tS)(),i=(0,np.eY)().get(n),o=(0,l.wA)(),s=async()=>{if(!r||!n)return;let e=(0,nC.Tz)({fileKey:r,linkId:t,nodeId:n,nodeType:i?.type,source:"web"});o(ek.Ce());try{await e}catch(e){console.error(e),o(eb.F.enqueue({message:`Could not delete link: ${e.message}`,error:!0,timeoutOverride:2e3}))}};return a.createElement(aV.Rw,{destructive:!0,confirmationTitle:(0,p.tx)("dev_handoff.developer_related_links.delete_link"),confirmText:(0,p.tx)("dev_handoff.developer_related_links.delete_link"),onConfirm:s},a.createElement("p",null,(0,p.tx)("dev_handoff.developer_related_links.delete_link_text_body")))},"DeveloperRelatedLinksDeleteModal");var dn=n(147755),da=n(498750);let dl="developer_related_links_edit_modal--fieldContainer--Twtv-",dr="developer_related_links_edit_modal--label--cxfFD",di=(0,eq.Ju)(function({initialLink:e,...t}){let n=T.hS(t),{id:r,linkName:i,linkUrl:o}=e,[s,c]=a.useState(o),d=e.linkPreview?.text,[u,m]=a.useState(!e.isUserOverride&&d?"":i),[f,g]=a.useState(!1),h=(0,nn.Nf)()??"",_=(0,b.tS)(),E=(0,np.eY)().get(h),y=(0,l.wA)(),v=a.useCallback(e=>m(e.target.value),[]),w=a.useCallback(e=>c(e.target.value),[]),{inputRef:N,inputProps:{onFocus:x,onMouseUp:k,onMouseLeave:I,onKeyUp:P,onChange:L}}=(0,cq.X)({onChange:v}),O=nM(s),{inputRef:D,inputProps:{onFocus:M,onMouseUp:R,onMouseLeave:F,onKeyUp:B,onChange:K}}=(0,cq.X)({onChange:w}),U=async()=>{let t;if(!h||!_)return;let n=s;if((!(0,nR.G)(n)||!(0,nR.H)(n))&&(n="http://"+n,!(0,nR.G)(n))){y(eb.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}g(!0);let a=u;u&&""!==u||(a=await (0,nC.yf)(n)),s!==o&&u!==i?t=!0:s!==o?O&&(t=!1):u!==i&&(t=!!u||!e.linkPreview);let l=(0,nC.Cq)({fileKey:_,nodeId:h,linkId:r,name:a,url:n,isUserOverride:t,clearLinkPreview:s!==o,nodeType:E?.type,source:"web",pluginId:O?.plugin.plugin_id});O&&!t&&O.genPreview({link:{...e,linkUrl:s,linkName:u,isUserOverride:!1}}),y(ek.Ce());try{await l}catch(e){console.error(e),y(eb.F.enqueue({message:`Could not edit link: ${e.message}`,error:!0,timeoutOverride:2e3}))}},z=f||!s||i===u&&o===s,H=e=>{e.keyCode===da.Uz.ENTER&&!e.shiftKey&&u&&s?U():e.keyCode===da.Uz.ESCAPE&&y(ek.Ce())},V=(0,dn.X)();return a.createElement(C.bL,{manager:n,width:"md"},a.createElement(S.vo,null,a.createElement(S.Y9,null,a.createElement(S.hE,null,(0,p.tx)("dev_handoff.developer_related_links.edit_link"))),a.createElement(S.nB,null,a.createElement("div",{className:dl},a.createElement("p",{className:dr},(0,p.tx)("dev_handoff.developer_related_links.link")),a.createElement(cQ.L,{ref:D,className:"developer_related_links_edit_modal--input--mw5Qe",onFocus:M,onMouseUp:R,onMouseLeave:F,onChange:K,onKeyDown:H,onKeyUp:B,value:s,autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",disabled:f})),a.createElement("div",{className:dl},a.createElement("p",{className:dr},(0,p.tx)("dev_handoff.developer_related_links.name")),a.createElement("div",{className:"developer_related_links_edit_modal--inputContainer--jplkF"},a.createElement("div",{className:"developer_related_links_edit_modal--favicon--aNxtZ"},a.createElement(tS.v,{url:o})),a.createElement(cQ.L,{ref:e=>{V(e),N.current=e},className:"developer_related_links_edit_modal--inputName--oSwwG",onFocus:x,onMouseUp:k,onMouseLeave:I,onChange:L,onKeyDown:H,onKeyUp:P,value:u,autoCorrect:"off",autoFocus:!0,recordingKey:"devRelatedLinkNameInput",disabled:f,placeholder:d})))),a.createElement(S.wi,null,a.createElement(S.jk,null,a.createElement(A.$n,{variant:"secondary",onClick:()=>y(ek.Ce())},(0,p.tx)("dev_handoff.developer_related_links.cancel")),a.createElement(A.$n,{onClick:U,disabled:z,type:"submit"},(0,p.tx)("dev_handoff.developer_related_links.edit_link"))))))},"DeveloperRelatedLinksEditModal"),ds="developer_related_links_panel--addButton--0Fv7K draggable_list--addButton--D0q--",dc="developer_related_links_panel--hint--n8Jpr text--fontPos11--2LvXf text--_fontBase--QdLsd",dd="dev_handoff_dev_resources_plus_icon_clicked_once",du=(0,nE.eU)(!1);function dm({links:e,status:t,isVariant:n=!1}){return"loaded"!==t||"loaded"===t&&0===e.length?null:a.createElement(a.Fragment,null,e.map(e=>a.createElement(nF,{key:e.linkUrl,isEditable:!1,link:{...e,isInherited:!0,isVariant:n},onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})))}function dp(){let e=(0,l.wA)(),t=(0,nn.Nf)()??"",n=(0,b.uL)()??"",o=(0,np.eY)(),c=(0,ec.uQ)(),d=(0,l.d4)(e=>e.mirror.appModel.currentPage),m=o.get(c??d),f=m?.type==="SYMBOL"||m?.isStateGroup,g=(0,s.wS)(),h=(0,eu.U)(),_=(0,l9.LS)(),E=!!(0,cX.f)(dd),y=function(){let e=cY(),t=(0,b.q5)(),n=t?.repo,a=!!(t&&n&&(0,c9.Ns)(t,n))||!n;return!e&&a}(),v=cY(),[N,x]=function(e){let t=(0,u.Rs)(w.jJU,{fileKey:e});return(0,c0.k9)(()=>"loaded"===t.status&&t.data.file?.developerRelatedLinks?[t.data.file.developerRelatedLinks.map(e=>({...e,linkPreview:c6(e.linkPreviewJson)})),"loaded"]:[[],t.status],[t])}(n),k=a.useMemo(()=>N.filter(e=>e.nodeId===t)??[],[N,t]),[I,T]=a.useState(!1),{singleBackingSymbol:C,singleBackingStateGroup:S}=(0,cj.$)([m?.guid??""]),{backingSymbol:A,backingStateGroup:P}=(0,s.Bv)(C,S),L="loaded"===g.status,O=m?.type==="INSTANCE"||L,M=(0,nl.yW)(A),[R,F]=de(M??"",A?.publishID??""),[B,K]=de(M??"",P?.publishID??""),U=!!M&&M!==n,z=A?.guid;O&&z&&!U&&(R=N.filter(e=>e.nodeId===z)??[],F=x),O&&P&&!U&&(B=N.filter(e=>e.nodeId===P.guid)??[],K=x);let[H,V]=a.useState(!1),G=a.useCallback(()=>{m?.isAlive()&&(V(!0),E||e(Z.b({[dd]:!0})),h("Dev Handoff Related Links Click Plus Icon",{nodeId:t,nodeType:m?.type,source:"web"}))},[E,h,t,m,e]),[W,Y]=(0,i.fp)(du);a.useEffect(()=>{W&&(G(),Y(!1))},[W,G,Y]);let X=y&&k.length<10,j=a.useMemo(()=>N&&function(e,t,n){let a=new Map,l=new Map;return e.forEach(e=>{if(r.glU.getPageIdFromNode(e.nodeId)!==n)return;let i=t.get(e.nodeId);for(;i;){let t=l.get(i.guid);if(t){a.get(t)?.push(e);return}let n=i.parentNode;if(!n||"SECTION"===i.type||"CANVAS"===i.type)return;if("FRAME"===i.type&&!i.isStateGroup&&!i.resizeToFit&&(n?.type==="SECTION"||n?.type==="CANVAS")){a.get(i.guid)?a.get(i.guid)?.push(e):a.set(i.guid,[e]),l.set(e.nodeId,i.guid);return}i=n}}),a}(N,o,d),[N,t,d]);if(0===k.length&&v)return null;let q=e0.z4.getIsExtension(),Q=t=>{e((0,ek.to)({type:di,data:{initialLink:t}}))},J=(t,n)=>{e((0,ek.to)({type:dt,data:{linkId:t,initialLinkUrl:n}}))},$=m?.type==="SECTION"&&j&&function(e,t){let n=new Map;for(let a of t.childrenNodes){let t="FRAME"===a.type&&e.get(a.guid);t&&n.set(a.guid,t)}return n}(j,m),ee=k.length>0||H||R.length>0||B.length>0||!_&&j&&j.size>0||$&&$.size>0,et="loaded"===x&&"loaded"===F&&"loaded"===K;return a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.developer_related_links.links"),recordingKey:"developerLinks",headerChildren:a.createElement(a.Fragment,null,!et&&a.createElement(rs.fI,{className:"developer_related_links_panel--spinner--2ofDP draggable_list--addButton--D0q--"},a.createElement(e7.kt,{className:ds})),et&&X&&!I&&a.createElement("span",{className:ds},a.createElement(t7.K,{"aria-label":(0,p.t)("dev_handoff.developer_related_links.add_link_button"),onClick:G,recordingKey:"addDevRelatedLink",htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.developer_related_links.add_link_button"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(cG.x,null)))),hideHeader:q},!ee&&(!E||q)&&et&&a.createElement(rs.fI,{className:D()("developer_related_links_panel--spinnerContainer--d-B-K")},a.createElement(rs.JU,{className:D()(q?"developer_related_links_panel--hintExtension--KCW5n text--fontPos11--2LvXf text--_fontBase--QdLsd":dc)},(0,p.tx)("dev_handoff.developer_related_links.empty_info"))),k.map(e=>a.createElement(nF,{key:e.linkUrl,isEditable:y&&"figmadoc"!==e.id,link:{...e,isInherited:!1},onOpenDeleteModal:J,onOpenEditModal:Q})),H&&a.createElement(c$,{onCancel:()=>{V(!1),T(!1)},onSuccess:()=>{V(!1),T(!1)},onFocus:()=>T(!0),onUnfocus:()=>T(!1),existingUrls:k.map(e=>e.linkUrl),addExtraPadding:!(R.length>0||B.length>0||k.length>0)}),P&&O&&a.createElement(dm,{status:K,links:B}),R&&O&&a.createElement(dm,{status:F,links:R,isVariant:null!==P}),a.createElement(dh,{links:[...k,...R,...B]}),!_&&j&&a.createElement(df,{frameToLinks:j}),m?.type==="SECTION"&&$&&a.createElement(df,{frameToLinks:$}),ee&&!H&&f&&a.createElement(rs.JU,{className:D()(dc)},(0,p.tx)("dev_handoff.developer_related_links.component_inherited_links_desc")))}function df(e){let t=(0,np.eY)();return a.createElement(a.Fragment,null,Array.from(e.frameToLinks.entries()).map(([n,l],r)=>a.createElement(dg,{key:r,guid:n,sceneGraph:t,links:l,isLast:r===e.frameToLinks.size-1})))}function dg(e){let{guid:t,sceneGraph:n}=e,[l,i]=a.useState(!1),o=n.get(t),[s,c]=a.useState(!1);if(!o)return null;let d=o.name;return s||(d=d+" ("+e.links.length+")"),a.createElement("div",{className:D()(s&&!e.isLast&&R.cx.pb8.$),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},a.createElement("div",{className:"developer_related_links_panel--sectionHeader--VHgzU"},a.createElement(P.E,{className:"developer_related_links_panel--sectionHeaderButton--hvqKn",onClick:e=>{e.stopPropagation(),c(!s)},actionOnPointerDown:!0},a.createElement("div",{className:"developer_related_links_panel--sectionHeaderButtonContent--p4hHo"},a.createElement(tp.B,{className:"developer_related_links_panel--expandCaret--2h9sN",svg:s?tv.A:oD.A}),a.createElement(tZ.Bf,{className:"developer_related_links_panel--layerIcon--NG2rK",guid:o.guid}),a.createElement("div",{className:"developer_related_links_panel--sectionName--xeFyg text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},d))),l&&a.createElement("span",{className:"developer_related_links_panel--goToTargetButton--JZoyi"},a.createElement(t7.K,{onClick:()=>r.w3z.selectAndFocusOnNode(o.guid,!0),"aria-label":(0,p.t)("dev_handoff.developer_related_links.select_frame"),htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.developer_related_links.select_frame"),"data-tooltip-type":tj.Ib.TEXT}},a.createElement(cW.A,null)))),s&&e.links.map((e,t)=>a.createElement(nF,{key:t,link:{...e,isInherited:!1,isNested:!0},isEditable:!1,onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})))}function dh({links:e}){let[t,n]=(0,i.fp)(ny),l=a.useMemo(()=>{let n=new Set(e.map(e=>e.linkUrl));return Object.values(t).filter(e=>!!e&&e.links.some(e=>n.has(e.linkUrl)))},[e,t]);async function r({links:e,plugin:t}){if(await nS.instance.runAuth({plugin:t,links:e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId}))})){n(e=>{let n={...e};return delete n[t.plugin_id],n});try{await Promise.all(e.map(e=>nS.instance.generateLinkPreview({plugin:t,link:e})))}catch(e){console.error(e)}}}return l&&0!==l.length?a.createElement(em.Y,{spacing:4,direction:"vertical",width:"fill-parent",horizontalAlignItems:"start",padding:{top:4,left:16}},Array.from(l).map((e,t)=>a.createElement(ef.E,{key:t},(0,p.tx)("dev_handoff.related_links.plugin.auth_required",{button:a.createElement("button",{className:R.cx.colorTextBrand.bgTransparent.$,onClick:()=>r({links:e.links,plugin:e.plugin})},a.createElement(ef.E,null,(0,p.tx)("dev_handoff.related_links.plugin.connect_to",{pluginName:e.plugin.name})))})))):null}var d_=n(358145),dE=n(257624),dy=n(341993),dv=n(470669),db=n(621856),dw=n(420186),dN=n(746806),dx=n(984031);let dk="selection_styles_panel--selected--Jjay3",dI="selection_styles_panel--styleProperties--c0D7S",dT=(0,ao.jz)(oL.q9j);function dC(){let e=rn("EFFECT"),t=rn("TEXT");return a.createElement(a.Fragment,null,e.visibleItems.length>0&&a.createElement(B.fu,{name:"Selection styles panel",properties:{resourceType:"Effect",count:e.totalItems}},a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.selection_effect_styles"),recordingKey:"devModeSelectionEffectStyles"},e.visibleItems.map(e=>a.createElement(dP,{key:e?.key,styleData:e})),e.showMoreButton)),t.visibleItems.length>0&&a.createElement(B.fu,{name:"Selection styles panel",properties:{resourceType:"Text",count:t.totalItems}},a.createElement(t0.VZ,{title:(0,p.t)("dev_handoff.selection_text_styles"),recordingKey:"devModeSelectionTextStyles"},t.visibleItems.map(e=>a.createElement(dP,{key:e?.key,styleData:e})),t.showMoreButton)))}let dS=(0,B.tf)(P.E),dA=(0,B.tf)(t7.K);function dP({styleData:e}){let t=a.useRef(null),n=(0,l.d4)(e=>e.modalShown),i=(0,l.wA)(),o=(0,t$.Cj)(e.styleName),s=a.useCallback(a=>{if(a.stopPropagation(),!t.current)return;r.glU.selectStyleByGuid(e.styleNodeId),n&&i(ek.Ce());let l=(0,dw.cn)(t?.current,dT+4);i(ek.$O({type:dB.type,data:{styleData:e,position:l}}))},[i,n,e]),c=n?.type===dB.type&&n?.data?.styleData?.styleNodeId===e.styleNodeId;return a.createElement("div",{className:D()("selection_styles_panel--styleRow--t--sj",c&&dk),onMouseEnter:()=>r.kTx.highlightOnlySameStyleInSublayers(e.guids),onMouseLeave:()=>r.kTx.highlightOnlySameStyleInSublayers([]),ref:t},a.createElement(dS,{onClick:o,"aria-label":(0,p.t)("dev_handoff.selection_styles_copy"),className:"selection_styles_panel--styleCopyButton--RHcE4",trackingProperties:{name:"Selection style name copy",resourceType:e.style_type}},a.createElement("div",{className:"selection_styles_panel--icon--6ej2T"},a.createElement(rc.zi,{dsStyle:e,disableTooltip:!0})),a.createElement("div",{className:"selection_styles_panel--styleNameRow--vKSSL text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.styleName)),a.createElement("div",{className:D()("selection_styles_panel--detailsButton--puJ6O",c&&dk)},a.createElement(dA,{"aria-label":(0,p.t)("general.open"),onClick:s,trackingProperties:{name:"Selection style details open",resourceType:e.style_type}},a.createElement(tD.J,null))))}function dL({data:e}){let{styleData:t,position:n}=e,{style_type:r,name:o,styleNodeId:s}=t,c=(0,ec.uQ)(),d=(0,d_.ZC)(c),u=(0,l.d4)(e=>e.mirror.selectedStyleProperties),f=(0,l.wA)(),g=a.useRef(null),h=function({initialInspectionMode:e,initialCodeLanguage:t,trackingProperties:n}={}){let l=(0,B.j6)(),r=(0,i.md)(cm.hq),[o,s]=(0,a.useState)(e??r),c=(0,a.useCallback)(e=>{s(e),n&&l.trackEvent("CTA clicked",{...n,name:"Change inspection mode",inspectionMode:e})},[l,n]),d=(0,tP.v4)(),[u,m]=(0,a.useState)(t??d),p=(0,a.useCallback)(e=>{m(e),n&&l.trackEvent("CTA clicked",{...n,name:"Change code language",type:e.type,pluginId:e.id})},[l,n]),f=(0,lw.aq)(u),g=(0,is.ZA)(u,f),h=(0,db.q)(u),_=(0,lw.gc)(u.id),E=(0,dv.V0)({codeLanguage:u,onChange:p}),y=(0,cm.Ar)();return{inspectionMode:y.find(e=>e===o)||y[0],setInspectionMode:c,supportsAlternativeUnits:g,preferenceOptions:h,preferences:_,codeLanguageApi:E,inspectionModes:y}}({trackingProperties:{type:"preferences"}}),{inspectionMode:_,codeLanguageApi:E}=h,y=a.useCallback(()=>{f(ek.Ce())},[f]);a.useEffect(()=>{d&&c!==d&&y()},[y,d,c]);let v="EFFECT"===r?dM:dR,b="EFFECT"===r?(0,p.t)("dev_handoff.selection_effect_style_details"):(0,p.t)("dev_handoff.selection_text_style_details"),w="TEXT"===r?a.createElement(cA,{nodeId:s}):a.createElement(dx.we,{selectedStyleProperties:u,snug:!0});return a.createElement(B.fu,{name:"Selection styles details modal",properties:{resourceType:r}},a.createElement(dN.vx,{title:b,headerSize:"small",initialWidth:dT,initialPosition:n,recordingKey:"handoffStyleDetailsModal",onClose:y,autoflowHeight:!0,dragHeaderOnly:!0,alwaysEnsureModalOnScreen:!0,alwaysEnsureHeaderModalOnScreen:!0},a.createElement(t0.VZ,{hideHeader:!0,padding:t0.UZ.NONE,noBorder:!0,recordingKey:"styleDetails"},w,a.createElement("div",{className:"selection_styles_panel--header--zwndz"},!t.isLocal&&a.createElement(dy.J,{libraryFileKey:t.file_key,containerClassName:"selection_styles_panel--library--abEh8"}),a.createElement("div",{className:"selection_styles_panel--name--kqyUR text--fontPos13--xW8hS text--_fontBase--QdLsd"},o),a.createElement(dO,{styleNodeId:s,key:s})),a.createElement(nq.P,{ref:g,className:"selection_styles_panel--scrollContainer--3PiSE",onContextMenu:m.lQ},a.createElement(dF,{preferencesApi:h,dropdownPrefix:"textStyle"}),"code"===_&&E?a.createElement(dD,{styleNodeId:s,codeLanguageApi:E,style_type:r}):a.createElement(v,{styleNodeId:s})))))}function dO({styleNodeId:e}){let t=(0,ox.Fk)((e,t)=>{if(!t)return;let n=e.get(t);if(n&&n.isAlive())return n?.description},e);return a.createElement(dE.X,{description:t,containerClassName:"selection_styles_panel--description--bu6pw"})}function dD({codeLanguageApi:e,styleNodeId:t,style_type:n}){let l=(0,tP.AC)(e.codeLanguage),r=(0,tP.Pt)(l);return a.createElement(B.fu,{name:"Style code",properties:{type:e.codeLanguage.type,pluginId:e.codeLanguage.id,resourceType:n}},a.createElement(sD,{overrideNodeId:t,hideLayoutAndColor:!0,sectionClassName:"selection_styles_panel--styleCodeSection--dTT2-",localCodeLanguage:e.codeLanguage,emptyStateMessage:(0,p.t)("dev_handoff.code.unsupported",{language:r.format(e.codeLanguage)})}))}function dM({styleNodeId:e}){let t=(0,ox.Fk)((e,t)=>{let n=e.get(t);if(n&&n.isAlive())return n.effects.reverse()},e),n=(0,cr.d7)(t??[]);return n&&0!==n.length?a.createElement(B.fu,{name:"Style properties",properties:{resourceType:"EFFECT",count:t?.length}},a.createElement("div",{className:dI},n.map((t,n)=>a.createElement(cr.rK,{key:`${e}-${n}`,...t})))):null}function dR({styleNodeId:e}){let{isNodeInvalid:t,family:n,style:l,weight:r,size:i,lineHeight:o,letterSpacing:s}=(0,ox.Fk)((e,t)=>{let n=e.get(t);return n&&n.isAlive()?{family:n?.fontName.family,style:n?.fontName.style,weight:n?.fontWeightOrMixed,size:n?.fontSize,lineHeight:n?.lineHeightOrMixed==="mixed"?void 0:n?.lineHeightOrMixed,letterSpacing:n?.letterSpacing}:{isNodeInvalid:!0}},e);return t?null:a.createElement(B.fu,{name:"Style properties",properties:{resourceType:"TEXT"}},a.createElement("div",{className:dI},a.createElement(t0._p,{name:(0,p.t)("inspect_panel.typography.font"),value:n}),a.createElement(t0._p,{name:(0,p.t)("inspect_panel.typography.weight"),value:r}),a.createElement(t0._p,{name:(0,p.t)("inspect_panel.typography.style"),value:l}),a.createElement(t0.YE,{name:(0,p.t)("inspect_panel.typography.size"),value:i}),a.createElement(t0.di,{name:(0,p.t)("inspect_panel.typography.line_height"),value:o}),a.createElement(t0.di,{name:(0,p.t)("inspect_panel.typography.letter"),value:s})))}function dF({preferencesApi:e,dropdownPrefix:t}){return a.createElement("div",{className:"selection_styles_panel--preferencesRow--7Wgoe"},a.createElement(l3.n2,{preferencesApi:e,inspectionModeLayout:"tabs",dropdownPrefix:t}))}let dB=(0,eq.Ju)(function(){let e=(0,l.d4)(e=>e.modalShown);return e&&e.type===dB.type?a.createElement(dL,{...e}):null},"dev_mode_selection_style_details_modal");function dK(){return(0,cE.VX)(sw.s4.FILL),(0,cE.VX)(sw.s4.STROKE),(0,cE.VX)(sw.s4.TEXT),(0,cE.VX)(sw.s4.EFFECT),null}function dU(e){let t=(0,cp.q)(),n=(0,l9.LS)(),l=(0,nn.ro)(),r=cN(),o=(0,ec.VW)(),s=(0,ec.NM)(),c=(0,cm.sQ)(),d=(0,lN.AF)(),u=(0,lN.h)(),f=(0,i3.Um)(),g=a.useRef(null),h=(0,np.eY)(),_=e0.z4.getIsExtension(),E=(0,oI.$F)(o),y=(0,i.md)(o9.be),[v,b]=a.useState(!1);a.useEffect(()=>{b(!1)},[o?.guid]);let w=(0,cy.mr)(o?.guid??"",h),N=(0,eE.kc)().dt_figmadoc&&w&&l&&!v;return a.createElement("div",{className:"inspect_panel--inspectPanelContainer--SZhfY"},t&&a.createElement(cg.Mw,{panelName:cg.ON.HANDOFF}),a.createElement(sT,{plugin:y??null}),n&&!_&&a.createElement(l_,{lastViewTimestamp:e.lastViewTimestamp}),s&&!_&&a.createElement(lf,null),a.createElement(dK,null),a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},a.createElement(nq.P,{ref:g,className:"inspect_panel--scrollContainer--wwC0l properties_panel--scrollContainer--o2LxW",onContextMenu:m.lQ,scrollingDisabled:!!f},a.createElement(B.fu,{name:cf.e0.CODE_PANEL},a.createElement(sb.i,null,a.createElement("div",{className:_?"inspect_panel--inspectPanelContentsBottomAligned--MOK20":"inspect_panel--inspectPanelContents--iYf8P"},n?a.createElement(a.Fragment,null,l&&a.createElement(aF,null),(0,eE.kc)().dt_code_connect_go_to_parent&&a.createElement(nQ.b0,null),(0,eE.kc)().dse_editor_templates_v1&&r&&a.createElement(cV,null),a.createElement(dp,null),N?a.createElement("div",{className:"inspect_panel--inspectLayerPropertiesButtonContainer--zgz1r"},a.createElement(A.IK,{onClick:()=>b(!0),variant:"secondary"},(0,p.tx)("dev_handoff.inspect_panel.show_more_properties"))):a.createElement(a.Fragment,null,a.createElement(cu,null),E&&a.createElement(a.Fragment,null,a.createElement("div",{className:R.cx.pt4.$},a.createElement(l3.pm,null)),a.createElement("div",{className:D()("inspect_panel--layerPreview--hxLhR",e0.z4.getIsExtension()&&"inspect_panel--isInExtension--kzn7u")},a.createElement(cB,null)),a.createElement(cK.J,null),c&&d?a.createElement(sD,null):a.createElement(cs,null)),a.createElement(cb.GO,null),a.createElement(ch.t,null),(E||(0,eE.kc)().dt_lego_selection_styles)&&a.createElement(rd,null),(0,eE.kc)().dt_lego_selection_styles&&a.createElement(dC,null),a.createElement(cv.L,null)),a.createElement(cw.L,null)):s?a.createElement(a.Fragment,null,a.createElement(rd,null),(0,eE.kc)().dt_lego_selection_styles&&a.createElement(dC,null),a.createElement(cv.L,null),a.createElement(cw.L,null)):a.createElement(a.Fragment,null,u&&a.createElement(o8,null),d&&a.createElement(io.$b,null),a.createElement(c_.A,null),a.createElement(dp,null),a.createElement(cn,null)),a.createElement("div",null)))))))}var dz=n(31913);let dH=()=>{ob.Y5.triggerAction("deselect-all")};function dV({version:e}){let t=(0,t2.R)(),n=(0,l.wA)(),r=(0,eN.hA)(),i=function(e,t){if(!t.dev_mode_activity||0===t.dev_mode_activity.length)return;let n=e?t.dev_mode_activity.find(t=>t.node_id===e):t.dev_mode_activity[0];if(n)return{id:n.id,activityType:n.activity_type,timestamp:new Date(n.timestamp),version:{id:t.id,description:t.description??null},user:{id:t.user.id,name:t.user.handle,imgUrl:t.user.img_url},metadata:n.metadata}}(r,e),o=r&&i?a.createElement(s3,{activity:i}):a.createElement(sj.YL,{item:e});return a.createElement(sj.jP,{description:e.description,label:"activity-row",displayText:o,view:null,iconOverride:i?s6(t,i,!0):void 0,onSelect:m.lQ,isActive:!0,user:e.user.handle,userUrl:e.user.img_url,isAllowedToChangeVersion:()=>!1,versionId:e.id,dispatch:n,first:!1,last:!0,isUI3:t,editorType:eL._Y.DESIGN,time:r?void 0:e.edited_at})}function dG({versions:e}){let t=s8(),{activeId:n}=(0,l.d4)(e=>e.versionHistory),i=(0,l.d4)(e=>e.openFile?.canEdit),o=(0,l.wA)(),s=(0,eN.hA)(),c=s9(),d=s7(),u=t?e[0]:e.find(e=>e.id===n),m=new e3.q(r.juq.LIVE_FILE).get(s??""),f=m?.editInfo?.lastEditedAt;return u?a.createElement("div",{className:R.cx.flex.flexColumn.borderBox.bSolid.bb1.colorBorder.$},s?null:a.createElement(sj.s3,{onClose:d,addSavepoint:()=>{o((0,ek.to)({type:sQ.yU,data:{}})),dH()},isViewOnly:!i}),a.createElement("div",null,a.createElement(ce,{lastEditedAt:f,hasEdits:!1,isActive:t,onSelect:()=>{s?c(s):(o(dz.Fm({id:sY.V_})),dH())},focusNodeId:s}),!t&&a.createElement(dV,{version:u})),a.createElement(rP.N_,{className:R.cx.flex.pt6.pb6.pl16.pr16.itemsCenter.$,onClick:dH,trusted:!0},(0,p.tx)("dev_handoff.version_history.view_all_versions"))):null}var dW=n(233890),dY=n(103907),dX=n(385648);function dj(){return a.createElement("div",{className:"dev_handoff_comments_panel--devHandoffCommentsPanel--1Lqo9"},a.createElement(dY.j9.Consumer,null,()=>a.createElement(dX.B,{stackHeader:!1,hideResolve:!1})))}let dq=a.memo(function(){let{commentsActive:e,isNodeSelected:t,versionHistoryActive:n}=(0,ei.R)(e=>({commentsActive:e.mirror.appModel.currentTool===eo.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===r.m1T.DEV_HANDOFF_HISTORY})),l=(0,tG.GS)(),o=(0,eN.hA)(),s=(0,i.md)(es.H),c=(0,tI.E1)(),d=(0,tq.jh)(o??void 0);ed({doReport:!0});let u=n&&!t&&!o,p=n&&t,f=s===es._.PRIMARY&&!e&&!u;return a.createElement(dW.vL,{name:"rightPanels",focusOnMount:!0,handleKeyDown:m.lQ},a.createElement("div",{id:"dev-handoff-inspect-panel"},a.createElement(sv,null,u&&a.createElement(sj.yU,{isUI3:l}),p&&a.createElement(dG,{versions:d.versions}),e&&a.createElement(dj,null),f&&a.createElement(dU,{lastViewTimestamp:c}),a.createElement(sc,null))))});var dQ=n(961747),dJ=n(553551);let dZ="dev-handoff-breadcrumbs-dropdown",d$="dev-handoff-collapsed-breadcrumb-dropdown";function d0(e){return!!e}function d1(){let e=a.useRef(null),[t,n]=a.useState(null),l=a.useCallback(()=>{n(e?.current?.getBoundingClientRect()||null)},[e]);return a.useEffect(()=>(l(),dQ._.addListener(l),window.addEventListener("resize",l),()=>{dQ._.removeListener(l),window.removeEventListener("resize",l)}),[l]),[e,t,l]}function d2({selectedNode:e,targetRect:t}){let n=(0,l.wA)(),r=(e=>{let t=e.parentNode;return t?.childrenNodes??[e]})(e).map(t=>{let n=t?function({children:e}){return e.map(e=>({displayText:e.name,onMouseEnter:()=>oN.Uc(e.guid),onMouseExit:()=>oN.Uc(""),icon:a.createElement(tZ.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>oN.tJ([e.guid])})).filter(d0)}({children:t.childrenNodes}):void 0;return t?{displayText:t?.name??"",isChecked:t.guid===e.guid,onMouseEnter:()=>oN.Uc(t.guid),onMouseExit:()=>oN.Uc(""),icon:a.createElement(tZ.Bf,{guid:t?.guid??"",isMenuIcon:!0}),callback:()=>oN.tJ([t.guid]),children:n&&n.length>0?n:void 0,callbackOnClickWithChildren:!0}:null}).filter(d0);return a.createElement(i5.j,{showPoint:!1,items:r,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:t,dispatch:n,displayAboveTarget:!0})}function d3({nodeID:e}){let t=(0,l.wA)(),[n,r,i]=d1(),o=(0,i3.Um)(),s=(0,np.eY)().get(e);if(!s)return null;let c=o?.type===dZ,d="INSTANCE"===s.type||"SYMBOL"===s.type;return a.createElement(a.Fragment,null,c&&r&&a.createElement(d2,{selectedNode:s,targetRect:r}),a.createElement("button",{className:"dev_handoff_breadcrumbs--pathElementSelected--w9aeS dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),c||t(ex.j7({type:dZ,data:{hasOwnEscKeyHandler:!1}}))},ref:n,title:s.name},a.createElement(tZ.Bf,{guid:s.guid,className:d?"dev_handoff_breadcrumbs--layerIconPurple--Qit6B":"dev_handoff_breadcrumbs--layerIcon--jR8ti"}),s.name))}function d5({nodeID:e}){let t=(0,np.eY)().get(e);return t?a.createElement("button",{title:t.name,className:"dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:()=>oN.tJ([t.guid]),onMouseEnter:()=>oN.Uc(t.guid),onMouseLeave:()=>oN.Uc("")},t.name):null}function d4({nodeIDs:e}){let t=(0,l.wA)(),[n,r,i]=d1(),o=(0,i3.Um)(),s=o?.type===d$,c=(0,np.eY)(),d=e.map(c.get).filter(tL.isNotNullish),u=d.map(e=>({displayText:e.name,onMouseEnter:()=>oN.Uc(e.guid),onMouseExit:()=>oN.Uc(""),icon:a.createElement(tZ.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>oN.tJ([e.guid])}));return a.createElement(a.Fragment,null,s&&r&&a.createElement(i5.j,{showPoint:!1,items:u,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:r,dispatch:t,displayAboveTarget:!0}),a.createElement("button",{ref:n,className:"dev_handoff_breadcrumbs--pathElementCollapsed--uY2eU dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),s||t(ex.j7({type:d$,data:{hasOwnEscKeyHandler:!1}}))},title:(0,p.t)("dev_handoff.breadcrumbs.hidden_nodes",{count:d.length})},(0,p.t)("dev_handoff.breadcrumbs.ellipsis")))}let d7=a.memo(()=>{let{selectedNodeID:e}=(0,ei.R)(e=>({selectedNodeID:Object.keys(e.mirror.sceneGraphSelection)[0]})),t=(0,rV.J2)(r.Ez5.devHandoffState().currentNodeId),n=(0,ox.Fk)((e,t,n)=>{let a=e.get(t);return a?function(e){return e.length<=4?e:[e[0],e.slice(1,-2),e[e.length-2],e[e.length-1]]}([...function e(t,n){if(n.guid===t)return[];let a=n.parentNode;return a?[...e(t,a),a]:[]}(n,a),a]):[]},e,t),l=e3.q.instance.get(e);return 0!==n.length&&l?a.createElement("div",{className:"dev_handoff_breadcrumbs--container--BoCAA"},n.map((e,t)=>{let l=t===n.length-1,r=a.createElement(tp.B,{svg:dJ.A,className:l?"dev_handoff_breadcrumbs--chevronIconSelected--NrpAP dev_handoff_breadcrumbs--chevronIcon--MAw4y":"dev_handoff_breadcrumbs--chevronIcon--MAw4y",height:"3px",width:"6px"});return Array.isArray(e)?a.createElement(a.Fragment,{key:e.map(e=>e.guid).join("-")},r," ",a.createElement(d4,{nodeIDs:e.map(e=>e.guid)})):l?a.createElement(a.Fragment,{key:e.guid},r," ",a.createElement(d3,{nodeID:e.guid})):a.createElement(a.Fragment,{key:e.guid},r," ",a.createElement(d5,{nodeID:e.guid}))})):null});var d8=n(536825),d6=n(949632),d9=n(227944),ue=n(447141);let ut="dev_handoff_index_view_zoom_control--zoomButton--l1ZDl",un="dev_handoff_index_view_zoom_control--buttonDisabled--krwH2";function ua(){let{Dropdown:e,toggleDropdown:t,dropdownTargetRef:n}=(0,tJ.B)("DEV_HANDOFF_INDEX_VIEW_ZOOM_DROPDOWN"),l=(0,d9.Zr)("zoom-out"),i=(0,d9.Zr)("zoom-in"),o=Math.round(100*(0,rV.J2)((0,d6.d)().activeCanvasCurrentZoom)).toString(),s=[{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_actual_size"),callback:()=>r.glU.setCanvasZoomScale(1)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_screen"),callback:()=>r.w3z.setFocusZoomLevel(r.i1K.FIT_TO_SCREEN)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_width"),callback:()=>r.w3z.setFocusZoomLevel(r.i1K.FIT_TO_WIDTH)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fill_screen"),callback:()=>r.w3z.setFocusZoomLevel(r.i1K.FILL_SCREEN)}];return a.createElement("div",{className:"dev_handoff_index_view_zoom_control--container--oBEBg",ref:n},a.createElement(P.E,{className:D()(ut,ue.NB,{[ue.pq]:l}),onClick:()=>ob.Y5.triggerAction("zoom-out",{source:"vscode-zoom-menu"}),disabled:!l,"aria-label":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_out_button"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_out_button")}},a.createElement(d8.O,{className:D()({[un]:!l})})),a.createElement("button",{className:"dev_handoff_index_view_zoom_control--zoomLevel--uI6yg text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{width:`${Math.max(o.length,4)}em`},onClick:t},o,"% ",a.createElement(tp.B,{svg:lt.A})),a.createElement(P.E,{className:D()(ut,ue.NB,{[ue.pq]:i}),onClick:()=>ob.Y5.triggerAction("zoom-in",{source:"vscode-zoom-menu"}),disabled:!i,"aria-label":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_in_button"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_in_button")}},a.createElement(tx.e,{className:D()({[un]:!i})})),a.createElement(e,{items:s,showPoint:!0,displayAboveTarget:!0}))}var ul=n(870505),ur=n(901765),ui=n(741951);function uo({isToolbarOpen:e}){let[t,n]=a.useState(!1),l=a.useRef(null),i=a.useRef(null),o=a.useRef(null),[s,c]=a.useState(null),d=(0,rV.J2)(r.Ez5.devHandoffState().currentNodeId),u=(0,ec.uQ)(),{inspectableRootNodeId:m,didSelectRow:f}=o1(d,u);a.useEffect(()=>n(!1),[u]),(0,ur.L)(i,()=>{t&&n(!1)},!0);let g=a.useCallback(()=>{n(!1)},[n]);return a.createElement("div",{ref:i,className:"frame_picker--container--tkwaQ"},a.createElement("button",{className:"frame_picker--trigger--ZPMqZ",ref:l,onClick:function(){if(t)n(!1);else{let e=l.current?.getBoundingClientRect();e&&(c(e),n(!0))}},"data-tooltip":(0,p.t)("dev_handoff.tag.layers"),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0},a.createElement(tp.B,{svg:ui.A})),s&&a.createElement(sq.Cf,{className:t?void 0:"frame_picker--closedDropdown--ynVzU",targetRect:s,displayAboveTarget:!0,type:sq.it.MATCH_BACKGROUND,disableDropdownScrollContainer:!0,propagateCloseClick:!0},a.createElement("div",{ref:o,className:D()("frame_picker--frames--vobWI",e&&"frame_picker--isToolbarOpen--i2EBR")},a.createElement(o3,{onRowClick:g,didSelectRow:f,inspectableRootNodeId:m}))))}var us=n(109388);let uc="inspect_tabs--column--6BLEt",ud="inspect_tabs--settingImage--VEeXo",uu="inspect_tabs--codeContainer--G3I2n",um="inspect_tabs--codeContent--HOypb",up="inspect_tabs--codeBoxModelInline--o-8PU",uf="inspect_tabs--codeBoxModelSide--4N2rL";var ug=n(841822);let uh="DEV_HANDOFF_DEV_RESOURCE_DROPDOWN";function u_(e){return a.createElement("div",{className:"inspect_tabs--setting--OTZN3"},a.createElement("div",{className:"inspect_tabs--settingRow--qP9rB"},a.createElement("div",{className:"inspect_tabs--settingLabel--Fr85N"},e.label),a.createElement("button",{className:"inspect_tabs--settingLink--YT0SJ",onClick:e.onClick},(0,p.tx)("dev_handoff.inspect_panel.open_setting"))),a.createElement("div",{className:"inspect_tabs--settingDescription--Fxbgh"},e.description))}function uE(){let e=(0,ec.VW)();return(0,lN.h)()?a.createElement(o8,null):e?a.createElement("div",{className:uu},a.createElement("div",{className:up},a.createElement(cB,null)),a.createElement("div",{className:um},a.createElement(ne.tH,{boundaryKey:"Figmadoc",fallback:ne.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(nQ.Qd,null)),a.createElement(cK.J,null),a.createElement(sD,null),a.createElement(cb.GO,null),a.createElement(ch.t,null),a.createElement(rd,null),(0,eE.kc)().dt_lego_selection_styles&&a.createElement(dC,null)),a.createElement("div",{className:uf},a.createElement(cB,{fillContainer:!0}))):a.createElement(uy,null)}function uy(){return a.createElement("div",{className:"inspect_tabs--codeEmpty--B2DYX"},a.createElement("div",{className:uc},a.createElement("img",{alt:"",className:ud,src:"https://static.figma.com/uploads/90580516d4d39519d44b86a2e591f4e576475013",onDragStart:e=>e.preventDefault()}),a.createElement(u_,{label:(0,p.t)("dev_handoff.inspect_panel.property_suggestions.title"),description:(0,p.t)("dev_handoff.inspect_panel.property_suggestions.body"),onClick:ng.KQ})),a.createElement("div",{className:uc},a.createElement("img",{alt:"",className:ud,src:"https://static.figma.com/uploads/4b9430b030179277555a6fe2114ceffc0f49ed61",onDragStart:e=>e.preventDefault()}),a.createElement(u_,{label:(0,p.t)("dev_handoff.inspect_panel.block_suggestions.title"),description:(0,p.t)("dev_handoff.inspect_panel.block_suggestions.body"),onClick:ng.lk})))}function uv(){return a.createElement("div",{className:uu},a.createElement("div",{className:up},a.createElement(cB,null)),a.createElement("div",{className:um},a.createElement(cK.J,null),a.createElement(cs,null),a.createElement(cb.GO,null),a.createElement(ch.t,null),a.createElement(rd,null),(0,eE.kc)().dt_lego_selection_styles&&a.createElement(dC,null)),a.createElement("div",{className:uf},a.createElement(cB,{fillContainer:!0})))}function ub(){return a.createElement("div",{className:"inspect_tabs--assetsContainer--ETjja"},a.createElement(cv.L,null),a.createElement(cw.L,null))}function uw(){return a.createElement("div",{className:"inspect_tabs--componentsContainer--ERYGT"},a.createElement("div",{className:"inspect_tabs--componentsContent--qXnwd"},a.createElement(aM,null)),a.createElement("div",{className:"inspect_tabs--componentsPreview--79zEW"},a.createElement(ap,null)))}function uN({setActiveTabId:e}){let t=(0,l.wA)(),n=(0,i3.Um)(),r=a.useRef(null),[o,s]=(0,i.fp)(du),c=(0,eu.U)(),d=(0,nn.Nf)()??"",u=(0,np.eY)().get(d),m=document.getElementById("dev-handoff-inspect-panel"),f=n?.type===uh;return a.createElement(a.Fragment,null,a.createElement("div",{ref:r},a.createElement(t1.YW,{svg:ug.A,onClick:function(){f?t(ex.oB()):t(ex.j7({type:uh}))},selected:f,"data-tooltip":(0,p.t)("dev_handoff.add_dev_resource"),"data-tooltip-type":tj.Ib.TEXT})),f&&r.current&&m&&(0,us.createPortal)(a.createElement(i5.j,{items:[{displayText:"Add link to code file...",action:"add_file_link"},{displayText:"Add link to dev resource... ",action:"add_link"}],onSelectItem:t=>{switch(t.action){case"add_file_link":e(es._.DEV_RESOURCES),c("Dev Handoff Related Links Click Code File Link",{nodeId:d,nodeType:u?.type,source:"web"}),(0,ng.qE)();break;case"add_link":e(es._.DEV_RESOURCES),s(!0)}},dispatch:t,parentRect:r.current.getBoundingClientRect(),showPoint:!1}),m))}function ux(){let[e,t]=(0,i.fp)(es.H),n=(0,l9.LS)(),l=(0,ec.NM)(),r=(0,nn.ro)(),o=(0,i.md)(o9.be),s=l?[{id:es._.ASSETS,title:(0,p.t)("dev_handoff.assets"),Component:ub,recordingKey:"extensionAssetsTab"}]:[{id:es._.PRIMARY,title:(0,p.t)("inspect_panel.code.code"),Component:uE,recordingKey:"extensionCodeTab"}];return n&&(s.push({id:es._.PROPERTIES,title:(0,p.t)("fullscreen.properties_panel.properties"),Component:uv,recordingKey:"extensionPropertiesTab"}),r&&s.push({id:es._.COMPONENT,title:(0,p.t)("dev_handoff.inspect_panel.component"),Component:uw,recordingKey:"extensionComponentTab"}),s.push({id:es._.DEV_RESOURCES,title:(0,p.t)("dev_handoff.developer_related_links.links"),Component:dp,recordingKey:"extensionRelatedLinksTab"}),s.push({id:es._.ASSETS,title:(0,p.t)("dev_handoff.assets"),Component:ub,recordingKey:"extensionAssetsTab"})),s.push({id:es._.PLUGIN,title:(0,p.t)("dev_handoff.tab.plugins"),Component:sc,recordingKey:"extensionPluginsTab"}),a.useEffect(()=>{s.find(t=>t.id===e)||t(es._.PRIMARY)},[e,t,n]),a.createElement(a.Fragment,null,a.createElement("div",{className:"inspect_tabs--tabsBar--nbu1a"},a.createElement(nq.P,{innerClassName:"inspect_tabs--tabs--w8XOI",minContentWidth:100},s.map(n=>a.createElement(sf.je,{key:n.title,text:n.title,isActive:e===n.id,recordingKey:n.recordingKey,onClick:()=>{t(n.id)},isSingle:1===s.length}))),a.createElement("div",{className:"inspect_tabs--rightButtons--HeXhW"},o&&a.createElement(t7.K,{htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.inspect_panel.close_plugin")},"aria-label":(0,p.t)("dev_handoff.inspect_panel.close_plugin"),onClick:()=>{(0,sk.wY)()}},a.createElement(r9.A,null)),a.createElement(aR,null),a.createElement(uN,{setActiveTabId:t}))),s.map(t=>a.createElement("div",{key:t.title,className:"inspect_tabs--activeTabContainer--LBYjQ",style:{display:e===t.id?void 0:"none"}},a.createElement(t.Component,null))))}let uk="extension_bottom_panel--buttons--itG9x";var uI=n(301087),uT=n(87071);let uC=(0,ao.jz)(oL.YI7),uS=()=>.75*window.innerHeight,uA=(0,ao.jz)(oL.Qhc);function uP(){let[e,t]=(0,oh.Vc)("extension_bottom_panel_expanded",!0),[n,l]=(0,i.fp)(ul.g),[o,s]=a.useState(!1),c=(0,ec.VW)(),d=(0,rV.J2)(r.Ez5.devHandoffState().focusMode),u=(0,rV.J2)((0,e$.UK)().devHandoffInspectSplitPosition);a.useEffect(()=>{let t;t=e?n:uC,(0,e$.UK)().devHandoffInspectSplitPosition.set(t)},[e]);let m=a.useCallback(()=>{s(!0)},[]),f=a.useCallback(e=>{if(o){var t;let n=(t=window.innerHeight-e.clientY,Math.max(uC,Math.min(uS(),t||0)));n!==u&&((0,e$.UK)().devHandoffInspectSplitPosition.set(n),l(n))}},[o,u,l]),g=a.useCallback(()=>{s(!1)},[]);return a.useEffect(()=>(document.addEventListener("mousemove",f),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)})),a.createElement("div",{id:"dev-handoff-inspect-panel",className:D()("vscode","extension_bottom_panel--container--zaRdX",tf.Dm,e&&"extension_bottom_panel--isOpen--m5UfA"),style:{height:`${u}px`}},d?a.createElement("div",{className:D()(uk,"extension_bottom_panel--buttonsNewUx--qjtmo")},a.createElement(ua,null)):a.createElement("div",{className:D()(uk)},a.createElement(o4.C,{floating:!1})),a.createElement("div",{className:"extension_bottom_panel--header--ZmzTG"},e&&a.createElement("div",{className:"extension_bottom_panel--edge--cuoAZ",onMouseDown:m,onDoubleClick:()=>{(0,e$.UK)().devHandoffInspectSplitPosition.set(uA+uC),l(uA+uC)},role:"none"}),a.createElement(uo,{isToolbarOpen:e}),c&&a.createElement(a.Fragment,null,a.createElement(d7,null)),a.createElement("div",{className:D()("extension_bottom_panel--headerRightButtons--qVDj-",R.cx.pt4.$)},a.createElement(l3.pm,null),a.createElement("button",{onClick:function(){t(!e)},style:{width:"32px"}},a.createElement(tp.B,{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":e?(0,p.t)("dev_handoff.vscode.inspect_panel.hide_inspect_tooltip"):(0,p.t)("dev_handoff.vscode.inspect_panel.show_inspect_tooltip"),svg:e?uT.A:uI.A,autosize:!0})))),a.createElement("div",{className:"extension_bottom_panel--transitionContainer--5UlLL",style:{maxHeight:`${u-uC}px`}},a.createElement(ux,null)))}var uL=n(85304),uO=n(461837),uD=n(755020),uM=n(774844),uR=n(589282),uF=n(493471),uB=n(465904),uK=n(132135),uU=n(707465),uz=n(922126);let uH="floating_layers_panel--isSymbol--3KTvH",uV="floating_layers_panel--layerName--LBYru";function uG(){let e=(0,rV.J2)((0,e$.UK)().showGuids),t=(0,ec.Tv)(),n=(0,ox.Fk)((e,t)=>t&&e.get(t),t[0]||null),i=!!n&&["SYMBOL","INSTANCE"].includes(n.type),{inspectableRootNodeId:o,didSelectRow:s}=o1((0,rV.J2)(r.Ez5.devHandoffState().currentNodeId),t[0]||null),c=(0,l.d4)(e=>e.mirror.appModel.currentPage),d=o||c,u=(0,nh.Xr)(oK),m=[{displayText:(0,p.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>u([d])}],f=(0,rV.J2)(r.Ez5.devHandoffState().automaticIconDetection),g=a.useMemo(()=>t.length>0?r.w3z.getOrAddAssetInfo(t[0]):null,[t]);return 0!==t.length&&n?a.createElement(uz.P,{title:t.length>1?a.createElement("div",{className:uV},(0,p.tx)("dev_handoff.workflows.focus_view.multiple_layers_selected",{count:t.length})):a.createElement("div",{className:D()(uV,{[uH]:i})},n.name,e?` (${n.guid})`:""),nodeIcon:a.createElement("div",{className:D()("floating_layers_panel--layersIcon--q0eoA",{[uH]:i})},a.createElement(oP.rI,{node:n,showIcons:f,assetInfo:g})),panelActions:a.createElement(oH,{dropdownItems:m})},a.createElement(oU,{inspectableRootNodeId:o,didSelectRow:s,page:c,hideHeader:!0})):null}var uW=n(540828),uY=n(282741);let uX=(0,ao.jz)(oL.M$q);function uj(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.versionHistory),{Dropdown:n,toggleDropdown:r,dropdownTargetRef:i,isDropdownShown:o}=(0,tJ.B)("FOCUS_MODE_NAME_DROPDOWN"),s=(0,b.q5)(),c=(0,ec.uQ)(),d=(0,eN.hA)(),u=(0,e1._6)(),m=(0,l9.$A)(u)?u.focusViewBackNavigation:void 0,f=(0,uW.TP)(m?.toEditorType),g=(0,ez.U)("focus_view_show_on_page"),h=(0,uW.TQ)(m?.toEditorType),_=[{displayText:(0,p.t)("dev_handoff.workflows.focus_view.show_canvas"),recordingKey:"dev_handoff.focus.show_on_page",callback:function(){"editorType"in f&&f.editorType===eB.nT.Design&&g("design"),t.activeId&&t.activeId!==sY.V_&&e((0,sY.Eg)()),h("Dev Mode Focus View Go To Canvas Clicked",d)}},{displayText:(0,p.t)("dev_handoff.workflows.focus_view.copy_link"),recordingKey:"dev_handoff.focus.copy_link",callback:()=>{e(tV.lW({stringToCopy:(0,uK.jN)({file:s,nodeId:c,isDevHandoff:!0,devModeFocusId:d,isReadOnly:!0,isFigJam:!1,attributionContext:null})}))}}];return a.createElement(a.Fragment,null,a.createElement("div",{ref:i},a.createElement(tO.d,{toggled:o,recordingKey:"dev_handoff.focus.options",onClick:r,"aria-label":(0,p.t)("dev_handoff.workflows.more_actions_tooltip"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.workflows.more_actions_tooltip")}},a.createElement(tD.J,null))),a.createElement(n,{items:_,showPoint:!0}))}function uq(){let e=(0,l.wA)(),t=(0,e$.UX)(),n=(0,tG.GS)(),o=(0,eN.hA)(),s=(0,ox.Fk)((e,t)=>t?e.get(t):null,o),c=(0,ox.Fk)(e=>e.getCurrentPage()?.name),u=(0,b.tS)(),m=(0,l.d4)(e=>e.versionHistory),f=(0,uB.QV)(),g=(0,eu.U)(),h=(0,ez.U)("focus_view_back"),_=(0,rV.ut)((0,oN.aY)(),r.FAf.DESIGN),[,E]=(0,i.fp)(uY._o),[y]=(0,i.fp)(uY.wz),v=(0,l.d4)(e=>(0,l9.$A)(e.selectedView)?{...e.selectedView,editorType:e.selectedView.focusViewBackNavigation?.toEditorType??e.selectedView.editorType,showOverview:e.selectedView.focusViewBackNavigation?.toOverview??!0,focusViewBackNavigation:void 0,devModeFocusId:void 0}:e.selectedView),w=(0,l.d4)(e=>(0,uU.Np)(e,v)),N=v.showOverview?(0,p.t)("dev_handoff.workflows.focus_view.back_to_rfd_tooltip"):(0,p.t)("dev_handoff.workflows.focus_view.back_to_page_tooltip");if((0,d.h)(()=>{o&&r.w3z.focusOnNode(o,!1),_===r.FAf.PROTOTYPE&&(0,oN.NT)(r.FAf.DESIGN),(0,eE.kc)().dt_workflows_recently_viewed&&u&&o&&f(u,o),g("Dev Mode Focus View Shown",{source:y||"init"},{forwardToDatadog:!0})}),!o||!s)return null;let x=m.activeId&&m.activeId!==sY.V_;return a.createElement("div",{className:"focus_canvas_ui--container--YwKdJ",style:{paddingRight:n?t+uX:t}},a.createElement("div",{className:"focus_canvas_ui--background--jKiDi"}),a.createElement("div",{className:"focus_canvas_ui--header--gxex-"},a.createElement(tB.lt,{className:"focus_canvas_ui--backLink--oBW-6","data-onboarding-key":sV,onClick:function(t){t.preventDefault();let n="editorType"in v&&v.editorType===eB.nT.Design;!("showOverview"in v&&v.showOverview)&&n&&h("design"),e(ex.$T(v)),m.activeId&&m.activeId!==sY.V_&&e((0,sY.Eg)());let a="unknown";"fullscreen"===v.view&&(a=v.showOverview?"overview":v.editorType===eB.nT.Design?"design_canvas":"dev_mode_canvas"),E("focus_close_clicked"),g("Dev Mode Focus View Close Clicked",{target:a})},href:w,recordingKey:"dev_handoff.workflows.focus.back_link","aria-label":N,"data-tooltip":N,"data-tooltip-type":tj.Ib.TEXT},a.createElement(uD.C,null)),a.createElement("div",{className:"focus_canvas_ui--pageBreadcrumb--ZLVL8"},a.createElement("span",{className:"focus_canvas_ui--pageBreadcrumbLabel--BPMXr"},c)),a.createElement("span",{className:"focus_canvas_ui--breadCrumbSeparator--tkhRI"},"/"),a.createElement("div",{className:"focus_canvas_ui--nodeName--kuQ54","data-onboarding-key":sU},s.isSection?a.createElement(uM.c,null):a.createElement(uR.q,null)," ",a.createElement("span",{className:"focus_canvas_ui--nodeNameLabel--f7DnW"},s.name)),a.createElement(uj,null),!x&&a.createElement(uF.c,{node:s,sourceForLogging:"focus-ui",onboardingKey:sz})),a.createElement("div",{className:"focus_canvas_ui--viewportContainer--E-aVJ"}),a.createElement(uG,null),a.createElement(sG,null))}function uQ(){let e=(0,o._I)(),t=(0,np.aV)(),n=(0,l.d4)(e=>e.mirror.appModel.showUi),s=(0,tX.iZ)(),c=(0,l.wA)(),d=(0,eN.l7)();(0,rW.X_)(),(0,rH.z)({topLevelMode:r.lyf.DEV_HANDOFF,eventName:"Dev Handoff Selection Changed"});let u=(0,b.tS)()??"";return((0,a.useEffect)(()=>{let e=()=>(0,rG.s2)({userID:s?.id??"",openFileKey:u});return e(),e},[e,u,s?.id]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{rY.sr.enrollUserInStatusChange({fileKey:u})?.then(e=>{let t=i.zl.get(rK.D);e.data?.meta?.newEnrollment&&!t&&c(rB.jK({userId:s?.id??"",fileKey:u}))})},5e3);return()=>clearTimeout(e)},[u,s?.id,c]),t||!n)?null:e||d?a.createElement(u$,null):a.createElement(rF,null)}function uJ(){return(0,r8.O)(),null}function uZ(){let e=(0,t2.R)(),t=(0,eN.l7)(),n=(0,eN.hA)(),l=(0,o._I)(),r=(0,rz.Tn)();return!n&&(l||t)?a.createElement("div",{className:"devHandoffLeftPanel"},a.createElement(ty.Q,{ignoreRulers:t,shouldAnimate:!r},a.createElement(th.s,null),a.createElement(tg.$,null,e&&a.createElement(a.Fragment,null,a.createElement(tE.n,null),a.createElement(t_.d,null)),t?a.createElement(u1,null):a.createElement(u0,null)))):null}let u$=a.memo(function(){a.useEffect(()=>cz.K,[]);let e=a.useMemo(()=>e0.z4.getIsExtension(),[]),t=(0,eN.l7)(),n=!!(0,eN.hA)()&&!t;(0,r6.uj)(),a.useEffect(()=>{(0,rU.px)().prepareVmIfNeeded()},[]),(0,uL.W)(1700);let l=(0,uL.e)();return a.createElement(s.si,null,e?a.createElement(uP,null):a.createElement(a.Fragment,null,l&&a.createElement(o4.C,null),n&&a.createElement(uq,null),!t&&a.createElement(a.Fragment,null,a.createElement(dq,null),a.createElement(rX.p,null,a.createElement(oc,null)),a.createElement(rX.p,null,a.createElement(ea,null)),a.createElement(rX.p,null,a.createElement(r5,null)),a.createElement(uJ,null))),a.createElement(uO.uL,null))});function u0(){let e=(0,rV.J2)(r.Ez5.uiState().showCanvasSearch);return a.createElement(a.Fragment,null,e?a.createElement(r4.EA.Provider,{value:!1},a.createElement(r7.f,{showFilter:!0})):a.createElement(o5,null))}function u1(){return a.createElement(o5,null)}},317299:(e,t,n)=>{n.d(t,{$b:()=>v,jp:()=>T,gn:()=>N,Be:()=>x});var a=n(411855),l=n(188507),r=n(587670),i=n(153234),o=n(939863),s=n(308977),c=n(470669),d=n(370934),u=n(92597),m=n(318812),p=n(656399),f=n(728587),g=n(788612),h=n(538697);let _="code_settings_panel--codeSettingRow--81hbo",E="code_settings_panel--codeSettingLabel--OV3RZ",y="code_settings_panel--codeSettingValueWrapper--UMoQH";function v({onlyShowFirstPartyLanguages:e,disabled:t}){return(0,u.YE)(),a.createElement(g.VZ,{title:(0,o.t)("dev_handoff.code.settings"),recordingKey:"codeSettings",headerChildren:a.createElement(p.u,null)},a.createElement("div",{className:"code_settings_panel--codeSettingsPanel--LR2Tt text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(b,{onlyShowFirstPartyLanguages:e,disabled:t}),a.createElement(w,{disabled:t}),!t&&a.createElement(k,{recordingKey:"codeSettings.pluginSettings"})))}function b({onlyShowFirstPartyLanguages:e,disabled:t}){return a.createElement("div",{className:_},a.createElement("div",{className:E},(0,o.tx)("dev_handoff.code.settings.language")),a.createElement("div",{className:y},a.createElement(c.NH,{dropdownId:"DEV_HANDOFF_NO_SELECTION_CODE_LANGUAGE_DROPDOWN",onlyShowFirstPartyLanguages:e,disabled:t})))}function w({disabled:e}){let t=(0,u.Em)(),n=(0,s.v4)(),l=(0,u.Bs)(),r=(0,s.QN)(),i=(0,u.RH)(),c=a.useCallback(e=>l(n,r,{unit:e}),[n,l,r]);return t?a.createElement("div",{className:_},a.createElement("div",{className:E},(0,o.tx)("dev_handoff.alternative_units.dimension_unit")),!e&&a.createElement(N,{currentUnit:i,onChangeUnit:c})):null}function N({currentUnit:e,onChangeUnit:t}){let n=(0,u.wQ)(),{showing:r,toggle:i}=(0,m.BK)("DEV_HANDOFF_NO_SELECTION_DIMENSION_UNIT_DROPDOWN"),s=(0,l.wA)(),c=a.useRef(null),p=a.useMemo(()=>new x(n),[n]),g=a.useMemo(()=>d.zq.map(n=>({name:n.toString(),displayText:p.format(n),callback:()=>t(n),isChecked:n===e})),[e,p,t]);return a.createElement("div",{className:"code_settings_panel--codeSettingUnitDropdownContainer--ywHNy","data-tooltip":(0,o.t)("dev_handoff.alternative_units.dimension_unit"),"data-tooltip-show-above":!0},a.createElement("div",{ref:c,"data-testid":"dimension_unit",className:y},a.createElement(h.uQ,{formatter:p,property:e,onClick:()=>i()})),r&&c.current&&a.createElement(f.j,{items:g,onSelectItem:e=>{e.callback&&e.callback("",null,s)},dispatch:s,parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:[p.format(e)]}))}class x{constructor(e){this.scaledUnitName=e}format(e){return e===r.tKW.PIXEL?(0,o.t)("dev_handoff.alternative_units.pixel_unit"):this.scaledUnitName}}function k(e){let t=(0,u.SF)({includeActions:!1});return 0===t.length?null:a.createElement(a.Fragment,null,t.map(t=>a.createElement(I,{key:t.name,item:t,recordingKey:i.Pt(e,`${t.name}`)})))}function I({item:e,recordingKey:t}){return a.createElement("div",{className:_},a.createElement("div",{className:E},e.displayText),a.createElement(T,{item:e,recordingKey:t}))}function T({item:e,recordingKey:t}){let{showing:n,data:r,toggle:o}=(0,m.BK)("CODEGEN_PLUGIN_SETTINGS_DROPDOWN"),s=(0,l.wA)(),c=a.useRef(null),d=e.name===r?.name&&n,u=e.children?.find(e=>e.isChecked)?.displayText??"",p=i.rf(i.Pt(t,"select"),"click",()=>o({data:{name:e.name??""}}));return a.createElement("div",null,a.createElement("div",{ref:c,className:y},a.createElement(h.uQ,{formatter:{format:e=>e},property:u,onClick:p})),d&&c.current&&a.createElement(f.j,{items:e.children??[],onSelectItem:e=>{e.callback?.("",null,s)},dispatch:s,recordingKey:i.Pt(t,"dropdown"),parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:u?[u]:void 0}))}},103339:(e,t,n)=>{n.d(t,{DK:()=>I,MO:()=>P,d8:()=>C,oD:()=>L,q9:()=>T});var a=n(411855),l=n(188507),r=n(675678),i=n(587670),o=n(776250),s=n(38580),c=n(374626),d=n(776621),u=n(572206),m=n(877432),p=n(939863),f=n(154483),g=n(666930),h=n(696673),_=n(44892),E=n(15859),y=n(927657),v=n(931770),b=n(335682),w=n(933342),N=n(234945),x=n(173454),k=(e=>(e.GENERIC="GENERIC",e.OFFLINE="OFFLINE",e.THUMBNAIL_TIMEOUT="THUMBNAIL_TIMEOUT",e))(k||{});function I(e){switch(e){case"GENERIC":return(0,p.t)("design_systems.playground.unable_to_load");case"OFFLINE":return(0,p.t)("design_systems.playground.unable_to_load_while_offline");case"THUMBNAIL_TIMEOUT":return(0,p.t)("design_systems.playground.unable_to_load_thumbnail")}}function T(e){switch(e){case"GENERIC":return(0,p.t)("design_systems.playground.unable_to_load_help_text");case"OFFLINE":return(0,p.t)("design_systems.playground.unable_to_load_while_offline_help_text");case"THUMBNAIL_TIMEOUT":return(0,p.t)("design_systems.playground.unable_to_load_thumbnail_help_hext")}}let C=(0,s.eU)(!1);function S(e){let[t,n]=a.useState(),[l,r]=a.useState(),[o,s]=a.useState(!1),[d,m]=a.useState(!1),[p,f]=a.useState(!1),[g,h]=(0,c.fp)(C),_=a.useCallback(()=>{let t=i.glU.generatePlaygroundThumbnail(e??null),a=i.glU.getPlaygroundNodeData();t.pixels?.length>0?(n({src:(0,v.Pv)(t.pixels,new u.Mi(t.width,t.height)),width:t.width/t.scale,height:t.height/t.scale}),r(a),m(!1),h(!0)):m(!0)},[h,e]),E=a.useCallback(e=>{s(e),f(!0)},[f]),{onSetPercentImagesLoaded:b,onResetTracker:w}=function(e){let[t,n]=a.useState(0),[l,r]=a.useState(0),[i,o]=a.useState(null),s=a.useCallback(()=>{n(0),r(0),o(null)},[]);return a.useEffect(()=>{function n(n,a){if(t>n&&t<a&&l<=n){let n=Date.now();(null===i||n-i>1e3)&&(o(n),r(t),e())}}n(.25,.5),n(.5,.75),n(.75,1)},[l,i,e,t]),a.useEffect(()=>{1===t&&(e(),r(1))},[e,t]),a.useMemo(()=>({onSetPercentImagesLoaded:n,onResetTracker:s}),[n,s])}(_);return a.useEffect(()=>(0,y.k)(E),[E]),a.useEffect(()=>()=>i.glU.clearPlaygroundScene(),[]),a.useEffect(()=>{p&&setTimeout(()=>{_(),f(!1)},0)},[p,f,_]),a.useMemo(()=>({setPlaygroundNodeData:r,onSetPercentImagesLoaded:b,onResetTracker:w,thumbnailData:t,playgroundNodeData:l,hasChangesToReset:o,hasThumbnailErrors:d,setHasChangesToReset:s}),[r,b,w,t,l,o,d,s])}let A=(0,f.fv)();function P({canViewPlaygroundQueryResult:e,canvasAsset:t,onLoaded:n,onError:l,thumbnailOptions:s}){let[c,u]=a.useState(t),{setPlaygroundNodeData:p,onSetPercentImagesLoaded:f,onResetTracker:g,thumbnailData:y,playgroundNodeData:v,hasChangesToReset:N,hasThumbnailErrors:k,setHasChangesToReset:I}=S(s),T=(0,b.tS)(),C=c!==t||!v||"loading"===e.status,[P,L]=a.useState(null),O=a.useCallback(()=>{i.glU.clearPlaygroundScene(),p(void 0)},[p]),D=a.useCallback(async(e=!0)=>{let n;if(t.type!==x.PW.COMPONENT&&t.type!==x.PW.STATE_GROUP&&t.type!==x.PW.MODULE){O();return}let a=Date.now();if(L(null),t.isLocal)n=null;else try{let e=_.Eo.getCanvas({canvas_url:t.canvas_url});await Promise.race([e,(0,m.fm)(100)])||(u(t),p(void 0),I(!1)),n=await e}catch(e){0===e.status?L("OFFLINE"):L("GENERIC"),O(),u(t),(0,d.$D)(r.FigmaTeam.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{openFileKey:T,fileKey:A(t),libraryKey:t.library_key,isCommunityLibrary:(0,h.wJ)(A(t)),type:t.type}});return}let l=t.type!==x.PW.STATE_GROUP||t.isLocal?null:t.default_state_key;if(n?i.glU.setPlaygroundSceneFromBuffer(t.node_id,n,e,l,A(t)):i.glU.setPlaygroundSceneFromLocalAsset(t.node_id)){I(!1),p(i.glU.getPlaygroundNodeData()),u(t),o.az.trackDefinedEvent("playground.set_scene",{duration:Date.now()-a,assetType:t.type,isLocal:t.isLocal??!1,assetKey:(0,w.u2)(t)}),g(),(0,E.Jr)().loadAllImagesUnder(["0:0"],i.MoD.NON_ANIMATED_ONLY,"playground.initialLoad",(e,t)=>{f((t-e)/t)},i.glU.getPlaygroundScene());return}if(e){u(t),p(void 0),I(!1),setTimeout(()=>{D(!1)},50);return}L("GENERIC"),O()},[T,O,g,f,t,p,I]);return a.useEffect(()=>{"loaded"===e.status&&(e.data?D():u(t))},[e,p,t,O,D]),a.useMemo(()=>{let e=k?"THUMBNAIL_TIMEOUT":P;return!e&&C?{state:"LOADING",previousAssetData:{thumbnailData:y,hasChangesToReset:N,refetchAndResetScene:D,nodeData:v,asset:c}}:(n(),e)?(l(),{state:"ERROR",errorType:e,previousAssetData:{thumbnailData:y,hasChangesToReset:N,refetchAndResetScene:D,nodeData:v,asset:c}}):{state:"LOADED",currentAssetData:{hasChangesToReset:N,refetchAndResetScene:D,nodeData:v,thumbnailData:y,asset:c}}},[C,n,k,P,v,y,l,N,D,c])}function L(){let e=(0,l.d4)(N.AF),t=e?.guid,n=(0,g.wS)(),r="loaded"===n.status?n.result:void 0,{setPlaygroundNodeData:o,thumbnailData:s,playgroundNodeData:c,hasChangesToReset:d}=S(),u=a.useCallback(()=>{let e=!1;r?e=i.glU.setPlaygroundSceneFromDetachedInfo(r.dataComponentId,"temp-scene"===r.dataLocation):t&&(e=i.glU.setPlaygroundSceneFromSelection()),e||(i.glU.clearPlaygroundScene(),o(void 0))},[t,r,o]);return a.useEffect(()=>{u()},[u]),a.useMemo(()=>c&&s?{hasChangesToReset:d,refetchAndResetScene:u,nodeData:c,thumbnailData:s}:null,[c,s,d,u])}},722261:(e,t,n)=>{n.d(t,{b:()=>m});var a=n(411855),l=n(730371),r=n(587670),i=n(153234),o=n(939863),s=n(617453),c=n(100197),d=n(962264),u=n(564092);function m({fill:e,modes:t,recordingKey:n}){let m=(0,c.J2)((0,s.UK)().showGuids),p=Object.entries(t).map(([e,t])=>({...t,setKey:e})).filter(e=>e.modeOptions.length>1).sort((e,t)=>e.collectionName.toLocaleLowerCase().localeCompare(t.collectionName.toLocaleLowerCase()));return 0===p.length?null:a.createElement(a.Fragment,null,a.createElement("div",{className:"playground_modes_section--title--wPRzF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,o.tx)("design_systems.playground.variable_modes_title")),p.map(t=>a.createElement(d.yj,{fill:e,key:t.setKey,onChange:e=>{e!==u.Mo&&e!==u.Yn&&((0,l.deepEquals)(t.explicitMode||t.inheritMode,e)||(e===u.Ws||e===u.UE?r.glU.setVariableModeForPlayground(t.setKey,e):r.glU.setVariableModeForPlayground(t.setKey,e.guid)))},showExplicitOnly:!1,variableSetName:t.collectionName,variableSetKey:t.setKey,modeOptions:t.modeOptions,explicitModeID:t.explicitMode,inheritedModeID:t.inheritMode,isShowingGuids:m,showInheritedModeOption:!1,recordingKey:i.Pt(n,`mode-${t.setKey}`)})))}},220747:(e,t,n)=>{n.d(t,{x:()=>h});var a=n(411855),l=n(255376),r=n(449124),i=n(29680),o=n(273226),s=n(467302),c=n(286285),d=n(721478),u=n(371623),m=n(103339);let p="playground_props_section--divider--I23uK";var f=n(132208);function g({componentProps:e,bubbledComponentId:t,productComponentGUID:n,sceneGraph:r,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,recordingKey:f,containerWidth:g}){let h=(0,i.T3)(),{typedPropDefsExcludingHidden:_,variantPropDefs:E,assignmentValuesByDefId:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:w}=(0,s.nj)(t,e,n,h);return _.length||E.length?a.createElement(l.S,{titleClassName:"playground_props_section--bubbledPropsTitle--8SBPC",isInitiallyOpen:_.length<c.qC,title:a.createElement(d.iN,{canCollapse:!0,shouldHideButtons:!0,isInComponentPlayground:!0,instanceAndSublayerGUIDs:[t],containerWide:g===o.O2.WIDE,recordingKey:f})},a.createElement(c.tO,{typedPropDefs:_,variantPropDefs:E,assignmentValues:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:w,productComponentGUID:n,propDimension:o.OE.ASSIGNMENT,guids:[t],forBubbledProps:!0,splitVariantAndTypedProps:!1,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,sceneGraph:r,inPlayground:!0,recordingKey:f,containerWidth:g,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND_BUBBLED})):null}function h({componentProps:e,moduleProps:t,moduleFrameData:n,label:l,playgroundGUID:d,productComponentGUID:h,sceneGraph:_,viewOnlyMode:E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:w,errorData:N,shouldShowDividerAboveProps:x}){let k=(0,i.T3)(),I=d&&e,{typedPropDefsExcludingHidden:T,variantPropDefs:C,assignmentValuesByDefId:S,allStateVariantProps:A,backingStateVariantProps:P,statePropertyValues:L}=(0,s.nj)(d??"",e??{},h,k),O=a.useMemo(()=>{if(!I)return[];let a=e[d]?.bubbledNestedInstanceGUIDs;if(a)return a;let l=t?.[d]?.bubbledNestedInstanceGUIDs;if(l)return l;if(n?.selectedFrameGUID){let e=t?.[n.selectedFrameGUID]?.bubbledNestedInstanceGUIDs;if(e)return e}return[]},[e,I,n,t,d]);return N?N.shouldHideError?null:a.createElement(a.Fragment,null,a.createElement("div",{className:p}),a.createElement("div",{className:"playground_props_section--errorBannerContainer--d3nQO"},a.createElement(r.z,{orientation:"vertical",iconSrc:f.A,onClose:()=>N.setShouldHideError(!0),variant:"warning",title:(0,m.DK)(N.errorType)},(0,m.q9)(N.errorType)))):I&&(T.length||C.length||O.length)?a.createElement(a.Fragment,null,x&&a.createElement("div",{className:p}),l,a.createElement(c.tO,{typedPropDefs:T,variantPropDefs:C,assignmentValues:S,allStateVariantProps:A,backingStateVariantProps:P,statePropertyValues:L,productComponentGUID:h,propDimension:o.OE.ASSIGNMENT,guids:[d],viewOnlyMode:E,forBubbledProps:!1,splitVariantAndTypedProps:!!E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,sceneGraph:_,inPlayground:!0,recordingKey:b,containerWidth:w,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND}),O.map(t=>{let n=e[t]?.backingSymbol||"",l=e[n]?.containingStateGroupGUID||n;return l?a.createElement(g,{key:t,componentProps:e,bubbledComponentId:t,productComponentGUID:l,sceneGraph:_,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:w}):null})):null}},757782:(e,t,n)=>{n.d(t,{G:()=>p,Q:()=>m});var a=n(411855),l=n(629019),r=n.n(l),i=n(966712),o=n(374626),s=n(192437),c=n(259927),d=n(977230),u=n(726732),m=(e=>(e.FILE_BROWSER="file_browser",e))(m||{});function p({entryPoint:e}){return a.createElement(s.tH,{boundaryKey:"figment-debugger",fallback:a.createElement("div",null)},a.createElement(f,{entryPoint:e}))}function f({entryPoint:e}){let[t,n]=(0,o.fp)(d.eE);return(0,a.useEffect)(()=>{n(!!(0,u.wh)())},[]),t&&(0,i.kc)().figment_debugger?a.createElement("div",{className:r()("file_browser"===e?"figment_debugger--fileBrowserContainer--KNMPr figment_debugger--container--4qsMx":"figment_debugger--container--4qsMx",c.s4,c.Dm)},a.createElement(g,null)):null}function g(){let[e,t]=(0,o.fp)(d.a4),[n,l]=(0,a.useState)([]),r=(0,a.useRef)(null),i=r.current&&r.current.value.length>0,s=i?n:e;return a.createElement("div",{className:"figment_debugger--mainWrapper--Tty8t",tabIndex:0,"data-fullscreen-intercept":!0},a.createElement(h,null,a.createElement("input",{ref:r,placeholder:"\u{1F50E} Event name",className:"figment_debugger--searchBar--uECKp",onInput:t=>{let n=t.target.value.toLowerCase();n.length<3&&l([]),l(e.filter(e=>e.requestJson.event.toLowerCase().includes(n)))}})),a.createElement(h,null,a.createElement("button",{onClick:()=>{t("clear")}},"[clear]")),i&&a.createElement(h,null,"Showing "+s.length+" of "+e.length+" most recent events"),s.map(e=>a.createElement(_,{key:e.requestJson.figment_debugger_uuid,req:e})))}function h(e){return a.createElement("div",{className:"figment_debugger--sectionWrapper--Zr0-r","data-fullscreen-intercept":!0},e.children)}function _({req:e}){let[t,n]=(0,a.useState)(!1),[l,r]=(0,a.useState)(!1),i=e.requestJson,o=(0,a.useMemo)(()=>t&&null!=i.properties?Object.entries(i.properties).map(([e,t])=>a.createElement("div",{key:e},e,": ",JSON.stringify(t))):[],[i,t]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"figment_debugger--logrow--dxWpW",tabIndex:0,role:"button",onClick:()=>{n(!t),r(!1)},"data-fullscreen-intercept":!0},a.createElement("span",null,t?"\uFF0D":"\uFF0B"),"\xa0",a.createElement("span",null,e.networkState===d.tM.SUCCESS?"\u{1F49A}":e.networkState===d.tM.FAILURE?"\u{1F494}":"\u{1F9E1}"),"\xa0",a.createElement("span",{className:"figment_debugger--timestamp--BaHtN"},i.sentAt.slice(11,16)),"\xa0",i.event),t&&a.createElement("div",{className:"figment_debugger--propertiesWrapper--hZGnc"},a.createElement("div",{className:"figment_debugger--propertiesButtonsRow--ZL1rH"},a.createElement("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),r(!0)}},"[",l?"copied":"copy","]")),o))}},433195:(e,t,n)=>{n.d(t,{V1:()=>l,WX:()=>a,b6:()=>r});let a="dev_handoff_seen_annotation_introduction_overlay",l="dev_handoff_seen_annotation_tools_overlay",r="dev_handoff_seen_annotation_upsell_overlay"},332721:(e,t,n)=>{n.d(t,{_:()=>p});var a=n(411855),l=n(343887),r=n(782683),i=n(243742),o=n(163023),s=n(939863),c=n(498606),d=n(227795),u=n(960896),m=n(130715);function p({onClick:e}){return"ui3"===(0,i.DP)().version?a.createElement(l.K,{onClick:e,recordingKey:"canvas_search.search_icon_button","aria-label":(0,s.t)("fullscreen_actions.find"),htmlAttributes:{"data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":c.Ib.LOOKUP}},a.createElement(r.h,null)):a.createElement(d.K0,{"data-onboarding-key":"canvas-search","data-tooltip-type":c.Ib.LOOKUP,"data-tooltip":"canvas-search",onClick:e,recordingKey:"canvas_search.search_icon_button",isBackgroundTransparent:!0,className:u.gV},a.createElement(o.B,{svg:m.A,className:u.v9}))}},137345:(e,t,n)=>{n.d(t,{Y:()=>eE,f:()=>ey});var a=n(411855),l=n(188507),r=n(729064),i=n(782683),o=n(243742),s=n(587670),c=n(534611),d=n(629019),u=n.n(d),m=n(939683),p=n(622422),f=n(966712),g=n(38580),h=n(374626),_=n(646240),E=n(498750),y=n(860601),v=n(316082),b=n(563706),w=n(153234),N=n(522739),x=n(735536),k=n(96328),I=n(456363),T=n(268537),C=n(376406),S=n(452441),A=n(493323),P=n(355819),L=n(163023),O=n(46481),D=n(271779),M=n(939863),R=n(392592),F=n(772167),B=n(356390),K=n(478556),U=n(541524),z=n(283942),H=n(862442),V=n(843495),G=n(318812),W=n(29680),Y=n(479118),X=n(967409),j=n(498606),q=n(371591),Q=n(298543),J=n(227795),Z=n(144119),$=n(100303),ee=n(332721),et=n(796825),en=n(424622),ea=n(81804),el=n(960896),er=n(949207),ei=n(432023),eo=n(247245),es=n(370903),ec=n(995382),ed=n(761070),eu=n(593701),em=n(289298),ep=n(130715),ef=n(630834),eg=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(eg||{}),eh=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(eh||{});let e_=(0,g.eU)(!1),eE=a.memo(function(e){let{onFocus:t}=e;return a.createElement("div",{className:el.i$},a.createElement("div",{className:el.PP},a.createElement("div",{className:el.JA},a.createElement(ee._,{onClick:e.onFocus}),a.createElement(S.L,{className:el.Rt,onFocus:t,placeholder:(0,M.t)("canvas_search.search_placeholder")}))))}),ey=a.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:n,next:l,exit:r,setNavigateNearestOnce:d,search:m,showSearch:p,mode:f,isLoading:g,allInstancesExpanded:_,missingResultsOnSomePages:y}=(0,$.SQ)(),[v,b]=(0,a.useState)(""),{focusedByButtons:w,inputRef:N}=(0,$.CT)(),x=(0,a.useRef)(null),T=(0,H.Z)("canvas_search_navigate"),C=(0,h.md)(I.Wy),S=(0,h.md)(I.ml),P=(0,a.useContext)($.EA),L=(0,h.md)(e_),[R,F]=(0,a.useState)(null),[K,z]=(0,a.useState)(0),[V,G]=(0,a.useState)(!1);(0,a.useLayoutEffect)(()=>{if(P){if(S.size>1||C.size>1){G(!0);return}for(let e of C.values())e.size>1&&G(!0)}},[C,P,S]);let W=(e,t)=>{G(!1),l(e,t)},Y=function(e,t,n){if(!n)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(C,S,P),q=function(e,t,n,l,r){let i=eC(e,n,e=>{let n=(e.keyCode===E.Uz.D||e.keyCode===E.Uz.F)&&(0,E.Fo)(e)&&e.shiftKey;eA(e)&&!n&&t.current?.focus()},r);return(0,a.useCallback)(e=>{let a=eP(e);switch(e.keyCode){case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:(0,E.Te)(e)||i(e);break;case E.Uz.C:case E.Uz.X:(0,E.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(B.Y5.triggerAction(e.keyCode===E.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===E.Uz.X&&t.current?.focus());break;case E.Uz.V:case E.Uz.Z:break;default:i(e)}n||a===c.AD||l(s.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[n,i,t,l])}(W,x,Y,T,z),Q=eS(z);(0,$.A5)(N,l,w);let Z="ui3"===(0,o.DP)().version;if(!p)return null;let ee=a.createElement(a.Fragment,null,a.createElement("div",{className:u()(el.v9,{[el.ei]:Z&&""===t})},a.createElement(O.U,{svg:ep.A},a.createElement(i.h,null))),a.createElement($.ih,{onChange:e=>{G(!1),m(e)},query:t,focusedByButtons:w,onKeyDown:q,onKeyUp:Q,innerRef:N,onPasteCapture:e=>{(0,U.gk)(e)&&(B.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),x.current?.focus())},editorType:X._Y.DESIGN}));return a.createElement(D.i,null,a.createElement("div",{className:el.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(s.YEY.setOverlayVisible(!1),d(),z(0))}},a.createElement("div",{className:el.PP},a.createElement("div",{className:el.Wv},Z?a.createElement("div",{className:el.Z9},ee):ee,e&&a.createElement(en.g,{lean:"right",recordingKey:"figma_design_search"}),a.createElement(J.K0,{svg:ef.default,onClick:r,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,M.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"figma_design_search.close"})),a.createElement(en.F,{mode:f,short:f===s.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),f===s.EW4.REPLACE&&a.createElement(et.a,{query:t,value:v,onChange:b,onFocus:(e,n)=>{!t&&n&&N.current?.focus()},hasMultipleSelections:Y,recordingKey:"figma_design_search"})),g||L?a.createElement("div",{className:u()(el.S,el.dz)},a.createElement(A.dW,{size:"medium",testId:"canvas-search-loading-spinner"})):t&&!(0,k.jN)(t)&&a.createElement(ev,{onNext:W,navigate:T,replacement:f===s.EW4.REPLACE?v:void 0,resultsOnOtherPages:n,allInstancesExpanded:_,resultInputHandlerRef:x,hoveredResult:R,hasMultipleSelections:Y,isInMultiselectMode:V,hoverSelectMode:K,missingResultsOnSomePages:y,setIsInMultiselectMode:G,setHoverSelectMode:z,setHoveredResult:F})))});function ev({onNext:e,navigate:t,replacement:n,resultsOnOtherPages:i,resultInputHandlerRef:o,hoveredResult:d,hasMultipleSelections:f,isInMultiselectMode:g,missingResultsOnSomePages:_,hoverSelectMode:v,setIsInMultiselectMode:b,setHoverSelectMode:w,setHoveredResult:x,allInstancesExpanded:k}){let T=(0,l.wA)(),C=(0,$.WB)(),S=(0,$.II)(),L=(0,W.p8)("currentPage"),O=(0,a.useRef)(null),D=(0,l.d4)(e=>e.canvasSearch.scope),R=s.YEY.hasDirtyPrimaryInstances(),K=(0,h.md)(I.Fk),U=(0,h.md)(I.Ch),z=(0,h.md)(I.Wy),V=(0,h.md)(I.ml),G=(0,h.md)(I.hw),Y=(0,a.useContext)($.EA),X=!g,q=null==n,Q=(0,$.L4)(),Z=function(e,t){let n=(0,H.Z)("canvas_search_navigate"),r=(0,l.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,a.useContext)($.EA),c=(0,a.useCallback)((a,l,o)=>{let{nav:c,numNewNodes:d,numNewTextMatches:u}=s.YEY.addActiveResultAndGetViewportSettings(a,l,o);e&&i("canvas_search_enter_multi_select",{numberOfNodes:d,numberOfTextMatches:u,source:"cmd/ctrl+click",mode:t?"find":"replace"}),n(c,{additionalTrackEventParams:{searchScope:s.Lov[r]}})},[t,n,r,i,e]);return o?c:y.lQ}(X,q),ee=function(e,t){let n=(0,H.Z)("canvas_search_navigate"),r=(0,l.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,a.useContext)($.EA),c=(0,a.useCallback)(a=>{let{nav:l,numNewNodes:o,numNewTextMatches:c}=s.YEY.addActiveResultsAndGetViewportSettings(a);e&&i("canvas_search_enter_multi_select",{numberOfNodes:o,numberOfTextMatches:c,source:"shift+click",mode:t?"find":"replace"}),n(l,{additionalTrackEventParams:{searchScope:s.Lov[r]}})},[t,n,r,i,e]);return o?c:y.lQ}(X,q),et=function(){let e=(0,H.Z)("canvas_search_navigate"),t=(0,l.d4)(e=>e.canvasSearch.scope),n=(0,a.useContext)($.EA),r=(0,a.useCallback)((n,a,l)=>{e(s.YEY.removeActiveResultAndGetViewportSettings(n,a,l),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t]);return n?r:y.lQ}(),[en,er]=function(...e){let[t,n]=(0,a.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,a.useCallback)((e,t=!0)=>{n(n=>n[e]!==t?{...n,[e]:t}:n)},[])]}(c.Xy,L),ei=(0,a.useRef)({}),eo=(0,a.useMemo)(()=>{let e=[],t=C.find(e=>e.pageId===c.Xy),n=D===s.Lov.ALL_PAGES||!!t,a=C.find(e=>e.pageId===L),l=C;D===s.Lov.ACTIVE_PAGE&&(l=[],t&&l.push(t),a&&l.push(a));let r=0;for(let{pageId:t,results:a}of(ei.current={},l)){if(0===a.length)continue;let l=!!en[t];if(n&&(e.push({type:"header",data:{pageId:t,open:l,numResults:a.reduce((e,t)=>e+=t.textMatches.length,0)}}),++r),n&&!l)continue;ei.current[t]=r;let i=0;for(let n of a){let{textMatches:a,...l}=n;a.forEach((n,a)=>{e.push({type:"result",data:{...l,matchIndex:a,textMatch:n,index:i,pageId:t}}),++i,++r})}}return e},[L,en,D,C]);(0,a.useEffect)(()=>{null!=U&&er(U.pageId)},[U,er]);let ed=(0,r.z)({size:eo.length,parentRef:O,overscan:10}),eu=e=>{if(null==U||null==U.index)return[];let t=ei.current[U.pageId];if(null==t)return[];let n=t+U.index;if(n===e)return[];let a=[],l=Math.min(n,e),r=Math.max(n,e);if("header"===eo[e].type)return a;for(let e=l;e<=r;e++)"result"===eo[e].type&&a.push(eo[e].data);return a},em=(0,a.useCallback)(e=>!!Y&&"header"!==e.type&&(!!g||0!==v)&&(e.data.textMatch.matchType===s.Ifi.TEXT_MATCH&&V.has(e.data.resultGuid)&&!z.has(e.data.resultGuid)||G.has(e.data.resultGuid)),[z,Y,V,v,G,g]),ep=(0,a.useCallback)(e=>"header"!==e.type&&(Y?e.data.textMatch.matchType===s.Ifi.PAGE_MATCH?e.data.index===U?.index&&e.data.pageId===U?.pageId:e.data.textMatch.matchType===s.Ifi.LAYER_MATCH?V.has(e.data.resultGuid)&&!z.get(e.data.resultGuid):z.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===U?.index&&e.data.pageId===U?.pageId),[U?.index,U?.pageId,z,Y,V]),ef=(0,a.useCallback)((e,t,n)=>{let a=e+n,l=t+n,r=e=>"result"===e.type&&(ep(e)||em(e));for(;a>0&&a<=eo.length&&r(eo[a-1]);)a-=1;for(;l<eo.length&&r(eo[l]);)l+=1;return[a-n,l-n]},[em,ep,eo]),eg=(0,a.useCallback)((e,t)=>{if(e+t>=eo.length)return!1;let n=eo[e+t];return!ep(n)&&!em(n)},[em,ep,eo]),eh=(0,a.useCallback)((e,t,n)=>{let a=!1;for(let l=e;l<=t&&!(l+n>=eo.length);l+=1){let e=eo[l+n];if(!ep(e)&&!em(e)){a=!0;break}}return a},[em,ep,eo]),[e_,eE]=(0,a.useMemo)(()=>{let e=d?.nodeGuid??c.AD,t=U?.pageId!=null?ei.current[U.pageId]:null;if(Y&&0!==v&&d&&e!==c.AD&&d.pageId===U?.pageId&&null!=t){let n=d.index,a=d.matchIndex;if((1===v||U?.index==null)&&eg(n,t))return[n,s.YEY.getSingleHoveredSelectionEndIndex(e,a)];if(2===v&&U?.index!=null&&U.index!==d.index){let l=n>U.index?U.index:n;return eh(l,n>U.index?n:U.index,t)?ef(l,s.YEY.getMultiHoveredSelectionEndIndex(e,a),t):[null,null]}}return[null,null]},[U?.index,U?.pageId,Y,ef,v,d,eh,eg]),ey=(0,a.useCallback)(e=>!Y||null==e_||null==eE||e<e_||e>=eE?0:e===e_&&e===eE-1?4:e===e_?1:e===eE-1?3:2,[Y,e_,eE]),ev=(0,p.$)(U);(0,a.useEffect)(()=>{if(g||0!==v||null==U||null==U.index||0===eo.length||!ev)return;let e=ei.current[U.pageId];if(null==e)return;let t=e+U.index,n=t>=ed.virtualItems[0].index&&t<=ed.virtualItems[ed.virtualItems.length-1].index,a=!1;if(n){let e=ed.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:n}=e;a=function(e,t){if(!t)return!0;let n=t.scrollTop,a=n+t.clientHeight;return e.top>=n&&e.bottom<=a}({top:t,bottom:t+n},O.current)}}a||R||ed.scrollToIndex(t,{align:"center"})},[U,ev,o,g,eo,R,ed,v]);let eb=(e,t,n,a)=>{let l=()=>{a?et(t.resultGuid,t.matchIndex,t.textMatch.matchType):Z(t.resultGuid,t.matchIndex,t.textMatch.matchType)};t.pageId===c.Xy?(S(t.guid),er(t.guid),b(!1)):Y&&t.pageId===U?.pageId?e.shiftKey&&U?.index==null?(a||l(),b(!0)):e.shiftKey?((()=>{let e=eu(n),t=[];e.forEach(e=>{let n=t.length?t[t.length-1]:void 0;n?.nodeId===e.resultGuid&&n?.searchResultType===s.Ifi.TEXT_MATCH?n.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),ee(t)})(),b(!0)):(0,E.Fo)(e)&&t.textMatch.matchType!==s.Ifi.PAGE_MATCH?(l(),b(!0)):(Q(t.resultGuid,t.matchIndex),b(!1)):(Q(t.resultGuid,t.matchIndex),b(!1))},ek=function(e,t,n,r,i,o,d){let u=function(e,t){let n=(0,H.Z)("canvas_search_navigate"),r=(0,l.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,a.useContext)($.EA),c=(0,a.useCallback)(()=>{let{nav:a,numNewNodes:l,numNewTextMatches:o}=s.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&i("canvas_search_enter_multi_select",{numberOfNodes:l,numberOfTextMatches:o,source:"cmd/ctrl+A",mode:t?"find":"replace"}),n(a,{additionalTrackEventParams:{searchScope:s.Lov[r]}})},[t,n,r,i,e]);return o?c:y.lQ}(n,r),p=(0,a.useContext)($.EA),f=eC(e,i,eA,o);return(0,a.useCallback)(e=>{let n=eP(e);switch(e.keyCode){case E.Uz.UP_ARROW:case E.Uz.DOWN_ARROW:case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:i?(function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),eA(e,!0)):f(e);break;case E.Uz.A:if(p&&(0,E.Te)(e)){u(),d(!0),e.stopPropagation(),e.preventDefault();break}eA(e);break;case E.Uz.C:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):eA(e);break;case E.Uz.V:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):eA(e);break;case E.Uz.X:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):eA(e);break;case E.Uz.DELETE:case E.Uz.BACKSPACE:eA(e,!0);break;default:f(e)}i||n===c.AD||t(s.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[i,p,f,u,d,t])}(e,t,X,q,f,w,b),eI=eS(w);return a.createElement("div",{className:el.sb},a.createElement("div",{className:el.Jo},a.createElement(ew,{totalOnActivePage:K.total,resultsOnOtherPages:i,allInstancesExpanded:k}),0!==eo.length&&a.createElement(a.Fragment,null,a.createElement(J.K0,{svg:ec.A,onClick:t=>{e(ea.OP.PREV,"button")},"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,M.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"figma_design_search.previous",disabled:K.total<=1}),a.createElement(J.K0,{svg:es.A,onClick:t=>{e(ea.OP.NEXT,"button")},"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,M.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"figma_design_search.next",disabled:K.total<=1}))),a.createElement(P.P,{className:el.bB,scrollContainerRef:O},a.createElement(N.D8,{style:{height:ed.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:ek,onKeyUp:eI,forwardedRef:o},ed.virtualItems.map(e=>{let t=eo[e.index];if(!t)return null;let l=ep(t),r="result"===t.type&&t.data.pageId===U?.pageId?ey(t.data.index):0;return a.createElement("div",{key:"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`,ref:e.measureRef,className:u()({[el.T]:1===r,[el.fz]:2===r,[el.Nf]:3===r,[el.HR]:(1===v||U?.index==null)&&d?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`}},"header"===t.type?a.createElement(eN,{...t.data,setOpen:e=>er(t.data.pageId,e)}):a.createElement(ex,{activePageId:U?.pageId,onSelect:n=>eb(n,t.data,e.index,l),onDoubleClick:()=>{s.YEY.exitSearchMode(s.dNx.SELECT_ACTIVE)},resultInputHandlerRef:o,result:t.data,replacement:n,selected:l,indirectlySelected:em(t),singletonHoverSelected:4===r,isInMultiselectMode:g,isInHoveredSelectMode:0!==v&&!!d,hasMultipleSelections:f,setHoveredResult:x}))})),R&&a.createElement("div",{className:el.S},a.createElement(A.dW,{size:"medium"})),i&&D===s.Lov.ACTIVE_PAGE&&a.createElement(N.GG,{recordingKey:"figma_design_search.other_pages_button",className:u()(el.fp,el.AX),onClick:()=>{T(F.V2(s.Lov.ALL_PAGES))}},(0,M.tx)("canvas_search.results_other_pages")),_&&D===s.Lov.ALL_PAGES&&a.createElement("div",{className:el.du},(0,M.tx)("canvas_search.results_unavailable_offline"))))}let eb={[s.Lov.ACTIVE_PAGE]:()=>(0,M.tx)("canvas_search.this_page"),[s.Lov.ALL_PAGES]:()=>(0,M.tx)("canvas_search.all_pages")};function ew({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:n}){let r=(0,l.wA)(),i=(0,Z.sO)(),o=(0,G.BK)("CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN"),c=(0,a.useRef)(null),d=(0,l.d4)(e=>e.canvasSearch.scope),u=(0,l.d4)(e=>e.mirror.appModel.pagesList),m=(0,_.Xr)(e_),p="";p=0===e?(0,Y.lH)(u)||!n?i?(0,M.t)("canvas_search.no_results_in_this_deck"):(0,M.t)("canvas_search.no_results_on_page"):t?(0,M.t)("canvas_search.no_results"):(0,M.t)("canvas_search.no_results_in_file"):(0,M.t)("canvas_search.results_count",{total:e});let g=(!i||(0,f.kc)().interop_pages)&&(e>0||t||(0,Y.lH)(u)||!n);return a.createElement("div",{className:el._M},a.createElement("span",{"data-testid":"canvas-search-info",className:el.qp},p),g&&a.createElement(a.Fragment,null,a.createElement("span",{className:el.hY},"\xb7"),a.createElement("div",{role:"none",onClick:e=>e.stopPropagation()},a.createElement(N.GG,{forwardedRef:c,recordingKey:"figma_design_search_page_scope_dropdown",className:el.Vz,"data-testid":"figma-design-search-scope-dropdown",onClick:e=>o.showing&&e.stopPropagation(),onMouseDown:()=>o.toggle(),onKeyDown:e=>{(e.keyCode===E.Uz.ENTER||e.keyCode===E.Uz.SPACE)&&(e.preventDefault(),o.toggle())}},a.createElement(a.Fragment,null,eb[d](),a.createElement(L.B,{svg:em.A}))),c.current&&o.showing&&a.createElement(Q.Jz,{showPoint:!1,maxWidth:160,minWidth:160,className:el.NB,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,lean:"right",leanPadding:0,targetRect:c.current.getBoundingClientRect(),hideDropdown:o.hide,recordingKey:"figma_design_search_page_scope",propagateCloseClick:!0,options:[s.Lov.ACTIVE_PAGE,s.Lov.ALL_PAGES].map(e=>a.createElement(T.MM,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===d,onClick:()=>{o.hide(),e===s.Lov.ALL_PAGES&&((0,Y.lH)(u)||!n)?(m(!0),requestAnimationFrame(()=>{r(F.V2(e)),m(!1)})):r(F.V2(e))}},a.createElement("div",{className:el.VM},eb[e]())))}))))}function eN({pageId:e,open:t,setOpen:n,numResults:l}){let r=(0,W.eY)().get(e),i=e===c.Xy?(0,M.t)("fullscreen.canvas_search.pages"):r.name;return a.createElement(N.GG,{className:el.kQ,onClick:()=>n(!t)},a.createElement(L.B,{className:el.eO,svg:t?er.A:ei.A}),a.createElement("span",{className:el.rB},i),a.createElement("span",{className:el.hs},l))}function ex({result:e,replacement:t,activePageId:n,resultInputHandlerRef:r,selected:i,indirectlySelected:o,singletonHoverSelected:d,onSelect:m,onDoubleClick:p,isInMultiselectMode:f,isInHoveredSelectMode:g,hasMultipleSelections:h,setHoveredResult:_}){let E=(0,W.eY)(),x=(0,W.p8)("currentPage"),k=e.textMatch.matchType===s.Ifi.TEXT_MATCH,I=null!=t&&k&&(E.get(e.guid)?.hasMissingFont||!1),T=!(0,v.y)(),C=(0,l.d4)(e=>e.mirror.appModel.pagesList),S=T&&e.textMatch.matchType===s.Ifi.PAGE_MATCH&&s.h3O.isIncrementalSession()&&(0,Y.Fy)(C,e.resultGuid)!==s.xal.LOADED,A=(0,l.wA)(),P=u()(el.V3,{[el.HR]:e.isPurple,[el.wH]:i,[el.r9]:S}),O=a.createElement(q.Bf,{className:P,guid:e.guid});return I?O=a.createElement("div",{className:el.v9+" "+P},a.createElement(L.B,{svg:eu.A})):e.guid===x&&(O=a.createElement("div",{className:el.v9+" "+P},a.createElement(L.B,{svg:eo.A}))),a.createElement(N.GG,{className:u()({[el.AX]:!0,[el.wH]:i,[el.Xt]:!i&&o,[el.rX]:d,[el.Dw]:g,[el.HR]:e.isPurple,[el.r9]:S}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{S?A(R.F.enqueue({type:"offline-page-switch",message:(0,M.t)("fullscreen.pages_panel.unavailable_offline")})):(r.current?.focus(),f||!i||(b.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===s.Ifi.PAGE_MATCH?m(t):h||s.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:f||S?y.lQ:p,onMouseEnter:()=>{e.pageId===c.Xy||e.pageId!==n?_(null):_({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),k?s.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===s.Ifi.LAYER_MATCH&&(0,V.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,V.Uc)(""),_(null),s.YEY.setHoveredResult(c.AD,-1)},recordingKey:w.Pt("figma_design_search","result",e.pageId,e.index)},a.createElement("div",{className:el._P},O),a.createElement("div",{className:u()(el.D6,{[el.c1]:k})},e.textContent&&k?a.createElement(eI,{text:e.textContent,match:e.textMatch,replacement:I?void 0:t,multiline:!0}):a.createElement(ek,{result:e})),S&&a.createElement("div",{className:el.QF,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,M.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},a.createElement(L.B,{className:el.VQ,svg:ed.A})))}function ek({result:e}){let{query:t}=(0,l.d4)(e=>e.canvasSearch),n=e.name&&e.stateGroupName?(0,x.w)(e.name):e.name;if(!n)return null;let r=e.stateGroupName||e.containerName,i=-1;e.textContent&&(n=e.textContent,i=e.name?.toLowerCase().indexOf(t)??-1,r=e.name);let o=n.toLowerCase().indexOf(t)??-1;return a.createElement("div",null,n&&o>-1?a.createElement(eI,{text:n,match:{start:o,end:o+t.length,matchType:s.Ifi.LAYER_MATCH},multiline:!0}):a.createElement(C.ph,{text:n}),r&&a.createElement("div",{className:el.Gu},i>-1?a.createElement(eI,{text:r,match:{start:i,end:i+t.length,matchType:s.Ifi.LAYER_MATCH}}):a.createElement(C.ph,{text:r})))}function eI({text:e,match:t,replacement:n,multiline:l}){let[r,i]=(0,a.useState)(e),[o,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{i(e)},[e]),(0,a.useEffect)(()=>{if(!o||r!==e)return;let n=t.start,a=0;for(let t=n-1;t>=0;--t)if(/\s/.test(e[t])&&a++,3===a){n=t;break}a<3&&(n=0),i(e.slice(n))},[o,r,e,t.start]);let c=(0,a.useMemo)(()=>a.createElement(eT,{text:r,replacement:n,fullString:e,match:t}),[r,t,n,e]);return a.createElement(C.ph,{className:l?el.c1:"",text:c,multiline:l,onTruncationChange:s})}function eT({text:e,replacement:t,fullString:n,match:l}){let r=0;n&&e!==n&&(r=n.length-e.length);let i=l.start-r,o=l.end-r,s=e.substring(0,i),c=e.substring(i,o),d=e.substring(o);if(t&&c.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=K.r.detectTextTransform(c);t=K.r.applyTextTransform(t,e)}return a.createElement(a.Fragment,null,r?"\u2026":"",s,t?a.createElement(a.Fragment,null,a.createElement("span",{className:el.of},c),a.createElement("b",null,t)):a.createElement("b",null,c),d)}function eC(e,t,n,r){let i=(0,$.II)(),o=function(){let e=(0,H.Z)("canvas_search_navigate"),t=(0,l.d4)(e=>e.canvasSearch.scope),n=(0,m.am)(),r=(0,a.useContext)($.EA),i=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"down"}),e(s.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t,n]);return r?i:y.lQ}(),c=function(){let e=(0,H.Z)("canvas_search_navigate"),t=(0,l.d4)(e=>e.canvasSearch.scope),n=(0,m.am)(),r=(0,a.useContext)($.EA),i=(0,a.useCallback)(()=>{n("canvas_search_multi_hierarchy",{order:"up"}),e(s.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t,n]);return r?i:y.lQ}(),d=(0,a.useContext)($.EA);return(0,a.useCallback)(a=>{switch(d?(0,E.Fo)(a)&&!a.shiftKey?r(1):a.shiftKey?r(2):r(0):r(0),a.keyCode){case E.Uz.P:case E.Uz.UP_ARROW:(a.keyCode!==E.Uz.P||b.Ay.mac&&(0,E.vN)(a,E.xH.CONTROL))&&(e(ea.OP.PREV,"keyboard"),a.stopPropagation(),a.preventDefault());break;case E.Uz.N:case E.Uz.DOWN_ARROW:(a.keyCode!==E.Uz.N||b.Ay.mac&&(0,E.vN)(a,E.xH.CONTROL))&&(e(ea.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault());break;case E.Uz.ENTER:if((0,E.Fo)(a)){s.YEY.exitSearchMode(s.dNx.SELECT_ACTIVE);break}if(i())break;a.shiftKey?t?c():e(ea.OP.PREV,"keyboard"):t?o():e(ea.OP.NEXT,"keyboard"),a.stopPropagation(),a.preventDefault();break;case E.Uz.ESCAPE:s.YEY.exitSearchMode(s.dNx.NONE),a.preventDefault(),a.stopPropagation();break;default:n(a)}},[d,r,i,n,e,t,c,o])}function eS(e){return(0,a.useCallback)(t=>{if(t.keyCode===E.Uz.SHIFT){(!b.Ay.mac||t.metaKey)&&(b.Ay.mac||t.ctrlKey)||e(0);return}let n=b.Ay.mac&&"Meta"===t.key,a=!b.Ay.mac&&t.keyCode===E.Uz.CTRL;(n||a)&&!t.shiftKey&&e(0)},[e])}function eA(e,t=!1){if(t||(0,z.U5)(e,z.W0.YES)){let t=(0,z.f7)(e);return t&&e.stopPropagation(),t}return!1}function eP(e){switch(e.keyCode){case E.Uz.DELETE:case E.Uz.BACKSPACE:return s.YEY.getNextResultForActiveResultRemoval();case E.Uz.X:if((0,E.Te)(e))return s.YEY.getNextResultForActiveResultRemoval();break;case E.Uz.H:case E.Uz.R:if((0,E.Fo)(e)&&e.shiftKey)return s.YEY.getNextResultForActiveResultRemoval()}return c.AD}},393171:(e,t,n)=>{n.r(t),n.d(t,{FullscreenPageView:()=>t3,LibraryAssetsReduxSyncing:()=>t7,onFullscreenViewRender:()=>t8}),n(206354);var a=n(411855),l=n(188507),r=n(603625),i=n(243742),o=n(627776),s=n(966712),c=n(498750),d=n(563706);let u=new Set(["-","="]),m=new Set(["-","=","f","o","p","r","s"]);function p(e){if(!m.has(e.key))return;let t=d.Ay.mac?c.xH.META:c.xH.CONTROL;(0,c.vN)(e,t)?e.preventDefault():u.has(e.key)&&(t|=c.xH.SHIFT,(0,c.vN)(e,t)&&e.preventDefault())}var f=n(794272),g=n(99380),h=n(218881),_=n(286640),E=n(763658),y=n(192437),v=n(256975),b=n(609219),w=n(293017),N=n(986270),x=n(931828),k=n(696097),I=n(672517),T=n(720289),C=n(126049),S=n(776250),A=n(809831),P=n(988022),L=n(661843),O=n(611720),D=n(516398),M=n(288536),R=n(692609),F=n(297666),B=n(517333),K=n(529529),U=n(325680),z=n(756085),H=n(886119),V=n(697551),G=n(384792);let W=(0,F.s)((e,t)=>{B.eD.updateFullscreenMenuState({pluginMenuData:e,widgetMenuData:t})},250);var Y=n(488983),X=n(669178),j=n(694687),q=n(860178),Q=n(309798),J=n(940596),Z=n(587670),$=n(588169),ee=n(939863),et=n(392592),en=n(22774),ea=n(356390),el=n(272042),er=n(245389);let ei="keyboard-layout-preference",eo=(e,t,n)=>{t&&e(en.FU({tab:t})),n||ea.Y5.triggerAction("toggle-keyboard-shortcuts")},es=(e,t,n,a)=>{e(x.b({keyboard_manual_supported_bell:!0})),e(et.F.enqueue({message:(0,ee.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_available",{newKeyboardName:(0,$.As)(t)}),button:{text:(0,ee.t)("keyboard_settings.update_keyboard_shortcuts"),action:()=>eo(e,"layout",a)},type:ei,onDismiss:()=>{e(x.b({keyboard_manual_supported_bell:!0}))},timeoutOverride:2e4})),(0,$.CZ)({layout:n,detectedLayout:t,eventName:"manual_supported_keyboard_detected"})},ec=(e,t,n)=>{e(x.b({keyboard_generic_supported_first_bell:!0})),e(et.F.enqueue({message:(0,ee.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_now_available",{newKeyboardName:(0,$.As)(t)}),button:{text:(0,ee.t)("keyboard_settings.enable_and_show_new_shortcuts"),action:()=>{eo(e,"layout",n),(0,$.rd)({layout:t})}},type:ei,onDismiss:()=>{}})),(0,$.CZ)({layout:Z.aTn.UNKNOWN,detectedLayout:t,eventName:"first_generic_detected_supported_keyboard"})};async function ed(e,t){if(!B.eD)return null;let n=await B.eD.getKeyboardLayout();if(!n)return null;if(t===n)return n;let a=(0,er.pB)(n),l=(0,$.v7)();return a===l||e(a,l,n,null!=t),n}async function eu(e,t){if(!window.isSecureContext||window.top!==window.self)return null;let n=navigator.keyboard;if(!n||!n.getLayoutMap)return null;let a=await n.getLayoutMap();if(function(e,t){for(let[n,a]of e)if(t?.get(n)!==a)return!1;return!0}(a,t))return t;let{layoutJSON:l,detectedLayoutsWeb:r}=(0,el.$$)(a),i=(0,el.ZN)({layoutJSON:l,detectedLayouts:r,desktopLayout:null}),o=(0,$.v7)();return i===o||e(i,o,JSON.stringify(l),null!=t),a}var em=n(974105),ep=n(27703),ef=n(336599),eg=n(388094),eh=n(58032),e_=n(743415),eE=n(705129),ey=n(933342),ev=n(535257),eb=n(216158),ew=n(830524),eN=n(331626),ex=n(239671),ek=n(294662),eI=n(143678),eT=n(280945),eC=n(88823),eS=n.n(eC),eA=n(646240),eP=(e=>(e.NOT_INITIALIZED="not_initialized",e.ACTIVE_FIRST_TIME="active_first_time",e.ACTIVE_AFTER_IDLE="active_after_idle",e.IDLE_DUE_TO_INACTIVITY="idle_due_to_inactivity",e.IDLE_DUE_TO_TAB_SWITCH="idle_due_to_tab_switch",e))(eP||{}),eL=n(38580),eO=n(529928);let eD=(0,eL.eU)(eP.NOT_INITIALIZED),eM=(0,eO.bt)(e=>({state:e,fileKey:e.openFile?.key})),eR=[eP.ACTIVE_AFTER_IDLE,eP.ACTIVE_FIRST_TIME],eF=(0,eL.eU)(null,(e,t,n)=>{let{state:a,fileKey:l}=e(eM),r=e(eD);if((r&&eR.includes(r)?"start":"end")!=(n&&eR.includes(n)?"start":"end")){let e="";switch(n){case eP.ACTIVE_AFTER_IDLE:case eP.ACTIVE_FIRST_TIME:e="active";break;case eP.IDLE_DUE_TO_INACTIVITY:case eP.IDLE_DUE_TO_TAB_SWITCH:e="inactive";break;default:e="non-initialized"}(0,P.ds)("active_time_spent_event",l,a,{currentState:e,activeState:n},{forwardToDatadog:!0,batchRequest:!1})}t(eD,n)}),eB=["mousemove","mousedown","keydown","touchstart","touchmove","wheel"];var eK=n(915440),eU=n(279453),ez=n(355025),eH=n(963719),eV=n(629019),eG=n.n(eV),eW=n(709270),eY=n(470504),eX=n(359170),ej=n(929018),eq=n(737947),eQ=n(761870),eJ=n(195847),eZ=n(394939),e$=n(322611);function e0(e){let t=(0,l.wA)(),n=(0,l.d4)(e=>e.auth);return(0,a.useEffect)(()=>{t(eQ.Ts({origin:"request_permissions_entry",redirectUrl:eq.Ay.location.pathname,formState:eJ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},[t,e.accountPickerData]),a.createElement(e$.u,{useOriginalSrcFills:!0,onBackClick:()=>{n.formState===eJ.qB.ACCOUNT_PICKER?e.closeAuth():t(eQ.Ts({origin:"request_permissions_entry",redirectUrl:eq.Ay.location.pathname,formState:eJ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))}},a.createElement("div",{className:"request_permissions_app--authViewContainer--1XJOG"},a.createElement(eZ.Ob,{id:"request-permissions-app",modal:!0,auth:n})))}var e1=n(805710);function e2(e){let t=(0,A.lg)(),n=e.pageType||t,r=((0,l.d4)(e=>e.authedUsers)??{}).byId??{},i=e.authedUsers??Object.values(r),[o,s]=(0,a.useState)(!1);return a.createElement(eW.w,{pageType:n},o?a.createElement(e0,{accountPickerData:{authed_users:i,authed_user_access_reason:{},destination_name:(0,ee.t)("mfa_required_modal.account_switcher.destination")},closeAuth:()=>{s(!1)}}):a.createElement(ej.H,{org:e.org,switchAccountsSection:a.createElement(function(){let e=(0,q.iZ)();return e?a.createElement("div",{className:eG()(eY.cx.mt24.$,e1.Yg)},(0,ee.tx)("mfa_required_modal.account_switcher.text",{userEmail:e.email,link:a.createElement(eX.u4,{defaultClass:e1.yu,onClick:()=>{s(!0)}},(0,ee.tx)("mfa_required_modal.account_switcher.switch_accounts"))})):null},null),fileKey:e.fileKey}))}var e3=n(358145),e5=n(838e3),e4=n(662275),e7=n(650769),e8=n(198371),e6=n(408405),e9=n(335682),te=n(227338),tt=n(793670),tn=n(799569),ta=n(62342),tl=n(373494);function tr(e){let{onDismiss:t,canUpgrade:n}=e;return a.createElement(I.fu,{name:"Workshop Expired File Banner"},a.createElement("div",{className:`workshop_expiry_footer--banner--ELf7G ${tl.yl}`},a.createElement("div",{className:"workshop_expiry_footer--bannerContent--w2Lw1"},a.createElement(ta.oS,{className:"workshop_expiry_footer--icon--mM-A8",type:ta.y1.WHITEBOARD}),a.createElement("div",{className:"workshop_expiry_footer--textContent--TN7cv"},a.createElement("span",{className:"workshop_expiry_footer--title--cmlOu text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},(0,ee.tx)("whiteboard.open_sessions.expiry_banner_title")),n&&a.createElement("span",{className:"workshop_expiry_footer--subtitle--jmRvc text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},(0,ee.tx)("whiteboard.open_sessions.expiry_banner_prompt")))),a.createElement(tn.Jn,{onClick:t,className:"workshop_expiry_footer--closeButton--L8lrO"})))}var ti=n(974898),to=n(648022);function ts(e){let{onWorkshopExpired:t}=e;!function(){let e=(0,l.wA)(),t=(0,q.iZ)(),n=!t,r=(0,e8.nF)(),i=r.enabled,o=r.enabled?r.id:null,s=(0,l.d4)(e=>e.progressBarState.mode),c=(0,l.d4)(e=>e.openFile?.isTryFile),d=(0,a.useMemo)(()=>{if(!t||null==o)return!1;if(c)return!0;let e=(0,_.DN)();try{return e.get((0,to.v6)(o)).includes(t.email)}catch(e){return!1}},[t,o,c]),u=t?.email;(0,a.useEffect)(()=>{u&&o&&c&&(0,to.kO)(o,u)},[u,o,c]);let m=(0,e9.MY)();(0,a.useEffect)(()=>{if(i&&!(0,e6.T)(s)&&"loaded"===m.status){let t=localStorage.getItem((0,te.K)(o));n?t?(0,e7.QA)(t):e(e4.$O({type:ti.e})):m.data?.canEdit||d||e(e4.$O({type:ti.e}))}},[e,n,i,o,s,d,m]);let p=(0,l.d4)(e=>e.openFile?.key),f=(0,l.d4)(e=>e.openFile?.name);(0,a.useEffect)(()=>{if(i&&!(0,e6.T)(s)&&n&&c&&p&&f===(0,ee.t)("fullscreen.fullscreen_view_selector.untitled")){let t=localStorage.getItem((0,te.K)(o));t&&e(e5.S({userName:t,file_key:p}))}},[i,s,o,n,c,p,f,e])}();let{showEditFileFooter:n,userCanSeeEditButton:r,dismissEditFileFooter:i}=function(e){let[t,n]=(0,a.useState)(!1),r=(0,l.wA)(),i=(0,q.iZ)(),o=(0,l.d4)(e=>e.openFile?.name),s=!i,c=(0,l.d4)(e=>e.openFile),{userCanEditFile:d,userCanSeeEditButton:u}=(0,a.useMemo)(()=>s?{userCanEditFile:!1,userCanSeeEditButton:!1}:c?{userCanEditFile:c.canEdit,userCanSeeEditButton:c.showEditButton}:{userCanEditFile:!1,userCanSeeEditButton:!1},[s,c]),m=(0,e8.nF)(),p=m.enabled,f=(0,e3.ZC)(p),g=m.enabled?m.until.valueOf():null,h=(0,a.useRef)(null),_=(0,a.useCallback)(()=>{if(!s){Z.h3O?.reconnect(!1),d||n(!0);return}r(eQ.Ts({origin:"logged_out_footer",formState:eJ.qB.SIGN_UP,redirectUrl:eq.Ay.location.pathname})),r(e4.to({type:tt.x,data:{headerText:(0,ee.t)("whiteboard.open_sessions.expiry_modal_title",{file_name:o||""}),subtitle:(0,ee.t)("whiteboard.open_sessions.expiry_modal_subtext"),disableHiding:!0}})),e()},[r,e,s,d,o]);return(0,a.useEffect)(()=>{if(p&&g){let e=Math.max(g-Date.now(),0);h.current=setTimeout(()=>{h.current=null,_()},e)}return()=>{h.current&&clearTimeout(h.current)}},[r,p,g,_]),(0,a.useEffect)(()=>{null!=f&&p!==f&&(p?Z.h3O?.reconnect(!1):(h.current&&clearTimeout(h.current),_()))},[r,p,f,_]),{showEditFileFooter:t,dismissEditFileFooter:(0,a.useCallback)(()=>{n(!1)},[]),userCanSeeEditButton:u}}(t);return n?a.createElement(tr,{onDismiss:i,canUpgrade:r}):null}var tc=n(717156),td=n(726864),tu=n(788811),tm=n(29680),tp=n(737499),tf=n(279145),tg=n(334290),th=n(979686),t_=n(750252),tE=n(214673),ty=n(503316),tv=n(877997),tb=n(144119),tw=n(632544),tN=n(479296),tx=n(59779),tk=n(590843),tI=n(7860),tT=n(374626),tC=n(877723);let tS=function(){return null};var tA=n(410424),tP=n(74021),tL=n(271245),tO=n(632430),tD=n(715879),tM=n(114716),tR=n(860707),tF=n(661060),tB=n(762765),tK=n(893606),tU=n(987850),tz=n(239737),tH=n(503457),tV=n(554630);let tG=new tV.b({name:"sites_external",dependencies:[],exports:["atoms.ts","components.ts","error_overlay.ts","figma_api.ts","fullscreen.tsx","hooks.ts","html_widget.ts","is_sites.ts","living_designs.ts","open_html_preview.ts","responsive_text_styles.ts","sites_fullscreen_view.ts","utils.ts","snapshot.ts","devtools.ts"],friendFiles:[],routeHints:["sites_external"]}).createLazyComponent(()=>n.e(9293).then(n.bind(n,900497)).then(e=>e.SitesFullscreenViewInner),{loading:tH.H4.NONE,error:tH.H4.NONE,componentName:"LazySitesFullscreenViewInner"}),tW=new tV.b({name:"slides",dependencies:[],exports:["ai/present_summary/constants.ts","ai/present_summary/use_ai_slide_generator.tsx","ai/slides_ai_permissions.ts","atoms.ts","behaviors/slide_deck_add_behavior.ts","behaviors/slide_deck_reorder_row_behavior.ts","file_browser/new_slides_action.tsx","flapps/common/themed_flapp_config_data.ts","flapps/flapp_overlay.tsx","flapps/youtube/youtube_oembed.ts","hooks/experiments.ts","hooks/is_slides_hooks.ts","hooks/use_selected_slide.ts","hooks/use_selected_slide_like_nodes.ts","hooks/use_slide_like_node_ids.ts","is_slides.ts","left_panel/carousel.tsx","left_panel/generate_thumbnail.ts","left_panel/single_slide_view_utils.ts","left_panel/thumbnail_generator.tsx","onboarding/onboarding_keys.ts","onboarding/slides_ai_welcome.tsx","onboarding/slides_ten_release_announcement_overlay.tsx","presenter_view_app/audience_view_header.tsx","presenter_view_app/modal/slides_desktop_presenter_view_update.tsx","presenter_view_app/presenter_view_entry.tsx","properties_panel/color_controls/slides_color_picker.tsx","properties_panel/color_controls/slides_color_picker_context_menu.tsx","properties_panel/rewrite_controls/slides_rewrite_modal.tsx","properties_panel/rewrite_controls/slides_rewrite_text_utils.tsx","properties_panel/rewrite_controls/slides_rewrite_utils.tsx","properties_panel/slides_align_panel.tsx","properties_panel/slides_animation_panel.tsx","properties_panel/slides_border_panel.tsx","properties_panel/slides_corner_panel.tsx","properties_panel/slides_embeddable_prototype_panel.tsx","properties_panel/slides_fill_panel.tsx","properties_panel/slides_instance_panel.tsx","properties_panel/slides_interactive_widget_panel.tsx","properties_panel/slides_layout_panel.tsx","properties_panel/slides_link_panel.tsx","properties_panel/slides_opacity_panel.tsx","properties_panel/slides_presentation_presets_entrypoint.tsx","properties_panel/slides_shadow_panel.tsx","properties_panel/slides_theme_panel.tsx","properties_panel/slides_type_panel.tsx","properties_panel/type_panel_controls/slides_text_style_actions.tsx","slide_presentation/audience_view.tsx","slide_presentation/audience_view_entry.tsx","slides_bindings.ts","slides_fullscreen_view.ts","slides_ui.ts","slides_ui.tsx","speaker_notes/speaker_notes_generate.ts","speaker_notes/speaker_notes_overlay.tsx","templates/modal/slides_template_theme_picker_modal.tsx","templates/template_atoms.ts","templates/template_hooks.ts","templates/template_publish.ts","templates/use_slides_template_publish.ts","templates/announcement/slides_pro_templates_announcement.tsx","themes/theme_atoms.ts","themes/theme_id_hooks.ts","themes/theme_utils.ts","toolbars/copy_presentation_link.tsx","toolbars/slide_view_toggle.tsx","toolbars/slides_browse_resource_modal.tsx","toolbars/slides_design_toggle.tsx","toolbars/slides_editor_toolbar.tsx","toolbars/slides_insert_embed_modal.tsx","toolbars/slides_insert_shape_modal.tsx","toolbars/slides_toolbelt.tsx","utils/slides_creation_helpers.ts","utils/slides_local_storage.ts","utils/slides_logging.ts","utils/slides_mode_toggle.ts","utils/slides_panel_helpers.ts","utils/slides_select_view_helpers.ts","utils/slides_selection.ts","utils/slides_tone_dial_menu.ts"],friendFiles:[],routeHints:["slides"]}).createLazyComponent(()=>Promise.all([n.e(2399),n.e(1398),n.e(1876),n.e(3036),n.e(4195),n.e(441),n.e(8547),n.e(4586),n.e(7054),n.e(214),n.e(4920),n.e(3779),n.e(6739),n.e(650),n.e(6829)]).then(n.bind(n,435362)).then(e=>e.SlidesFullscreenViewInner),{componentName:"LazySlidesFullscreenViewInner",error:tH.H4.NONE,loading:tH.H4.NONE});var tY=n(812235),tX=n(535826),tj=n(278139),tq=n(606319),tQ=n(109176);function tJ(e){switch((0,A.my)()){case ex.nT.Design:return a.createElement(tY.n,{...e});case ex.nT.Whiteboard:return a.createElement(tx.lR,{...e});case ex.nT.Sites:return a.createElement(tG,{...e});case ex.nT.Slides:return a.createElement(tW,{...e});case ex.nT.DevHandoff:return a.createElement(tX.m,{...e});case ex.nT.Cooper:return a.createElement(tS,{...e});case null:return null}}let tZ=a.memo(({children:e})=>{let t=(0,l.d4)(e=>e.openFile),n=t?t.key:"",r=(0,a.useRef)(null),i=(0,l.wA)(),o=(0,tT.md)(tD.h),c=(0,l.d4)(e=>e.openFile?.canEdit??!1),[u,m]=(0,a.useState)(!1),p=(0,tm.dH)(),f=(0,tm.p8)("isReadOnly"),g=(0,j.dq)(),h=(0,tK.R)(),_=(0,tm.p8)("showUi"),E=(0,A.E3)(),y=(0,e3.ZC)(E);E!==y&&y&&i(w.PQ([])),(0,tU.j)(n),(0,tz.KQ)(n),(0,tC.OQ)(n),(0,tz.y1)(n),tO.nz(),(0,tM.N)(),(0,tj.Ky)(),(0,a.useEffect)(()=>{let e=()=>{window.scrollTo({left:document.body.scrollLeft,top:document.body.scrollTop,behavior:"smooth"})};window.scrollTo(0,0),d.XN&&document.addEventListener("focusout",e),document.documentElement.classList.add(tQ.FC),document.body.classList.add(tQ.Wc),i(tP._J());let t=window.FigmaMobile;return t&&(t._get_memory_stats=()=>{let e=Z.P2e?.getImageMemory();return{metadata:JSON.parse(JSON.stringify({coreJsBufferMemory:Z.hMR?.getJsBufferMemory()||0,coreLocalMaxUsedHeapMemory:Z.hMR?.getLocalMaxUsedHeapMemory()||0,coreMaxUsedHeapMemory:Z.hMR?.getMaxUsedHeapMemory()||0,coreTotalUsedHeapMemory:Z.hMR?.getTotalUsedHeapMemory()||0,fullscreenCompressedImages:e?.compressedImages??0,fullscreenUncompressedImagesArrayBuffers:e?.uncompressedArrayBuffer??0,fullscreenUncompressedImagesImageBitmap:e?.uncompressedImageBitmap??0})),reservedWasmMemory:(0,tR.le)()||0,rendererGpuMemory:Z.P2e?.getRendererGpuMemory()||0,rendererBreakdown:Z.P2e?.getRendererMemoryBreakdown()??void 0,rendererSummary:Z.P2e?.getRendererMemorySummary()??void 0}}),()=>{d.XN&&document.removeEventListener("focusout",e),document.body.classList.remove(tQ.Wc),document.documentElement.classList.remove(tQ.FC)}},[i]),(0,a.useEffect)(()=>{t&&!r.current&&(i(tO.Yx({})),t&&!f?t?.canEdit&&i(tA.rH({fileKey:t.key})):(0,s.kc)().ce_new_missing_fonts_logging&&(0,tF.DI)(),r.current=t)},[i,f,t]),(0,a.useEffect)(()=>{(0,tj.RS)(i,t?.key,g)},[i,g,t?.key,E]),(0,a.useEffect)(()=>{B.eD&&B.eD.setEditFilePermissions(c)},[c]);let v=(0,a.useRef)(null),b=(0,a.useRef)(null);if((0,a.useEffect)(()=>{t&&(null===v.current||!v.current)&&i((0,tL.x4)()),t&&v.current&&t.key!==v.current&&i((0,tL.x4)()),b.current&&E!==b.current&&i((0,tL.x4)()),b.current=E,v.current=t?.key},[i,t,E]),"ok"!==o)return null;if(e)return a.createElement(a.Fragment,null,e);let N=E===ex.nT.Whiteboard,x=E===ex.nT.Whiteboard?(e,t)=>{(0,tj.P2)(e,t,p)}:void 0,k=(E===ex.nT.Design||E===ex.nT.DevHandoff)&&h&&_;return a.createElement(tq.v,{setShouldShowDragAndDropBorder:m,isDragTarget:N,onPointerDown:x},a.createElement(tJ,{shouldShowDragAndDropBorder:u}),k&&a.createElement(tB.G,null))});var t$=n(447402);function t0(){let{error:e}=(0,y.Hb)();return e instanceof Error&&e.message.includes("Out of memory")?a.createElement(t$.PG,null):a.createElement(y.S1,null)}var t1=n(354235);let t2=()=>{"hidden"===document.visibilityState&&(_.x4?.clear(),eT.L.cleanupSession())};function t3({children:e,loadedCommentsProvider:t=!0}){let n=(0,l.wA)(),c=(0,l.d4)(e=>e.openFile);(0,v.lF)(c?.key??""),eb.M4.Folder.useValue(c?.folderId);let u=(0,l.d4)(e=>e.selectedView.editorType),m=(0,th.FF)(),[f,_]=(0,a.useState)(!1),y=(0,i.DP)(),k=(0,tb.sO)(),I=(0,a.useCallback)(()=>{(0,tj.jS)(),_(!0)},[]),L=function({fileKey:e,onCanvasExpired:t}){let n=(0,q.TA)(),l=(0,j.dq)(),[r,i]=a.useState(!1),o=(0,ez.K)(),c=(0,eK.Rs)(eU.NSA,{fileKey:e??""},{enabled:!!e}),d="loaded"===c.status&&c.data.file?.canRead!==!0;return a.useLayoutEffect(()=>{o&&d&&(i(!0),t())},[o,d,t]),a.useEffect(()=>{o&&!d&&S.az.trackDefinedEvent("mfa.file_access_without_restriction",{orgId:l??void 0,userId:n??void 0,fileKey:e})},[o,d,l,n,e]),!!(0,s.kc)().mfa_for_guests&&r}({fileKey:c?.key,onCanvasExpired:I}),R=(0,l.d4)(e=>e.mergingStatus);(0,a.useEffect)(()=>{if((0,s.kc)().ce_suppress_browser_keys)return document.addEventListener("keydown",p,!0),()=>void document.removeEventListener("keydown",p,!0)},[]),(0,D.LD)(),function(){let e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,l.wA)(),r=(0,l.d4)(e=>e.userFlags),i=(0,l.d4)(e=>!!e.user),o=function(e,t){let n=(0,l.d4)(e=>e.mirror.appModel.showKeyboardShortcuts),r=(0,l.d4)(e=>e.user?.created_at),i=(0,a.useMemo)(()=>{let e=new Date("2022-11-14").getTime();return null!=r&&new Date(r).getTime()>=e},[r]);return(0,a.useCallback)((a,l,r,o)=>{t.keyboard_user_first_detection||o||!i?a!==Z.aTn.US_QWERTY||o||l!==Z.aTn.UNKNOWN?a&&l!==Z.aTn.UNKNOWN?t.keyboard_manual_supported_bell||es(e,a,l,n):a&&l===Z.aTn.UNKNOWN?t.keyboard_generic_supported_first_bell||ec(e,a,n):(0,$.CZ)({layout:l,detectedLayoutStr:r??void 0,eventName:"keyboard_change_no_bell"}):(0,$.CZ)({layout:a,eventName:"ignore_us_qwerty"}):(e(x.b({keyboard_user_first_detection:!0})),a&&((0,$.rd)({layout:a}),(0,$.CZ)({layout:a,eventName:"auto_set_new_user_layout"})))},[e,t,n,i])}(n,r),s=(0,a.useCallback)(async()=>{if(i){if(B.eD){let t=await ed(o,e.current??null);e.current=t}else{let e=await eu(o,t.current??null);t.current=e}}},[o,i]);(0,a.useEffect)(()=>{ea.Y5.isReady()?s():ea.Y5.onReady().then(()=>setTimeout(s,500))},[])}(),(0,X.XS)(),function(){let e=(0,l.Pj)(),t=(0,l.d4)(em.d1),n=(0,l.d4)(eg.m0),r=(0,l.d4)(eg.No),i=(0,l.d4)(e=>e.library.published),o=(0,l.d4)(e=>e.openFile),c=(0,l.d4)(e=>e.fileVersion),d=(0,l.d4)(e=>e.loadingState),u=(0,l.d4)(e=>e.library.local),m=(0,l.d4)(e=>e.library.assetsPanelSearch.shouldSearchDefaultLibraries),p=(0,ep.ud)(),f=(0,l.d4)(e=>e.folders),g=(0,eh.l6)(),h=(0,l.d4)(e=>e.library.assetsPanelSearch.query),_=(0,l.d4)(e=>e.library.assetsPanelSearch.searchOptions),E=(0,ef.D2)(d,(0,eE.yD)(o?.key||"")),y=(0,e_.M)()&&(0,s.kc)().dse_new_asset_panel_fetch,v=(0,s.kc)().dse_new_asset_panel_fetch&&(0,s.kc)().asset_search_min_searches;(0,a.useEffect)(()=>{t&&ey.YG.sourcesDidChange()},[t,n,r,i,u,m,p,f]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.queryDidChange(e)},[e,h,y]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.searchOptionsDidChange(e)},[e,_,y]),(0,a.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.subscriptionsDidChange(e,g)},[e,E,g,y]),(0,a.useEffect)(()=>{!v&&(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.assetSearchMinimizeSearchShadowRead(e,ev.oi.OPEN_FILE)},[e,o,y,v]),(0,a.useEffect)(()=>{!v&&(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.assetSearchMinimizeSearchShadowRead(e,ev.oi.FILE_VERSION)},[e,c,y,v]),(0,a.useEffect)(()=>{!v&&(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.assetSearchMinimizeSearchShadowRead(e,ev.oi.LOADING_STATE)},[e,d,y,v])}(),(0,G.gN)(),B.eD&&function(){let e=(0,z.JI)(),t=(0,l.d4)(e=>e.mirror.appModel.isReadOnly),n=(0,V.Yo)(),r=(0,l.d4)(e=>e.openFile),i=(0,l.d4)(e=>e.localPlugins),o=(0,A.E3)(),s=(0,z.op)(),c=(0,l.d4)(e=>e.installedPluginVersions.plugins),d=(0,l.d4)(e=>e.mirror.selectedStyleProperties?.selectedWidgetInfo),u=(0,l.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),m=(0,l.d4)(e=>e.publishedPlugins),p=(0,l.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),f=(0,z.Be)(),g=f.orgPlugins,h=f.orgWidgets,_=(0,H.h)("plugin"),E=(0,H.h)("widget"),y=(0,z.NU)(),v=(0,z.qr)(),b=(0,z.ZT)(),w=null!=(0,G.SH)();a.useEffect(()=>{let a={isReadOnly:t,userCanRunPlugins:e,openFile:r,publishedPlugins:m,localExtensions:i,orgEntity:n,allSavedPlugins:c,recentlyUsedPlugins:s,org:p,editorType:o,widgetSelectionInfo:d,hideRecentsHeader:!0,activeTextReviewPlugin:u,orgSavedPlugins:g,orgSavedWidgets:h,orgPrivatePlugins:_,orgPrivateWidgets:E,savedWidgetVersions:y,recentlyUsedWidgets:v,publishedWidgets:b};W(K.$0(a),U.wX(a))},[t,e,r,m,c,s,i,n,p,o,d,u,f,g,h,_,E,y,v,b,w])}(),function(){let e=(0,A.E3)(),t=(0,a.useCallback)(()=>{(0,S.sx)("display_redline",{source:"keyboard_shortcut",mode:e})},[e]),n=(0,C.A)(t,1e3,{leading:!0,trailing:!1}),r=(0,l.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),i=(0,a.useRef)(r);(0,a.useEffect)(()=>{i.current!==r&&(i.current=r,n())},[r,n])}();let F=(0,g.Sl)();(0,h.I7)("exp_aa_test_fullscreen_view").getConfig(),function(){let e=(0,l.wA)(),t=(0,th.FF)(),n=(0,tp.BI)(),[r,i]=(0,a.useState)(!1),o=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===Z.kul.JOINED);a.useEffect(()=>{t&&!r&&n?.shouldOptimizeForIpadApp&&o&&!Z.Ez5?.defaultToolIsHandSelect()&&(i(!0),ea.Y5.triggerAction("set-tool-hand",null))},[t,n,r,i,o]);let s=(0,l.d4)(({mirror:{appModel:e}})=>e.showUi);a.useEffect(()=>{n?.updateUIVisible&&n.updateUIVisible(s)},[n,s]);let c=(0,tp.m0)();a.useEffect(()=>{c&&(c._try_to_flush_autosave=async()=>{let e=(0,tu.ZG)();if(e){let t=e.session();t&&await t.tryToFlushAutosave()}})},[c]);let d=(0,tg.Kd)();a.useEffect(()=>{n?.updateSaveStatus&&(d?o?n.updateSaveStatus(tE.a.SAVING):n.updateSaveStatus(tE.a.PAUSED):n.updateSaveStatus(tE.a.SAVED))},[n,d,o]);let u=(0,l.d4)(e=>(0,tf.Yh)(e.mirror.appModel,"undo")),m=(0,l.d4)(e=>(0,tf.Yh)(e.mirror.appModel,"redo"));a.useEffect(()=>{if(n?.updateUndoEnabled&&n.updateUndoEnabled(u),n?.updateRedoEnabled&&n.updateRedoEnabled(m),c){let t=t=>{e(et.F.dequeue({matchType:"undo_redo_gesture"})),e(et.F.enqueue({message:t,type:"undo_redo_gesture",timeoutOverride:750}))};c._trigger_undo=()=>{u&&(ea.Y5.triggerActionInUserEditScope("undo"),t((0,ee.t)("fullscreen_actions.undo")))},c._trigger_redo=()=>{m&&(ea.Y5.triggerActionInUserEditScope("redo"),t((0,ee.t)("fullscreen_actions.redo")))}}},[n,e,u,m,c]);let p=(0,tp.pt)();a.useEffect(()=>{p&&(p._set_ui_visibility=e=>{e!==s&&ea.Y5.triggerAction("toggle-ui")})},[p,s]);let f=(0,td.Yk)();a.useEffect(()=>{n?.updateDLTHeight&&n.updateDLTHeight(f)},[f,n]);let g=(0,tm.dH)(),h=(0,tv.pK)(g),_=(0,tp.Ef)(),E=(0,l.d4)(e=>e.mirror?.appModel.isReadOnly);a.useEffect(()=>{h&&!E&&(_?.nativeToolbarUpdateActiveTool?.(h),_?.nativeToolbarUpdateMultiselectActive?.("MULTISELECT"===h))},[_,h,E]);let[y,v]=a.useState("ERASER"),[b,w]=a.useState("PENCIL");a.useEffect(()=>{!E&&h&&(0,tv.S0)(h)&&h!==y&&(w(y),v(h))},[h,y,v,w,E]),a.useEffect(()=>{p&&(p._switch_to_eraser=function(){if(E)return{success:!1,error:ty.lj.READ_ONLY_FILE,currentTool:"NONE"};if("ERASER"!==y)return(0,tv.Jm)("set-tool-eraser"),{success:!0,error:null,currentTool:"ERASER"};{let e=tv.Jh.get(b);return e&&(0,tv.Jm)(e),{success:!0,error:null,currentTool:b}}},p._switch_to_previous_drawing_tool=function(){if(E)return{success:!1,error:ty.lj.READ_ONLY_FILE,currentTool:"NONE"};let e=tv.Jh.get(b);return e&&(0,tv.Jm)(e),{success:!0,error:null,currentTool:b}})},[E,h,b,y,p]),c&&(c._update_context_menu_visibility=e=>{Z.glU.updateNativeContextMenuVisibility(e)},c._override_document_visibility_state=t_.R),p&&(p._activate_multiselect_mode=()=>{(0,tv.Jm)("set-tool-multiselect")},p._deactivate_multiselect_mode=()=>{(0,tv.Jm)("set-tool-default")})}(),(0,ew.a4)(),(0,o.fp)(),a.useEffect(()=>J.Bc,[]);let Y=(0,h.I7)("exp_test_exposure_data_loss",!1,!0).getConfig(),en=!!(0,Q.f)("exp_test_exposure_data_loss_has_checked");a.useEffect(()=>{let e=Y.getValue("should_expose_once",null);null===e||e&&en||((0,h.hW)("exp_test_exposure_data_loss"),e&&n(x.b({exp_test_exposure_data_loss_has_checked:!0})))},[Y,en,n]),a.useEffect(()=>{u===ex.nT.Whiteboard&&(0,h.hW)("exp_unified_index_v3_figjam")},[u]),a.useEffect(()=>(u===ex.nT.Whiteboard&&d.Ay.isMeetDevice&&"undefined"!=typeof document&&document.addEventListener("visibilitychange",t2),()=>{document.removeEventListener("visibilitychange",t2)}),[u]);let el=(0,T.o)();a.useEffect(()=>{if(el)return n(N.HQ({storeInRecentsKey:el})),u===ex.nT.Whiteboard&&(n(N.gr({storeInRecentsKey:el})),n(N.vZ({storeInRecentsKey:el}))),u!==ex.nT.DevHandoff&&n(N.aF({storeInRecentsKey:el})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)};function e(e){switch(e.key){case eN.vY:case eN.S7:n(N.HQ({storeInRecentsKey:el}));break;case eN.YN:case eN.xk:n(N.aF({storeInRecentsKey:el}));break;case eN.SO:n(N.gr({storeInRecentsKey:el}));break;case eN.JG:n(N.vZ({storeInRecentsKey:el}))}}},[n,u,el]);let er=(0,q.TA)();a.useEffect(()=>{er&&n(b.oQ())},[n,er]),function(){let e=(0,eA.Xr)(eF);(0,a.useEffect)(()=>{let t;let n=()=>{clearTimeout(t),t=setTimeout(()=>{e(eP.IDLE_DUE_TO_INACTIVITY)},6e4)},a=()=>{n(),e(eP.ACTIVE_AFTER_IDLE)},l=eS()(a,500,{trailing:!1,leading:!0}),r=()=>{"visible"===document.visibilityState?a():e(eP.IDLE_DUE_TO_TAB_SWITCH)};return e(eP.ACTIVE_FIRST_TIME),eB.forEach(e=>{document.addEventListener(e,l)}),document.addEventListener("visibilitychange",r),n(),()=>{eB.forEach(e=>{document.removeEventListener(e,l)}),document.removeEventListener("visibilitychange",r),clearTimeout(t)}},[e,6e4])}(),a.useEffect(()=>{let e=e=>{if(R===r.y.MERGING)return e.returnValue="A merge operation is in progress. Closing the window could result in data loss or corruption; please wait until the operation completes.",e.preventDefault(),n(w.sx({name:"Unload During Merge Warning Shown"})),!1},t=()=>{R===r.y.MERGING&&n(w.sx({name:"Page Closed During Merge"}))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",t),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("unload",t)}},[R,n]);let ei=(0,a.useRef)(!1);a.useEffect(()=>{(0,s.kc)().search_persistent_sessions&&c?.key&&!ei.current&&(ei.current=!0,O.y.startTimer(c.key,(0,ek.lM)()))},[c?.key]);let[eo,eI]=(0,tv.H_)(),eT=a.createElement(a.Fragment,null,a.createElement(t5,{file:c,loadedCommentsProvider:t,onCanvasExpired:I},e),m&&a.createElement(t1.d,null,eo?eI&&a.createElement(tv.vW,null):a.createElement(tx.aT,null)));return a.createElement(E.k,{name:"editor",alsoTrack:()=>({editorType:(0,ex.Bu)(u),productType:(0,P.Dc)(u),uiVersion:y.version,fileKey:c?.key||"",slideView:k?(0,tw.R9)():void 0}),trackImpressions:!1},a.createElement(M.wG,null,a.createElement(g.q5.Provider,{value:F},a.createElement(a.Fragment,null,!f&&eT,!f&&a.createElement(ts,{onWorkshopExpired:I}),L&&a.createElement(t4,{file:c})))))}function t5({children:e,file:t,loadedCommentsProvider:n,onCanvasExpired:r}){let i=(0,l.d4)(e=>e.userStateLoaded),o=(0,l.d4)(e=>e.mirror.appModel.isInitialized),s=(0,f.R)(e=>e.comments),{anchorPositions:c,boundingBoxPositions:d,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:m}=(0,L.Cn)(),p=(0,L.e_)(),g=(0,q.TA)();(0,tc.ox)({file:t,onCanvasExpired:r});let h=a.createElement(tI.R,null,a.createElement(tk.P,null,a.createElement(y.tH,{boundaryKey:"InAppPage",fallback:a.createElement(t0,null),hasCustomWASMBuild:Y.y4},a.createElement(tZ,null,e))));return(0,I.T8)(n?a.createElement(k.NX,{userId:g,file:t,orgId:t?.parentOrgId??null,activeId:s.activeThread?.id||null,anchorPositions:c,boundingBoxPositions:d,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:m,getPageIdsForNodes:p},h):h,eI.e0.EDITOR,null!=t?(0,P.oP)(t):{},null!=t&&i&&o)}function t4({file:e}){let t=(0,j.sZ)();return(0,l.d4)(e=>e.modalShown?.type===eH.M)||!t?null:a.createElement(e2,{org:t,fileKey:e?.key})}function t7(){return(0,R.co)(),null}let t8=(0,tN.n)(()=>{})},812235:(e,t,n)=>{n.d(t,{n:()=>tG});var a=n(411855),l=n(188507),r=n(786013),i=n(587670),o=n(966712),s=n(192437),c=n(392592),d=n(159938),u=n(332034),m=n(964881),p=n(632430),f=n(288536),g=n(369870),h=n(843495),_=n(441088),E=n(29680),y=n(737499),v=n(335682),b=n(830646);function w(e){let t=e.search(/</),n=e.search(/>/);return e.substring(t,n+1)}var N=n(698993),x=n(170960),k=n(100197),I=n(338400),T=n(569007),C=n(402609),S=n(720750),A=n(374626),P=n(939863),L=n(293017),O=n(931828),D=n(101505),M=n(226055),R=n(456104),F=n(696673),B=n(309798),K=n(833629),U=n(397065),z=n(740280),H=n(864114),V=n(756159),G=n(463546),W=n(455263);function Y(){let e=(0,M.GS)(),{isShowing:t,complete:n,show:r}=(0,R.e)({overlay:G.N5c,priority:U.N.SECONDARY_MODAL}),o=(0,l.wA)(),s=(0,E.aV)(),c=!!(0,B.f)("ui_kits_intro_tooltip"),d=!!(0,B.f)("seen_explore_ui_kits_blue_tooltip"),{hasAnyUiKit:u}=(0,F.I7)(),m=(0,A.md)(V.Cl),p=(0,K.jO)(),f=(0,W.t)(),g=v.q5()?.canEdit,h=(0,l.d4)(e=>e.leftPanel.activeTab===i.xae.LAYERS);return(a.useEffect(()=>{!g||!u||m||c||d||!p||s||f||!h||t||r()},[r,g,u,c,d,p,s,f,t,m,h]),a.useEffect(()=>{!h&&t&&n()},[h,t,n]),t)?a.createElement(z.X,{isShowing:t,title:(0,P.tx)("rcs.ui_kits.jump_start_your_designs_with_ui_kits"),description:(0,P.tx)("rcs.ui_kits.grab_pre_built_ui",{strongAssets:a.createElement("strong",{style:{display:"contents"}},(0,P.tx)("design_systems.assets_panel.assets"))}),primaryCta:{label:(0,P.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{o(L.FP({tab:i.xae.ASSETS})),n()},ctaTrackingDescriptor:D.c.PRESETS_TRY_IT},position:e?H.Q.UI3_EDITOR_TOP_LEFT:H.Q.EDITOR_TOP_LEFT,trackingContextName:"UI Kits Intro Tooltip",userFlagOnShow:"ui_kits_intro_tooltip",onClose:()=>{o(O.b({seen_explore_ui_kits_blue_tooltip:!0})),n()}}):null}var X=n(129318),j=n(895123),q=n(601538),Q=n(864089),J=n(799569),Z=n(135876),$=n(47506),ee=n(410424),et=n(672517),en=n(777078),ea=n(373119),el=n(106112),er=n(788256);let ei="starting_points_templates_modal--templateOption--qYXkm",eo="starting_points_templates_modal--templateOptionTitle--DmVPR",es="starting_points_templates_modal--verticalTemplateImage--kAzQz";var ec=n(630834);function ed({onClose:e}){let{insertTemplate:t}=(0,en.Fz)(),n=(0,l.wA)(),[r,s]=a.useState(!1),c=(0,ea.q)(),d=(0,l.d4)(e=>e.mirror.sceneGraph),u=c&&(0,er.Qf)(d),m=!!u&&0===u.childrenGuids.length;if(a.useEffect(()=>{c&&u&&!m&&e()},[c,u,m,e]),!(0,o.kc)().starting_points_modal)return null;let p=(0,o.Ay)().starting_points,f=a=>{s(!0);let l=null;switch(a){case"basics":l=p?.figma_basics_hub_file_id;break;case"desktop":l=p?.desktop_templates_hub_file_id;break;case"mobile":l=p?.mobile_templates_hub_file_id;break;case"website":l=p?.website_templates_hub_file_id}l&&n(ee.ts({hubFileId:l,callback:async n=>{await t({template:{template:n,type:el.n.HubFile},userTriggered:!1,editScopeType:i.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:i.hKj.RIGHT}),(0,$.YQ)({id:"starting_points_template_inserted"}),e(),s(!1)}}))},g=a.createElement(et.$z,{onClick:()=>f("basics"),trackingProperties:{trackingDescriptor:D.c.LEARN_THE_BASICS}},(0,P.tx)("starting_points.learn_the_basics"));return a.createElement(et.fu,{name:"Starting Points Modal"},a.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u"},a.createElement(Z.x,{isLoading:r,className:"starting_points_templates_modal--loadingSpinner--UOrjg"},()=>a.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModal--dUQte"},a.createElement("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL"},a.createElement("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ"},(0,P.t)("starting_points.what_do_you_want_to_make_today")),a.createElement("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo"},(0,P.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:g}))),a.createElement("div",{className:"starting_points_templates_modal--optionContainer--mYEsG"},a.createElement(et.$z,{className:ei,onClick:()=>f("website"),trackingProperties:{trackingDescriptor:D.c.WEBSITE_TEMPLATES}},a.createElement("div",{className:eo},(0,P.t)("starting_points.website")),a.createElement(Q.oW,{className:es,src:"https://static.figma.com/uploads/9b8475fdab7c1ed3cd1c0d16b957d65a80840b74",alt:"Website template"})),a.createElement(et.$z,{className:ei,onClick:()=>f("mobile"),trackingProperties:{trackingDescriptor:D.c.MOBILE_APP_TEMPLATES}},a.createElement("div",{className:eo},(0,P.t)("starting_points.mobile_app")),a.createElement(Q.oW,{className:es,src:"https://static.figma.com/uploads/b262e57bed515b9f0da45ae54fa43824d9704c14",alt:"Mobile app template"})),a.createElement(et.$z,{className:ei,onClick:()=>f("desktop"),trackingProperties:{trackingDescriptor:D.c.DESKTOP_APP_TEMPLATES}},a.createElement("div",{className:eo},(0,P.t)("starting_points.desktop_app")),a.createElement(Q.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:"https://static.figma.com/uploads/cb2f715253dacb4e7d3fb211ff2792fc28a38832",alt:"Desktop app template"}))),a.createElement("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX"},(0,P.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:g})),a.createElement(J.Jn,{className:"starting_points_templates_modal--closeButton--io-14",onClick:e,innerText:"close",svg:ec.default})))))}function eu(){let e=(0,l.wA)(),t=!(0,B.f)("not_gen_0"),n=(0,M.GS)(),r=(0,B.f)("dismissed_starting_points_templates_modal"),i=(0,A.md)(j.z),s=(0,o.Ay)().starting_points,{show:c,isShowing:d,complete:u}=(0,R.e)({overlay:G.EYw,priority:U.N.OVERRIDING_MODAL+1});return(a.useEffect(()=>{let e=!!(0,o.kc)().starting_points_modal,a=(0,X.QL)(q.E_.key)===q.E_.value;d||c({canShow:()=>e&&!!t&&!!n&&!r&&(i||a)&&!!s})},[d,c,t,n,i,r,s]),d)?a.createElement(ed,{onClose:()=>{e(O.b({dismissed_starting_points_templates_modal:!0})),u()}}):null}var em=n(707458),ep=n(256975),ef=n(251960),eg=n(683694),eh=n(723239),e_=n(582947),eE=n(598787),ey=n(340514),ev=n(844425),eb=n(699857),ew=n(433195);let eN=(0,e_.r1)(ew.WX),ex=(0,e_.r1)(ew.b6),ek=!1;function eI(){let e=(0,l.wA)(),t=(0,A.md)(eg.wg),n=(0,E.aV)(),r=(0,A.md)(eh.mp),i=(0,ep._I)(),o=(0,M.GS)(),s=(0,A.md)(ex),c=(0,A.md)(eN),{uniqueId:d,show:m,complete:p,isShowing:f}=(0,R.e)({overlay:G.kc4,priority:U.N.SECONDARY_MODAL},[c,s,r]),g=(0,eb.U)("modal"),h=a.useCallback(()=>{!n&&!ek&&t&&i&&(0!==(em.q.instance.getCurrentPage()?.childrenGuids.length||0)&&m({canShow:(e,t,n)=>!e&&!t&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n)}),ek=!0)},[m,i,t,n]);function _(){e(O.b({[ew.WX]:!0})),p()}a.useEffect(()=>{o||h()},[h,o]),(0,ef.E)(d,(0,ev.w)("design"),()=>{h()}),a.useEffect(()=>{"loaded"===c.status&&c.data&&p()},[c,p]),(0,ef.E)(d,"Enter Inspect Mode",()=>{f&&_()});let y=(0,M.GS)()?q.ON:u.e;return a.createElement(ey.rq,{isShowing:f,trackingContextName:ew.WX,onClose:_,targetKey:y,title:(0,P.tx)("dev_handoff.annotations_introduction_overlay.title"),media:a.createElement(eE.y,{src:"https://static.figma.com/uploads/5b9addc96424c11577a1ec91e1bbadcd786fe343",alt:(0,P.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,P.tx)("dev_handoff.annotations_introduction_overlay.description"),primaryCta:{label:(0,P.tx)("dev_handoff.annotations_introduction_overlay.primary_cta"),type:"button",onClick:function(){g("handoff")},ctaTrackingDescriptor:D.c.SHOW_ME}})}var eT=n(502665);let eC=(0,e_.r1)(ew.b6),eS=(0,e_.r1)(ew.WX),eA=!1,eP=!1;function eL(){let e=(0,l.wA)(),t=(0,E.aV)(),n=(0,A.md)(eh.mp),r=(0,A.md)(eT.N),o=(0,k.J2)(i.Ez5.annotationObserver().annotationInfoByTlf),s=A.md(v.yV)?.creatorId,c=(0,A.md)(eC),d=(0,A.md)(eS),{uniqueId:m,show:p,complete:f,isShowing:g}=(0,R.e)({overlay:G.kc4,priority:U.N.SECONDARY_MODAL},[c,d,n,r]),h=(0,eb.U)("modal"),_=o.size>0;function y(){e(O.b({[ew.b6]:!0})),f()}a.useEffect(()=>{t&&(eP=!0),!t&&!eA&&eP&&_&&(p({canShow:(e,t,n,a)=>!e&&!t&&s!==a&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n)}),eA=!0)},[_,t,s,p]),a.useEffect(()=>{"loaded"===c.status&&c.data&&f()},[c,f]),(0,ef.E)(m,"Enter Inspect Mode",()=>{g&&y()});let b=(0,M.GS)()?q.ON:u.e;return a.createElement(ey.rq,{isShowing:g,trackingContextName:ew.b6,onClose:y,targetKey:b,title:(0,P.tx)("dev_handoff.annotations_upsell_overlay.title"),media:a.createElement(eE.y,{src:"https://static.figma.com/uploads/e84a2faeb510847abd7bfb9c15a74ef974bb4c13",alt:(0,P.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,P.tx)("dev_handoff.annotations_upsell_overlay.description"),primaryCta:{label:(0,P.tx)("dev_handoff.annotations_upsell_overlay.primary_cta"),type:"button",onClick:function(){h("handoff")},ctaTrackingDescriptor:D.c.OPEN_DEV_MODE},secondaryCta:{label:(0,P.tx)("dev_handoff.annotations_upsell_overlay.secondary_cta"),type:"button",onClick:f,ctaTrackingDescriptor:D.c.NOT_NOW}})}var eO=n(152811),eD=n(363668),eM=n(511232),eR=n(344076),eF=n(54900),eB=n(199465);function eK({children:e}){return a.createElement(eB.G.Provider,{value:{loggerEventName:"design_navigate"}},e)}var eU=n(30115),ez=n(668196),eH=n(278139),eV=n(276432),eG=n(284321),eW=n(57392),eY=n(100303),eX=n(137345),ej=n(286723),eq=n(876743),eQ=n(3044),eJ=n(412371),eZ=n(624488),e$=n(367802),e0=n(168275),e1=n(237701),e2=n(187882);let e3=new Map,e5=a.memo(function(){let e=(0,e2.GQ)(),t=(0,A.md)(eW.Lc),n=(0,l.d4)(eG.ao),r=(0,v.q5)(),s=(0,l.d4)(e=>e.leftPanel),c=(0,e2.cT)(),{pagesList:d,pageToNumChangesMap:u,isComparingChanges:m}=function(){let e=(0,e2.n0)(),t=(0,l.d4)(e=>!!(0,o.kc)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===i.m1T.COMPARE_CHANGES),n=(0,l.d4)(e=>e.versionHistory.compareId);return a.useMemo(()=>{if(!t||!n)return{pagesList:e,pageToNumChangesMap:e3,isComparingChanges:t};let a=(0,ej.ee)(e);return{pagesList:e,pageToNumChangesMap:a,isComparingChanges:t}},[t,n,e])}(),p=(0,k.J2)(i.Ez5.uiState().showCanvasSearch),f=(0,M.GS)(),g=(0,eJ.g)({pagesList:d}),h=(0,E.aV)();(0,e2.bi)();let _=!!r&&n;return a.useEffect(()=>{_&&(0,$.YQ)({id:"Found Updates To Publish"})},[_]),a.createElement(eq.Q,{ignoreRulers:h},a.createElement(e$.s,null),a.createElement(eZ.$,null,f&&a.createElement(e1.n,null),f&&a.createElement(e0.d,null),p?a.createElement(eY.EA.Provider,{value:!0},a.createElement(eX.f,{showFilter:!0})):d.length>0&&a.createElement(eQ.yD,{recordingKey:"pagesPanel",isReadOnly:c,width:e,pagesList:d,hasTeamLibraryUpdates:t||_,activeTab:s.activeTab,showTabs:!c,isDevHandoff:!1,isDevHandoffOverview:!1,isComparingChanges:m,pageToNumChanges:u,onPageContextMenu:g})))});var e4=n(319008),e7=n(988889),e8=n(959369),e6=n(359919),e9=n(504440);function te(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("mask",{id:"fpl-icon-24-mail-a",fill:"#fff"},a.createElement("path",{fillRule:"evenodd",d:"M5.88 7h12.24a.88.88 0 0 1 .88.88v.82l-7 3.733L5 8.7v-.82A.88.88 0 0 1 5.88 7M4 8.99v7.13A1.88 1.88 0 0 0 5.88 18h12.24A1.88 1.88 0 0 0 20 16.12V7.88A1.88 1.88 0 0 0 18.12 6H5.88A1.88 1.88 0 0 0 4 7.88zm15 .843v6.287a.88.88 0 0 1-.88.88H5.88a.88.88 0 0 1-.88-.88V9.833l6.765 3.608.235.126.235-.126z",clipRule:"evenodd"})),a.createElement("path",{fill:"var(--color-icon)",d:"m19 8.7.47.882L20 9.3v-.6zm-7 3.733-.47.883.47.25.47-.25zM5 8.7H4v.6l.53.282zm-1 .31h1v-.02zm0-.02 1 .02v-.02zm16 .02-1-.02v.02zm0-.02h-1v.02zm-1 .843h1V8.167l-1.47.784zm-14 0 .47-.882L4 8.167v1.666zm6.765 3.608-.47.882zm.235.126-.47.882.47.251.47-.251zm.235-.126.471.882zM18.12 6H5.88v2h12.24zM20 7.88A1.88 1.88 0 0 0 18.12 6v2a.12.12 0 0 1-.12-.12zm0 .82v-.82h-2v.82zm-7.53 4.616 7-3.734-.94-1.764-7 3.733zM4.53 9.582l7 3.734.94-1.765-7-3.733zM4 7.88v.82h2v-.82zM5.88 6A1.88 1.88 0 0 0 4 7.88h2a.12.12 0 0 1-.12.12zM5 8.99v.02l-2-.04v.06zm-2 .02v7.11h2V9.01zm0 7.11A2.88 2.88 0 0 0 5.88 19v-2a.88.88 0 0 1-.88-.88zM5.88 19h12.24v-2H5.88zm12.24 0A2.88 2.88 0 0 0 21 16.12h-2a.88.88 0 0 1-.88.88zM21 16.12V9.01h-2v7.11zm-2-7.11v-.02l2 .04v-.06zm2-.02V7.88h-2v1.11zm0-1.11A2.88 2.88 0 0 0 18.12 5v2a.88.88 0 0 1 .88.88zM18.12 5H5.88v2h12.24zM5.88 5A2.88 2.88 0 0 0 3 7.88h2A.88.88 0 0 1 5.88 7zM3 7.88v1.11h2V7.88zm17 8.24V9.833h-2v6.287zM18.12 18A1.88 1.88 0 0 0 20 16.12h-2a.12.12 0 0 1 .12-.12zM5.88 18h12.24v-2H5.88zM4 16.12A1.88 1.88 0 0 0 5.88 18v-2a.12.12 0 0 1 .12.12zm0-6.287v6.287h2V9.833zm8.235 2.726L5.471 8.95l-.941 1.765 6.764 3.608zm.236.125-.236-.125-.94 1.765.235.125zm-.706-.125-.236.125.942 1.765.235-.126zm6.764-3.608-6.764 3.608.941 1.765 6.765-3.608z",mask:"url(#fpl-icon-24-mail-a)"}))}var tt=n(137035),tn=n(776250),ta=n(737947),tl=n(27087),tr=n(809840),ti=n(218997),to=n(15839),ts=n(233286);function tc(){let e=(0,R.e)({overlay:G.Dqt,priority:U.N.DEFAULT_MODAL});(0,ef.E)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,tn.sx)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,a.useCallback)(async()=>{(0,tn.sx)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await tl.Ay.post("/api/send_mobile_download_email"),e.complete()},[e]);return a.createElement(ti.h,{isShowing:e.isShowing,modalType:to.q3.FEATURE_UPDATE,closeButtonStyle:to.M_.ON_DARK,element:()=>a.createElement(td,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function td(e){return a.createElement("div",{className:"modal_comment_sidebar_announcement--container--5oh-p"},a.createElement("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V"},a.createElement("img",{alt:"Background",src:"https://static.figma.com/uploads/e19f2f58bc09414847ad59ff9228e07032e8842c",className:"modal_comment_sidebar_announcement--image--lyA61"}),a.createElement("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),a.createElement(ts.T,null)),a.createElement("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy"},a.createElement("div",{className:"modal_comment_sidebar_announcement--title--eiyLq"},a.createElement(tr.E,{fontSize:24,fontWeight:"semi-bold"},(0,P.t)("rcs.mobile_comment_announcement.title"))),a.createElement("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE"},a.createElement(tr.E,{fontSize:14},(0,P.t)("rcs.mobile_comment_announcement.description")))),a.createElement("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc"},a.createElement(e9.$n,{variant:"secondary",onClick:e.onEmailClick,iconPrefix:a.createElement(te,null)},(0,P.t)("rcs.mobile_comment_announcement.email_download_link")),a.createElement(e9.$n,{variant:"primary",onClick:()=>{(0,tn.sx)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),ta.Ay.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},iconPrefix:a.createElement(tt.b,null)},(0,P.t)("rcs.rcs_shared.learn_more"))))}var tu=n(415052),tm=n(656764),tp=n(229831),tf=n(52354),tg=n(304657),th=n(625693),t_=n(347240),tE=n(509734),ty=n(82963),tv=n(629019),tb=n.n(tv),tw=n(91408),tN=n(572206),tx=n(818),tk=n(506599),tI=n(617453),tT=n(848661),tC=n(555074),tS=n(457630),tA=n(433861),tP=n(279702),tL=n(593392),tO=n(837746);let tD="offscreen_indicators--indicatorGraphicBlue---nYr-",tM="offscreen_indicators--indicatorGraphicPurple--FAz-M",tR=(0,tw.jz)(tO.J4v),tF=(0,tw.jz)(tO.v5y),tB=(0,tw.jz)(tO.M$q),tK=(0,tw.jz)(tO.y9S);function tU(){let e=[],t=(0,tC.kl)("selectionRegions"),n=(0,tT.E7)(t);n&&(e=n);let r=(0,l.d4)(e=>e.mirror.appModel.hoveredNode);if(r&&(0,o.kc)().ce_offscreen_indicators_for_hovered_nodes){let t=em.q.instance.get(r);if(t){let n=t.absoluteBoundingBox;e=[...e,{bounds:{height:n.h,width:n.w,x:n.x,y:n.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isSymbolSublayer||t.isSymbolPublishable?tP.fV.SYMBOLS_ONLY:tP.fV.MIXED_OR_NO_SYMBOLS}]}}let i=!!e&&e.length>=1,s=(0,tS._X)({subscribeToUpdates_expensive:i});return s&&e?a.createElement(tz,{viewportInfo:s,regions:e}):null}function tz({viewportInfo:e,regions:t}){let n=(0,a.useContext)(tA.kw),r=(0,a.useMemo)(()=>n.getCommentsWrapperOffset(e),[n,e]),i=r.x,o=r.y,s={transform:`translate(${i}px, ${o}px)`},c=(0,M.GS)(),d=(0,tx.b)(),u=c&&!d,m=(0,l.d4)(e=>e.mirror?.appModel.showUi),p=(0,tI.dP)()+(u?tB:tR),f=(0,tI.qw)()+p+(u?tB:tF),g=(0,e2.Ye)(),{isPropertiesPanelCollapsed:h}=(0,tk.iT)(),_=(u&&m&&!g?p:0)-3.5,E=(u&&m&&!h?f:0)-7,y=(0,k.J2)((0,tI.UK)().renderRulers)&&m?tK:0,v={x:_+y,y:-3.5+y,width:e.width-E-y,height:e.height- -7-y},b={x:_+y,y:-3.5+y,width:e.width-E-y,height:e.height- -7-y};return a.createElement(a.Fragment,null,a.createElement(tL.p,null,a.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--pNOlw",style:s},!!t?.length&&a.createElement("div",null,t.map((t,n)=>{let l=(0,tS.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),r=(0,tS.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),i={x:l.x,y:l.y,width:r.x-l.x,height:r.y-l.y};return i.x<v.x+v.width&&i.x+i.width>v.x&&i.y+i.height>v.y&&i.y<v.y+v.height?null:a.createElement(tH,{key:n,viewportBounds:b,viewportInfo:e,indicatorViewportBounds:i,selectionBoundsScaledWidth:function(e,t){let n=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-n,10)}(i,b),selectionBoundsScaledHeight:function(e,t){let n=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-n,10)}(i,b),selectionRegionType:t.regionType})})))))}function tH({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:n,selectionBoundsScaledWidth:r,selectionBoundsScaledHeight:i,selectionRegionType:o}){let s=function(e,t){let n=0-t.x,a=0+e.width-t.x,l=0-t.y,r=0+e.height-t.y,i=Math.abs(n)<a?n:a,o=Math.abs(l)<r?l:r,s=n<0!=a<0,c=l<0!=r<0;return s&&c?Math.abs(i)<Math.abs(o)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+o}:!s&&c?{x:t.x+i,y:t.y}:s&&!c?{x:t.x,y:t.y+o}:{x:t.x+i,y:t.y+o}}(t,{x:n.x+n.width/2,y:n.y+n.height/2});s.x-=r/2,s.y-=i/2;let c=(0,l.d4)(e=>e.mirror?.appModel.showUi),d=(0,k.J2)((0,tI.UK)().renderRulers)&&c?tK:0,u=(0,M.GS)(),m=(0,tx.b)(),p=u&&!m,f=p?tB:tR,g=p?tB:tF,h=(0,tI.dP)()+f,_=(0,tI.qw)()+g,E=(0,e2.Ye)(),{isPropertiesPanelCollapsed:y}=(0,tk.iT)(),v=1+(c&&p&&!E?h+1:0)+d,b=Math.max(v,t.width-1-r-(c&&p&&!y?_+1:0)),w=1+d,N=Math.max(w,t.height-1-i-1),x=tN.Mi.bound(s,{min:{x:v,y:w},max:{x:b,y:N}}),I=n.y+n.height<e.y,T=n.y>e.y+e.height,C=n.x+n.width<e.x,S=n.x>e.x+e.width;x.x+=t.x,x.y+=t.y;let A=Math.min(t.width-2-(c&&p?_+h:0),r),P=Math.min(t.height-2,i);return a.createElement("div",{className:"offscreen_indicators--indicator---T9xk",style:{transform:`translate3D(${x.x}px, ${x.y}px, 0)`}},(I||T)&&a.createElement("div",{style:{position:"absolute",height:1.5,width:A,marginTop:T?P-1.5:0},className:tb()({[tD]:o===tP.fV.MIXED_OR_NO_SYMBOLS,[tM]:o===tP.fV.SYMBOLS_ONLY})}),(C||S)&&a.createElement("div",{style:{position:"absolute",left:0,height:P,width:1.5,marginLeft:S?A-1.5:0},className:tb()({[tD]:o===tP.fV.MIXED_OR_NO_SYMBOLS,[tM]:o===tP.fV.SYMBOLS_ONLY})}))}var tV=n(109176);let tG=a.memo(({shouldShowDragAndDropBorder:e})=>{let t=(0,E.p8)("isReadOnly"),n=(0,l.d4)(e=>e.progressBarState),u=(0,E.p8)("loadingEmbeds"),g=(0,k.ut)(i.Ez5?.uiState().showCanvasSearch,!1),h=(0,I.Lk)(),v=(0,a.useRef)(null),N=(0,l.d4)(e=>e.userFlags),C=!!(0,o.kc)().internal_only_debug_tools||!!N.has_cursor_bot_onboarding_v2,S=(0,l.d4)(e=>e.openFile),A=S?S.key:"",P=(0,l.d4)(e=>e.universalInsertModal),L=(0,l.wA)();(0,p.Gb)(A),(0,x.W)(),function(){let e=a.useRef(document.activeElement),t=(0,b.j)("Focus changed"),n=a.useCallback(()=>{let n=document.activeElement;n!==e.current&&(t({previousActiveElement:w(e.current?.outerHTML||""),newActiveElement:w(n?.outerHTML||"")}),e.current=n)},[t]);a.useEffect(()=>{if((0,o.kc)().eu_focus_logging)return document.addEventListener("focusin",n),()=>{document.removeEventListener("focusin",n)}},[n])}();let O=(0,y.BI)(),D=(0,m.l7)(),M=D?a.createElement(s.tH,{boundaryKey:"DevModeLeftPanel",fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.eBU.DEVELOPER_TOOLS}},a.createElement(d.O,null)):a.createElement(e5,null);return a.createElement(eK,null,a.createElement(f.ED,null),a.createElement(ez.sk,null,n.mode!==i.Oin.OFF&&a.createElement("div",{className:tV._q}),a.createElement(eO.pO,{initialFilterState:{currentPage:!1}},u.map(e=>a.createElement(eF._,{key:`loading-embed-${e}`,nodeId:e})),a.createElement(eH.qn,null),a.createElement(ty.u,null),g&&a.createElement(e6.n,null),(0,o.kc)().ce_al_experiments_on&&a.createElement(e6.n,null),a.createElement(eR.GR,null),a.createElement(eR.bu,null),a.createElement(tp.J,null),a.createElement(eH.XI,{commentsDetailContainerRef:v}),a.createElement(tU,null),(0,o.kc)().cursor_bot&&C&&a.createElement(e7.S,null),a.createElement(eV.X,null),a.createElement(eD.J,null),a.createElement(e4.Nz,null),a.createElement("div",{ref:v}),!(0,_.T)()&&M,!t&&a.createElement(tu.E,null),a.createElement(eM.G,null,D?null:a.createElement(a.Fragment,null,a.createElement(tW,null),!!O?.shouldOptimizeForIpadApp&&a.createElement(t_.K,null),!!O?.shouldOptimizeForIpadApp&&a.createElement(tE.t,null))),e&&a.createElement(e4.X5,null)),a.createElement(T.A,{isFigjamEditor:!1,isDesignEditor:!0,isSlidesEditor:!1,openFile:S}),a.createElement(tm.l,{defaultViewTabsAvailable:!0,defaultViewAssetsTabVisible:!0}),P.showing&&a.createElement(s.tH,{boundaryKey:"FdBrowseResourceModal",onError:()=>{L(c.F.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(tg.k,null))),h&&a.createElement(e8.K,{className:tV.PA},a.createElement(th.s,null)))}),tW=a.memo(function(){let e=(0,l.d4)(e=>e.mirror.appModel),t=(0,E.ax)(),{topLevelMode:n}=e,r=(0,E.dH)();return(0,N.z)({topLevelMode:i.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),a.useEffect(()=>{t&&n===i.lyf.PREVIEW&&r!==i.NLJ.COMMENTS&&(0,h.NT)(i.FAf.INSPECT)},[t,n,r]),a.createElement(a.Fragment,null,a.createElement(eU.E,null),a.createElement(tY,null))}),tY=a.memo(function(){let e=i.Ez5.uiState().isRecovery?.getCopy(),t=v.q5()?.canEdit,n=!(0,g.ck)()&&t&&(0,o.kc)().dt_dev_mode_discovery_rcs&&!e;return a.createElement(a.Fragment,null,a.createElement(C.p,null,a.createElement(S.L,null)),a.createElement(C.p,{featureFlag:"starting_points_modal"},a.createElement(eu,null)),a.createElement(C.p,null,a.createElement(tf.e,null)),a.createElement(C.p,null,n&&a.createElement(u.Q,null)),a.createElement(C.p,null,a.createElement(eI,null)),a.createElement(C.p,null,a.createElement(eL,null)),a.createElement(C.p,{featureFlag:"mobile_prompt_sidebar_modal"},a.createElement(tc,null)),a.createElement(C.p,null,a.createElement(Y,null)))})},30115:(e,t,n)=>{n.d(t,{E:()=>eK});var a=n(411855),l=n(188507),r=n(587670),i=n(374626),o=n(30637),s=n(192437),c=n(824189),d=n(987067),u=n(592096),m=n(818),p=n(506599),f=n(226055),g=n(617453),h=n(373119),_=n(396697),E=n(213190),y=n(843495),v=n(29680),b=n(336599),w=n(100197),N=n(428467),x=n(939562),k=n(7860),I=n(385648),T=n(297666),C=n(355819),S=n(470504),A=n(629019),P=n.n(A),L=n(776250),O=n(511617),D=n(966712),M=n(262896),R=n(401966),F=n(939863),B=n(335682),K=n(860178),U=n(243987),z=n(239671),H=n(267225);function V(){let e=(0,l.wA)(),t=(0,K.iZ)(),{isEditingFile:n,unsortedTeams:r}=(0,H.DF)(),i=(0,B.q5)(),o=(0,z.sL)(i?.editorType),s=a.createRef();return a.createElement(a.Fragment,null,a.createElement("button",{className:P()(S.cx.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$,S.cx.b1.colorBorder.bb0.br0.bl0.$,"first_level_resource_contact_support--contactSupportButton--Ioy3K"),onClick:()=>{if((0,L.sx)("help_widget_get_help",{isEditingFile:n,editorType:o,source:"in-product-help-panel-button"}),(0,D.sL)()){(0,O.FJ)("mailto:support-figgov@figma.com","_blank","noopener");return}let e=0===r.filter(U.w5).length;s.current?.open({ticketForms:e?M.Fb.FREE:M.Fb.PAID,locale:t?.locale})}},(0,F.t)("help_widget.menu.contact_support")),a.createElement(R.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null}))}var G=n(343887),W=n(139689),Y=n(716622);function X(){let{hideInProductHelpView:e}=(0,Y.A5)();return a.createElement("div",{className:S.cx.flex.flexRow.justifyBetween.itemsCenter.$},a.createElement("p",{className:S.cx.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,F.t)("in_product_help_and_learning.first_level_header.title")),a.createElement(G.K,{onClick:()=>{e()},"aria-label":(0,F.t)("general.close")},a.createElement(W.A,null)))}var j=n(32863);function q(){return a.createElement(j.IW,{focusOnMount:!0,hasTransparentBackground:!0,query:"",clearSearch:function(){throw Error("Function not implemented.")},onChange:function(){throw Error("Function not implemented.")},iconClassName:S.cx.colorIconSecondary.$,className:S.cx.h32.wFull.colorBgSecondary.bRadius8.$})}var Q=n(163023);function J({sectionName:e,sectionOptions:t}){return a.createElement("div",{className:S.cx.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},a.createElement("p",{className:S.cx.mb2.$},e),t)}var Z=n(696849);function $(){function e({resource:e}){return a.createElement("a",{href:e.href,target:"_blank",className:S.cx.flex.gap8.colorTextBrand.cursorPointer.$},a.createElement(Q.B,{svg:Z.A,width:"16px",className:S.cx.colorIconBrand.$}),e.label)}let t=[{label:(0,F.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,F.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,F.t)("help_widget.menu.release_notes"),href:"https://releases.figma.com/"},{label:(0,F.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,F.t)("help_widget.menu.submit_feedback"),href:"https://a.sprig.com/WVd3eUN5R3lxZ35zaWQ6OTllM2VkMDUtY2UxYS00NjUxLTg0YzItNTdjYTZmZGZkNjhj"},{label:(0,F.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"},{label:(0,F.t)("help_widget.menu.navigating_figmas_redesign"),href:"https://help.figma.com/hc/en-us/articles/23954856027159-Navigating-Figma-s-redesign"}].map(t=>a.createElement(e,{key:t.label,resource:t})),n=(0,F.t)("in_product_help_and_learning.more_help_resources.section_title");return a.createElement(J,{sectionName:n,sectionOptions:t})}var ee=n(646240),et=n(864089),en=n(278733),ea=(e=>(e[e.NEW_TO_FIGMA=0]="NEW_TO_FIGMA",e[e.EXPLORE_FEATURES=1]="EXPLORE_FEATURES",e[e.CREATE_COMPONENTS=2]="CREATE_COMPONENTS",e[e.DESIGN_FIRST_BUTTON=3]="DESIGN_FIRST_BUTTON",e[e.VIDEO_TUTORIALS=4]="VIDEO_TUTORIALS",e))(ea||{});function el(e){switch(e){case 0:return[{displayString:(0,F.t)("in_product_help_and_learning.article.get_started_with_layers"),articleId:26584819173271},{displayString:(0,F.t)("in_product_help_and_learning.article.explore_layer_types"),articleId:26620239826199},{displayString:(0,F.t)("in_product_help_and_learning.article.combine_layers"),articleId:26610806345623},{displayString:(0,F.t)("in_product_help_and_learning.article.create_and_edit_text"),articleId:360039956474},{displayString:(0,F.t)("in_product_help_and_learning.article.browse_and_apply_fonts"),articleId:360041308034},{displayString:(0,F.t)("in_product_help_and_learning.article.apply_paints_with_the_color_picker"),articleId:360041003774},{displayString:(0,F.t)("in_product_help_and_learning.article.add_images_and_videos_to_design_file"),articleId:360040028034},{displayString:(0,F.t)("in_product_help_and_learning.article.export_from_figma_design"),articleId:360040028114}];case 1:return[{displayString:(0,F.t)("in_product_help_and_learning.article.frames_in_figma_design"),articleId:360041539473},{displayString:(0,F.t)("in_product_help_and_learning.article.add_auto_layout_to_a_design"),articleId:5731482952599},{displayString:(0,F.t)("in_product_help_and_learning.article.explore_auto_layout_properties"),articleId:360040451373},{displayString:(0,F.t)("in_product_help_and_learning.article.create_color_text_effect_and_layout_grid_styles"),articleId:360038746534},{displayString:(0,F.t)("in_product_help_and_learning.article.create_interactions"),articleId:360040315773},{displayString:(0,F.t)("in_product_help_and_learning.article.prototype_triggers"),articleId:360040035834},{displayString:(0,F.t)("in_product_help_and_learning.article.prototype_actions"),articleId:360040035874},{displayString:(0,F.t)("in_product_help_and_learning.article.prototype_animations"),articleId:360040522373},{displayString:(0,F.t)("in_product_help_and_learning.article.parent_child_and_sibling_relationships"),articleId:360039959014}];case 2:return[{displayString:(0,F.t)("in_product_help_and_learning.article.create_components_to_resuse_in_designs"),articleId:360038663154},{displayString:(0,F.t)("in_product_help_and_learning.article.create_and_insert_component_instances"),articleId:360039150173},{displayString:(0,F.t)("in_product_help_and_learning.article.create_and_use_variants"),articleId:360056440594},{displayString:(0,F.t)("in_product_help_and_learning.article.create_interactive_components_with_variants"),articleId:360061175334},{displayString:(0,F.t)("in_product_help_and_learning.article.create_and_manage_component_properties"),articleId:8883756012823}];default:return[]}}function er({resource:e}){let t=(0,ee.Xr)(Y.J9),n=(0,ee.Xr)(Y.Zf);return a.createElement("button",{key:e.title,style:en.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px",overflow:"hidden"}).$,onClick:()=>{t(2),n(e)}},a.createElement(et.oW,{src:e.image,alt:"",style:en.sx.m0.add({width:"108px",height:"74px",borderRadius:"var(--radius-medium) 0 0 var(--radius-medium)"}).$}),a.createElement("div",{className:S.cx.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},a.createElement("p",{className:S.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),a.createElement("p",{className:S.cx.colorTextSecondary.$},e.description)))}function ei(){let e=[{resource:0,title:(0,F.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,F.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:"https://static.figma.com/uploads/a657c232671f190106d0943282bf1a970f036718"},{resource:1,title:(0,F.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,F.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:"https://static.figma.com/uploads/033919a9d852c5a37b60923805a0e11f625cd9b1"},{resource:2,title:(0,F.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,F.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:"https://static.figma.com/uploads/4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab"},{resource:3,title:(0,F.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,F.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:"https://static.figma.com/uploads/13d91474245b8e3949763a713a12805283cfe2a2"},{resource:4,title:(0,F.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,F.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:"https://static.figma.com/uploads/02377d4618e4b063422da13c18efd5debece9591"}];return a.createElement("div",{className:S.cx.flex.flexColumn.rowGap8.$},a.createElement("p",{className:S.cx.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,F.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>a.createElement(er,{key:e.title,resource:e})))}var eo=n(22774),es=n(662275),ec=n(356390),ed=n(69961),eu=n(312415);function em({option:e}){return a.createElement("button",{className:S.cx.flex.colorTextBrand.cursorPointer.$,onClick:e.onClick},e.label)}function ep(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.user),n=[{label:(0,F.t)("lab.ui3_disable"),onClick:()=>{ed.nt.ui3.toggleValue(t,e,"in_product_help_menu")}},{label:(0,F.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){ec.Y5.isReady()&&(e(eo.FU({tab:"layout"})),ec.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,F.t)("help_widget.menu.change_languages"),onClick:function(){e((0,es.to)({type:eu.kA,data:{source:eu.IO.HELP}}))}},{label:(0,F.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{ec.Y5.isReady()&&ec.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>a.createElement(em,{key:e.label,option:e})),r=(0,F.t)("in_product_help_and_learning.settings.section_title");return a.createElement(J,{sectionName:r,sectionOptions:n})}function ef({isFloatingModal:e}){return a.createElement("div",null,a.createElement("div",{className:S.cx.flex.flexColumn.gap16.p16.pb8.$},a.createElement(X,null),a.createElement(q,null)),a.createElement(C.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},a.createElement("div",{className:S.cx.flex.flexColumn.gap16.$},a.createElement(ei,null),a.createElement($,null),a.createElement(ep,null))),a.createElement(V,null))}var eg=n(572206),eh=n(746806);function e_({propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n}){let[l,r]=(0,a.useState)((0,Y.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),i=(0,a.useCallback)(()=>{r((0,Y.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,a.useEffect)(()=>{let e=(0,T.s)(()=>{i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,a.useEffect)(()=>{i()},[e,i,t]),a.createElement(eh.vx,{initialWidth:Y.yx,initialHeight:.8*window.innerHeight,initialPosition:new eg.Mi(l.x,l.y),maxHeight:.8*window.innerHeight},a.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},n))}var eE=n(755020);function ey(){let e=(0,i.md)(Y.J9),{hideInProductHelpView:t}=(0,Y.A5)(),n=(0,ee.Xr)(Y.J9);return a.createElement("div",{className:S.cx.flex.flexRow.justifyBetween.p16.$},a.createElement("div",{onClick:()=>{n(e-1)},"aria-label":(0,F.t)("general.back"),role:"button",tabIndex:0,className:S.cx.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},a.createElement(eE.C,null),(0,F.tx)("general.back")),a.createElement(G.K,{onClick:()=>{t()},"aria-label":(0,F.t)("general.close")},a.createElement(W.A,null)))}function ev(){let e=(0,i.md)(Y.Zf);if(!e)return null;let t=null;return t=e.resource===ea.DESIGN_FIRST_BUTTON?a.createElement("div",null," TBD! "):a.createElement(eb,{details:function(e){switch(e){case 0:return{description:(0,F.t)("in_product_help_and_learning.popular_resources.new_to_figma.details.description"),webm:"https://static.figma.com/uploads/6db4a35b80ddb5910781af9bc60c66bf902dff3a",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articles:el(0)};case 1:return{description:(0,F.t)("in_product_help_and_learning.popular_resources.explore_more_features.details.description"),webm:"https://static.figma.com/uploads/23c86354e978f77d1ca96b6cc52dfdc216f5a99d",mp4:"https://static.figma.com/uploads/fd204bb233c3be09b2e29f8621d93342c24b07af",articles:el(1)};case 2:return{description:(0,F.t)("in_product_help_and_learning.popular_resources.create_components.details.description"),webm:"https://static.figma.com/uploads/0f0aad5b442ba063078c23b06010aab77ecf0c07",mp4:"https://static.figma.com/uploads/34285a0d04fb97f14cc2611ddc825950aec93300",articles:el(2)};case 4:return{description:(0,F.t)("in_product_help_and_learning.popular_resources.video_tutorials.details.description"),webm:"https://static.figma.com/uploads/ae096bb87fa381ce351df677153beba9abba9823",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articles:el(4)}}}(e.resource)}),a.createElement("div",null,a.createElement(ey,null),a.createElement("div",{className:S.cx.flex.flexColumn.p16.pt8.pb0.$},a.createElement("p",{className:S.cx.font16.colorText.fpl__textHeadingLargeFontWeight.pb8.$},e.title),t))}function eb({details:e}){let t=(0,K.Pc)().locale,n=(0,ee.Xr)(Y.J9),l=(0,ee.Xr)(Y.QU),r=async e=>{await (0,Y.nW)({locale:(0,Y.FI)(t),articleId:e}).then(e=>{n(3),l(e)}).catch(t=>{(0,O.FJ)(`https://help.figma.com/hc/en-us/articles/${e}`,"_blank","noopener")})};return a.createElement(a.Fragment,null,a.createElement("p",null,e.description),a.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:S.cx.wFull.hAuto.borderBox.pt16.$},a.createElement("source",{type:"video/webm",src:e.webm}),a.createElement("source",{type:"video/mp4",src:e.mp4})),a.createElement("div",{className:S.cx.flex.flexColumn.gap16.pt24.$},e.articles.map(e=>a.createElement("button",{key:e.displayString,className:S.cx.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$,onClick:()=>r(e.articleId)},e.displayString))))}var ew=n(346124),eN=n(448169),ex=n(259927),ek=n(544403),eI=n(96225);function eT({view:e}){let{inProductHelpViewType:t}=(0,Y.A5)(),n=(0,w.J2)(r.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:a.createElement(eN.V,null,a.createElement(eI.X,null,a.createElement(ek.lY,{className:P()("dynamic_panel--sidePanelPosition--YOgLo",ex.Dm),size:n,onResize:e=>{!function(e){let t=(0,ew.clamp)(e,Y.Jm,Y.tL);r.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},a.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${n}px`},"data-testid":"in-product-help-side-panel"},e))))}var eC=n(296210),eS=n.n(eC);let eA="third_level_resources--helpCenterArticle--Fnl-a";function eP(){let e=(0,i.md)(Y.QU);return((0,a.useEffect)(()=>{Array.from(document.querySelectorAll(`.${eA} a`)).forEach(e=>{e.target="_blank"})},[e]),e)?a.createElement("div",null,a.createElement(ey,null),a.createElement("h1",{className:S.cx.lh24.fontSemiBold.font16.fontInter.pt0.px16.pb12.$},e.name),a.createElement("div",{className:P()(S.cx.p16.pt8.$,eA),dangerouslySetInnerHTML:{__html:eS().sanitize(e.body)}})):null}function eL({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let n;let{inProductHelpViewType:l,updateInProductHelpViewOnWindowWidthResize:r}=(0,Y.A5)(),o=(0,i.md)(Y.J9);return(1===o?n=a.createElement(ef,{isFloatingModal:"floating_modal"===l}):2===o?n=a.createElement(ev,null):3===o&&(n=a.createElement(eP,null)),a.useEffect(()=>{let e=(0,T.s)(()=>{"hidden"!==l&&r()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[l,t,e,r]),"side_panel"===l)?a.createElement(eT,{view:n}):"floating_modal"===l?a.createElement(e_,{propertiesPanelWidth:e,isInsetEditorEnabled:t,view:n}):null}var eO=n(893606),eD=n(546962),eM=n(282263),eR=n(427072),eF=n(872429),eB=n(144119);let eK=a.memo(function(){let e=(0,l.wA)(),t=(0,l.d4)(e=>(0,N.getPermissionsState)(e)),n=(0,v.aV)(),f=(0,h.q)(),I=(0,l.d4)(e=>e.loadingState),T=(0,l.d4)(e=>e.mirror.appModel),C=(0,i.md)(x.wm),S=(0,l.d4)(e=>e.mirror.sceneGraphSelection),A=(0,l.d4)(e=>e.mirror.selectionPaints),P=(0,l.d4)(e=>e.mirror.selectionProperties),L=(0,l.d4)(e=>e.mirror.selectedStyleProperties),O=(0,l.d4)(e=>e.currentUserOrgId),D=(0,l.d4)(e=>e.dropdownShown),M=(0,l.d4)(e=>e.fonts),R=(0,l.d4)(e=>e.fileVersion),F=(0,l.d4)(e=>e.installedPluginVersions),B=(0,l.d4)(e=>e.library),K=(0,l.d4)(e=>e.localPlugins),U=(0,l.d4)(e=>e.modalShown),z=(0,l.d4)(e=>e.multiplayer),H=(0,l.d4)(e=>e.openFile),V=(0,l.d4)(e=>e.pickerShown),G=(0,l.d4)(e=>e.pickerInStyleCreationShown),W=(0,l.d4)(e=>e.publishedPlugins),X=(0,l.d4)(e=>e.saveAsState),j=(0,l.d4)(e=>e.selectedView),q=(0,l.d4)(e=>e.voice.showWidget),Q=(0,l.d4)(e=>e.stylePickerListLayout),J=(0,l.d4)(e=>e.stylePickerShown),Z=(0,l.d4)(e=>e.stylePreviewShown),$=(0,l.d4)(e=>e.styleSets),ee=(0,l.d4)(e=>e.usedKeyboardShortcuts),et=(0,l.d4)(e=>e.user),en=(0,l.d4)(e=>e.userFlags),ea=(0,l.d4)(e=>e.userStateLoaded),el=(0,l.d4)(e=>e.repos),er=(0,l.d4)(e=>e.folders),ei=(0,l.d4)(e=>e.teams),eo=(0,l.d4)(e=>e.orgById),es=(0,l.d4)(e=>e.orgDraftsOwners),ec=(0,l.d4)(e=>e.orgUsersByOrgId),ed=(0,l.d4)(e=>e.userEduGracePeriods),eu=(0,l.d4)(e=>e.licenseGroups),{topLevelMode:em}=T,ep=n?_.R.topLevelMode:em,ef=(0,w.ut)(r.Ez5?.uiState().isRecovery,!1),eg=(0,eO.R)(),eh=(0,w.ut)(r.Ez5?.slidesToolMode(),r.EMA.SLIDES),e_=(0,w.ut)(r.Ez5?.cooperToolMode(),r.iN$.COOPER),eE=(0,eB.sO)(),ey=(0,eF.cJ)(),ev=(0,c.g)(),eb=(0,d.HQ)(),ew=(0,eR.SU)(),eN=(ep===r.lyf.LAYOUT||ep===r.lyf.BRANCHING||ef||!!et&&ep===r.lyf.PREVIEW||eg&&ep===r.lyf.HISTORY)&&!eb&&!ew,ex=(0,b.VP)(I,"edit_button_upgrading_to_edit"),ek=n||ex,eI=(0,w.ut)((0,y.aY)(),r.FAf.DESIGN),eT=(0,w.J2)(r.Ez5.propertiesPanelState().shownPropertiesPanels),eC=(0,w.J2)(r.Ez5.propertiesPanelState().strokePanelMode),eS=(0,w.J2)(r.Ez5.propertiesPanelState().strokePanelTerminalPointCount),eA=(0,w.J2)((0,g.UK)().expandedFramePresetType),eP=(0,g.Ku)(),eK=(0,g.qw)(),ez=(0,m.b)(),eH=(0,w.J2)(r.Ez5.uiState().showPropertiesPanel);(0,p.tt)();let eV=!(0,u.Oo)()&&eg&&eH,eG=(0,w.J2)((0,g.UK)().renderRulers),{isRightPanelCollapsed:eW}=(0,a.useContext)(k.t),{inProductHelpViewType:eY}=(0,Y.A5)(),eX=(0,w.J2)(r.Ez5.uiState().inProductHelpSidePanelWidth),ej=(0,E.Tn)(),eq=(0,E.qM)(),eQ=(0,a.useMemo)(()=>ey?eI===r.FAf.DESIGN||eI===r.FAf.SITE?r.FAf.SITE:eI:eE?eI===r.FAf.DESIGN||eI===r.FAf.SLIDE?eh===r.EMA.SLIDES?r.FAf.SLIDE:r.FAf.DESIGN:eI:ev&&(eI===r.FAf.DESIGN||eI===r.FAf.COOPER)?e_===r.iN$.COOPER?r.FAf.COOPER:r.FAf.DESIGN:eI,[ey,eE,ev,eI,eh,e_]);return(0,a.useEffect)(()=>{eQ!==eI&&y.aY()?.set(eQ)},[eQ,eI]),a.createElement(s.tH,{boundaryKey:"PropertiesPanel",fallback:s.H4.NONE_I_KNOW_WHAT_IM_DOING},eN&&f&&a.createElement(a.Fragment,null,a.createElement(eD.Q,{recordingKey:"propertiesPanel",isCollapsed:eW,propertiesPanelTab:eQ,strokePanelMode:eC,strokePanelTerminalPointCount:eS,commentsPanel:eU,dispatch:e,isLoading:ek,shouldAnimateLoadingState:n,shouldShowBackgroundGradient:eV,shownPanels:eT,rulersVisible:eG,isInsetEditorEnabled:ez,expandedFramePresetType:eA,colorFormat:eP,propertiesPanelSplitPosition:eK,permissionsState:t,key:(0,o.tw)()??void 0,appModel:T,sceneGraph:C,sceneGraphSelection:S,selectionPaints:A,selectionProperties:P,selectedStyleProperties:L,currentUserOrgId:O,dropdownShown:D,fonts:M,fileVersion:R,allSavedPlugins:F,library:B,localPlugins:K,modalShown:U,multiplayer:z,openFile:H,pickerShown:V,pickerInStyleCreationShown:G,publishedPlugins:W,saveAsState:X,selectedView:j,stylePickerListLayout:Q,stylePickerShown:J,stylePreviewShown:Z,styleSets:$,usedKeyboardShortcuts:ee,user:et,userFlags:en,userStateLoaded:ea,repos:el,folders:er,teams:ei,orgById:eo,orgDraftsOwners:es,orgUsersByOrgId:ec,userEduGracePeriods:ed,licenseGroups:eu,isUI3:eg,showVoiceWidget:q,hasMergedDimensionsAndAutolayout:eg,inProductHelpViewType:eY,inProductHelpSidePanelWidth:eX,justChangedMinimizeUIValue:ej,isUIMinimized:eq}),"hidden"!==eY&&a.createElement(eL,{propertiesPanelWidth:eK,isInsetEditorEnabled:ez}),a.createElement(eM.tZ,null)))}),eU=a.memo(function(){let e=(0,w.ut)((0,y.aY)(),r.FAf.DESIGN),t=(0,l.d4)(e=>e.mirror.appModel.topLevelMode),n=!(0,f.GS)()&&(t!==r.lyf.PREVIEW&&e!==r.FAf.COMMENT||t===r.lyf.PREVIEW);return a.createElement(I.B,{stackHeader:n,hideResolve:!1})})},535826:(e,t,n)=>{n.d(t,{m:()=>nQ});var a=n(411855),l=n(188507),r=n(786013),i=n(587670),o=n(192437),s=n(392592),c=n(346124),d=n(794272),u=n(163023),m=n(939863),p=n(308977),f=n(393812),g=n(239349),h=n(92597),_=n(617453),E=n(843495),y=n(100197),v=n(980150),b=n(564092);let w="dev_handoff_canvas_pill--dimension--WEwpp",N="dev_handoff_canvas_pill--size--9ZpSZ";var x=n(419902);function k(e){return e===i.mKm.HUG_CONTENT?"Auto":e===i.mKm.FILL_CONTAINER?"100%":"Fixed"}function I(e){let t=(0,g.mJ)(e);if(!t)return null;let n="INSTANCE"===t.type||"SYMBOL"===t.type||t.isStateGroup||t.isInstanceSublayer||t.isSymbolSublayer,a=!0;return"TEXT"===t.type&&(t.autoRename||t.characters.substring(0,10)===t.name.substring(0,10))&&(a=!1),{guid:t.guid,name:t.name,showName:a,type:t.type,isFigmaPurple:n,boundingBox:t.absoluteBoundingBox,hasEnabledStaticImagePaint:t.hasEnabledStaticImagePaint,isState:t.isState,isStateGroup:t.isStateGroup,isUIElement:(0,f.$F)(t)&&!t.isStateGroup,stackCounterAlignItems:t.stackCounterAlignItems,stackMode:t.stackMode,isGroup:t.isGroup,canHaveStatus:t.canHaveStatus,hasStatus:t.hasStatus,horizontalSizeMode:k(i.Qa7.stackHorizontalSize(t.guid)),verticalSizeMode:k(i.Qa7.stackVerticalSize(t.guid)),size:t.size,objectsPanelThumbnailId:t.objectsPanelThumbnailId}}function T(e){let t=(0,c.lerp)(0,2,(e-.1)*5);return(0,c.clamp)(t,0,2)}function C(e){let t=I(e.guid),n=(0,y.J2)((0,_.UK)().showGuids),l=(0,g.uQ)(),r=a.useRef(null),i=a.useCallback(e=>-T(e),[]),o=t&&(t.hasStatus||t.canHaveStatus&&t.guid===l)?e=>e-20:void 0;return t&&"SECTION"!==t.type?a.createElement(v.M,{ref:r,node:t,key:e.guid,offsetX:-2,offsetY:i,largeBorderRadius:!0,maxWidth:o,dataTestId:"devHandoffLayerNamePill"},a.createElement("div",{className:"dev_handoff_canvas_pill--layerName--eX5Zu"},a.createElement(v.T,{node:t}),t.showName&&a.createElement("span",{className:"dev_handoff_canvas_pill--pillText--7B3-h ellipsis--ellipsis--Tjyfa"},t.name,n&&` (${e.guid})`))):null}let S=e=>e.toLocaleString("en",{maximumFractionDigits:5,useGrouping:!1});function A(e,t=0){let n=(0,p.v4)(),a=(0,h.qM)(n,t,S),{variable:l,variableDisplayName:r,isSuggested:i}=(0,b.xp)(e,t);return l?{value:r,isSuggested:i}:{value:a}}function P(e){let t=I(e.guid),{value:n,isSuggested:l}=A("WIDTH",t?.size.x??0),{value:r,isSuggested:i}=A("HEIGHT",t?.size.y??0),o=a.useCallback(e=>T(e),[]);return t&&t.isUIElement?a.createElement(v.M,{node:t,key:e.guid,dataTestId:"devHandoffSizePill",centered:!0,bottom:!0,offsetY:o,largeBorderRadius:!0},a.createElement("div",{className:"dev_handoff_canvas_pill--sizeInfo--pKiuc text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement("span",{className:w},(0,m.tx)("fullscreen.properties_panel.transform_panel.w")),a.createElement("span",null,t.horizontalSizeMode),a.createElement("span",{className:N,"data-testid":"canvasPillWidth"},n),a.createElement("span",null,l&&a.createElement(u.B,{svg:x.A})),a.createElement("span",{className:w},(0,m.tx)("fullscreen.properties_panel.transform_panel.h")),a.createElement("span",null,t.verticalSizeMode),a.createElement("span",{className:N,"data-testid":"canvasPillHeight"},r),a.createElement("span",null,i&&a.createElement(u.B,{svg:x.A})))):null}function L(){let{hoveredNode:e,selection:t}=(0,d.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection)[0],n=e.mirror.appModel.hoveredNode;return{hoveredNode:n===E.Hr?null:n,selection:t===E.Hr?null:t}}),[n,l]=a.useState(!1),r=a.useCallback(e=>{e.altKey!==n&&l(e.altKey)},[n]);return(a.useEffect(()=>(document.addEventListener("pointermove",r),document.addEventListener("keyup",r),document.addEventListener("keydown",r),()=>{document.removeEventListener("pointermove",r),document.removeEventListener("keyup",r),document.removeEventListener("keydown",r)})),n)?null:a.createElement(a.Fragment,null,t&&e===t&&a.createElement(P,{guid:t}),e&&a.createElement(C,{guid:e}))}var O=n(159938),D=n(256975),M=n(964881),R=n(632430),F=n(288536),B=n(441088),K=n(29680),U=n(170960),z=n(338400),H=n(569007),V=n(593392),G=n(109388),W=n(752795),Y=n(939683),X=n(374626),j=n(153234),q=n(975350),Q=n(949632),J=n(779709),Z=n(630331),$=n(497306),ee=n(457630),et=n(601607),en=n(319882),ea=n(343887),el=n(844519),er=n(882316),ei=n(86625),eo=n(707458),es=n(629019),ec=n.n(es),ed=n(663668),eu=n(966712),em=n(646240),ep=n(860601),ef=n(812115),eg=n(522739),eh=n(966981),e_=n(259927),eE=n(798099),ey=n(356390),ev=n(498606),eb=n(100303),ew=n(233890),eN=n(834617),ex=n(611001),ek=n(852542),eI=n(952359),eT=n(59815),eC=n(662696),eS=n(77669),eA=n.n(eS),eP=n(54822),eL=n(125734),eO=n(798898),eD=n(291589),eM=n(244379),eR=n(133737),eF=n(75395),eB=n(979232),eK=n(257176),eU=n(528851);function ez(e){let t=e.anchor,n=e.focus,a=e.anchor.getNode(),l=e.focus.getNode();return a===l?a:e.isBackward()?(0,eU.$isAtNodeEnd)(n)?a:l:(0,eU.$isAtNodeEnd)(t)?a:l}function eH(e){var t=e;return/^mailto:/.test(t)||(/^[^\s@\/]+@[^\s@\/]+\.[^\s@\/]+$/.test(t)?t=`mailto:${t}`:/^https?:\/{2}/.test(t)||(t=`http://${t}`)),t}function eV(e,t,n){let a=n.parentElement;if(null===e||!a){t.style.opacity="0",t.style.transform="translate(-10000px, -10000px)";return}let l=t.getBoundingClientRect(),r=n.getBoundingClientRect(),i=a.getBoundingClientRect(),o=e.top-10,s=e.left-5;o<i.top&&(o+=l.height+e.height+20),s+l.width>i.right&&(s=i.right-l.width-5),o-=r.top,s-=r.left,t.style.opacity="1",t.style.transform=`translate(${s}px, ${o}px)`}function eG({anchorElem:e=document.body,isLinkEditMode:t,setIsLinkEditMode:n}){let[l]=(0,eB.useLexicalComposerContext)();return function(e,t,n,l){let[r,i]=(0,a.useState)(e),[o,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{function t(){let e=(0,eR.$getSelection)();if((0,eR.$isRangeSelection)(e)){let t=ez(e),n=(0,eK.$findMatchingParent)(t,eN.$isLinkNode),a=(0,eK.$findMatchingParent)(t,eN.$isAutoLinkNode);if(!(n||a)){s(!1);return}e.getNodes().filter(e=>!(0,eR.$isLineBreakNode)(e)).find(e=>{let t=(0,eK.$findMatchingParent)(e,eN.$isLinkNode),l=(0,eK.$findMatchingParent)(e,eN.$isAutoLinkNode);return n&&!n.is(t)||t&&!t.is(n)||a&&!a.is(l)||l&&(!l.is(a)||l.getIsUnlinked())})?s(!1):s(!0)}}return(0,eK.mergeRegister)(e.registerUpdateListener(({editorState:e})=>{e.read(()=>{t()})}),e.registerCommand(eR.SELECTION_CHANGE_COMMAND,(e,n)=>(t(),i(n),!1),eR.COMMAND_PRIORITY_CRITICAL),e.registerCommand(eR.CLICK_COMMAND,e=>{let t=(0,eR.$getSelection)();if((0,eR.$isRangeSelection)(t)){let n=ez(t),a=(0,eK.$findMatchingParent)(n,eN.$isLinkNode);if((0,eN.$isLinkNode)(a)&&(e.metaKey||e.ctrlKey))return window.open(a.getURL(),"_blank"),!0}return!1},eR.COMMAND_PRIORITY_LOW))},[e]),(0,G.createPortal)(a.createElement(eW,{editor:r,isLink:o,anchorElem:t,setIsLink:s,isLinkEditMode:n,setIsLinkEditMode:l}),t)}(l,e,t,n)}function eW({editor:e,isLink:t,setIsLink:n,anchorElem:l,isLinkEditMode:r,setIsLinkEditMode:i}){let o=(0,a.useRef)(null),s=(0,a.useRef)(null),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("https://"),[p,f]=(0,a.useState)(null),g=(0,a.useCallback)(()=>{let t=(0,eR.$getSelection)();if((0,eR.$isRangeSelection)(t)){let e=ez(t),n=(0,eK.$findMatchingParent)(e,eN.$isLinkNode);n?d(n.getURL()):(0,eN.$isLinkNode)(e)?d(e.getURL()):d(""),r&&m(c)}let n=o.current,a=window.getSelection(),s=document.activeElement;if(null===n)return;let u=e.getRootElement();if(null!==t&&null!==a&&null!==u&&u.contains(a.anchorNode)&&e.isEditable()){let e=a.focusNode?.parentElement?.getBoundingClientRect();e&&(e.y+=20,eV(e,n,l)),f(t)}else s&&s.className.includes("linkInput")||(null!==u&&eV(null,n,l),f(null),i(!1),d(""));return!0},[l,e,i,r,c]);(0,a.useEffect)(()=>(0,eK.mergeRegister)(e.registerUpdateListener(({editorState:e})=>{e.read(()=>{g()})}),e.registerCommand(eR.SELECTION_CHANGE_COMMAND,()=>(g(),!0),eR.COMMAND_PRIORITY_LOW),e.registerCommand(eR.KEY_MODIFIER_COMMAND,e=>!!e.metaKey&&"k"===e.key&&(n(!0),i(!0),!0),eR.COMMAND_PRIORITY_HIGH),e.registerCommand(eR.KEY_ESCAPE_COMMAND,()=>!!t&&(n(!1),!0),eR.COMMAND_PRIORITY_HIGH)),[e,g,n,t,i]),(0,a.useEffect)(()=>{e.getEditorState().read(()=>{g()})},[e,g]),(0,a.useEffect)(()=>{r&&s.current&&s.current.focus()},[r,t]);let h=e=>{"Enter"===e.key?(e.preventDefault(),_()):"Escape"===e.key&&(e.preventDefault(),i(!1))},_=()=>{if(null!==p){let t=eH(u);""!==t&&(e.dispatchCommand(eN.TOGGLE_LINK_COMMAND,t),m("https://"),i(!1))}};return t?a.createElement("div",{ref:o,className:"floating_link_editor_plugin--linkEditor--5R6gJ"},r?a.createElement(a.Fragment,null,a.createElement("input",{ref:s,className:"floating_link_editor_plugin--linkInput--dh-ah",value:u,onChange:e=>{m(e.target.value)},onKeyDown:e=>{h(e)}}),a.createElement(eF.E,{className:"floating_link_editor_plugin--saveButton--seMQP",onClick:()=>{_()}},"Save")):a.createElement("div",{className:"floating_link_editor_plugin--linkView--s9v0u"},a.createElement("a",{href:eH(c),target:"_blank",rel:"noopener noreferrer"},c),a.createElement(eF.E,{className:"floating_link_editor_plugin--editButton--SWzhy",onClick:()=>{m(c),i(!0)}},"Edit"))):a.createElement(a.Fragment,null)}function eY({defaultValue:e}){let t={namespace:"annotation-lexical-editor",onError(e){console.error(e)},theme:{link:"annotation_lexical_editor--link--p4qzL",list:{listitem:"annotation_lexical_editor--listItem--7pRsS",ol:"annotation_lexical_editor--listOl--3PC6m",ul:"annotation_lexical_editor--listUl--bScae"},text:{bold:"annotation_lexical_editor--textBold--TPFH7",italic:"annotation_lexical_editor--textItalic--EyWoo",strikethrough:"annotation_lexical_editor--textStrikethrough--BPwhx"}},nodes:[eR.TextNode,ex.ListNode,ex.ListItemNode,eN.LinkNode],editorState:e||'{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}'},[n,l]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null);return a.createElement(eT.LexicalComposer,{initialConfig:t},a.createElement("div",{ref:e=>{null!==e&&i(e)}},a.createElement(eM.RichTextPlugin,{contentEditable:a.createElement(eC.ContentEditable,{className:"annotation_lexical_editor--contentEditable--NLeAt"}),placeholder:a.createElement("div",{className:"annotation_lexical_editor--placeholder--1Fj3R"},(0,m.t)("dev_handoff.annotations.add_annotation")),ErrorBoundary:eA()})),a.createElement(eP.HistoryPlugin,null),a.createElement(eD.MarkdownShortcutPlugin,{transformers:[ek.UNORDERED_LIST,ek.ORDERED_LIST,ek.BOLD_ITALIC_STAR,ek.BOLD_ITALIC_UNDERSCORE,ek.BOLD_STAR,ek.BOLD_UNDERSCORE,ek.STRIKETHROUGH,ek.ITALIC_STAR,ek.ITALIC_UNDERSCORE]}),a.createElement(eO.ListPlugin,null),a.createElement(eI.AutoFocusPlugin,null),a.createElement(eL.LinkPlugin,null),r?a.createElement(eG,{anchorElem:r,isLinkEditMode:n,setIsLinkEditMode:l}):a.createElement(a.Fragment,null))}var eX=n(869156),ej=n(788612),eq=n(712685);let eQ="annotation--annotationContainer--k4xiM",eJ="annotation--wrapperEditing--C2Zlx",eZ="annotation--createAnnotation--tWKSM annotation--_annotationBase--MPByC",e$="annotation--contentContainer--vSuqs",e0="annotation--properties--1p6UF",e1="annotation--noValue--HHQOU",e2="annotation--propertyOptionIconSvg--LypST",e3="annotation--icon--w1enR",e5="annotation--chit--3je6E",e4="annotation--solidPaint--ClR6h",e7="annotation--solidPaintValue--9PQMf annotation--_ellipsis--8F1VE",e8="annotation--variablePill--VNxoI";function e6({valueProps:e,isHovered:t,variableContainerClassName:n}){if("mixed"===e.format){let l=e.value.some(e=>!!e.variable);return a.createElement("div",{className:ec()("annotation--multipleVariableWrapper--OW3M1",l&&"annotation--vertical--zmpVv")},e.value.map((r,i)=>a.createElement("div",{key:i,className:"annotation--multipleVariableValue--5-5xk"},a.createElement(e6,{valueProps:r,isHovered:t,variableContainerClassName:n}),i<e.value.length-1&&!l&&a.createElement("span",null,", "))))}let l=`${(0,ej.m3)(e)}`;return e.variable?a.createElement(eq.w,{dataTestId:"styledValueVariable",containerClassName:ec()(e8,n),text:e.variable,disableHover:!0,isHovered:t,isInferred:e.isSuggestedVariable,tooltip:e.isSuggestedVariable?(0,m.t)("dev_handoff.variables.inferred_value",{value:l}):l}):a.createElement(a.Fragment,null,l)}var e9=n(221537);function te({svg:e}){return a.createElement(u.B,{svg:e,className:ec()(e3,e2)})}var tt=n(258890),tn=n(996620),ta=n(957069);function tl({node:e,variable:t,isPreview:n=!1}){return t?n?a.createElement(a.Fragment,null,t.name):a.createElement(eq.w,{containerClassName:e8,text:t.name,disableHover:!0}):(0,e9.rO)(e.stackPrimaryAlignItems)?(0,m.tx)("dev_handoff.annotations.auto"):a.createElement(a.Fragment,null,(0,ej.nd)(e.stackSpacing,"px"))}function tr({node:e,isPreview:t=!1}){let n=(0,eX.u)(e.boundVariables?.itemSpacing?.id);return a.createElement("div",{className:n?void 0:"annotation--spacingProperty--RCjSM annotation--coloredProperty--OTQ6l"},a.createElement("span",null,a.createElement(tl,{node:e,variable:n,isPreview:t})))}function ti({rawValues:e,variables:t,isPreview:n=!1}){if(e.length!==t.length)throw Error("<ManySidedProperty /> must have the same number of rawValues and variables");let l=t.map((t,n)=>({value:e[n],format:"pixels",variable:t?.name})),r=l[0]?.variable;for(let e of l)if(e.variable!==r){if(n)return(0,m.tx)("fullscreen.mixed");return a.createElement(e6,{variableContainerClassName:e8,valueProps:{format:"mixed",value:l}})}return r?n?a.createElement(a.Fragment,null,r):a.createElement(e6,{variableContainerClassName:e8,valueProps:l[0]}):e.some(t=>t!==e[0])?n?(0,m.tx)("fullscreen.mixed"):a.createElement(e6,{variableContainerClassName:e8,valueProps:{format:"pixels",value:e}}):a.createElement(e6,{variableContainerClassName:e8,valueProps:{format:"pixels",value:e[0]}})}function to({node:e,isPreview:t=!1}){let{stackTopPadding:n,stackRightPadding:l,stackBottomPadding:r,stackLeftPadding:i}=e,o=(0,eX.u)(e.boundVariables?.paddingTop?.id),s=(0,eX.u)(e.boundVariables?.paddingRight?.id),c=(0,eX.u)(e.boundVariables?.paddingBottom?.id),d=(0,eX.u)(e.boundVariables?.paddingLeft?.id),u=[o,s,c,d].some(e=>!!e);return a.createElement("div",{className:ec()(u?void 0:"annotation--paddingProperty--ckvG6 annotation--coloredProperty--OTQ6l")},a.createElement("span",null,a.createElement(ti,{rawValues:[n,l,r,i],variables:[o,s,c,d],isPreview:t})))}function ts({node:e}){if("WRAP"===e.stackWrap)return a.createElement(te,{svg:ta.A});switch(e.stackMode){case"HORIZONTAL":return a.createElement(te,{svg:tt.A});case"VERTICAL":return a.createElement(te,{svg:tn.A});default:return null}}function tc({node:e}){if("WRAP"===e.stackWrap)return(0,m.tx)("fullscreen.properties_panel.stack_panel.wrap");switch(e.stackMode){case"HORIZONTAL":return(0,m.tx)("dev_handoff.annotations.autolayout_horizontal");case"VERTICAL":return(0,m.tx)("dev_handoff.annotations.autolayout_vertical");default:return null}}function td({node:e}){if("NONE"===e.stackMode)return null;if("HORIZONTAL"===e.stackMode)switch(e.stackPrimaryAlignItems){case"MIN":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.left");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_left");case"BASELINE":return(0,m.tx)("dev_handoff.annotations.alignment.baseline_left")}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.top_center");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_center");case"BASELINE":return(0,m.tx)("dev_handoff.annotations.alignment.baseline_center")}case"MAX":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.top_right");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.right");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return(0,m.tx)("dev_handoff.annotations.alignment.baseline_right")}}switch(e.stackPrimaryAlignItems){case"MIN":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.top_center");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.top_right");case"BASELINE":return null}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.left");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.right");case"BASELINE":return null}case"MAX":switch(e.stackCounterAlignItems){case"MIN":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_left");case"CENTER":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_center");case"MAX":return(0,m.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return null}}}var tu=n(416095),tm=n(750029),tp=n(428877),tf=n(137906),tg=n(238093);function th(e,t){let n=(0,l.d4)(e=>e.library),a=(0,tg.f$)(e),r=(0,g.mJ)(a);if(!e||!a||!r)return null;let i=(0,tu.Gp)(e.key,[a],n);if(!i)return null;let o=i.value;return"DANGLING"===i.kind&&(o.style_type=t),o.description=r.description,o.name=r.name,o.isLocal="LOCAL"===i.kind,o}function t_(e,t){if(1===t)return e;let n=(100*t).toLocaleString("en",{maximumFractionDigits:2})+"%";return`${e} \xb7 ${n}`}function tE(e,t,n){let{opacity:a=1}=e;switch(e.type){case"SOLID":{if(!e.color)return null;let{color:l}=e,{a:r=1}=l,i=n({...l,a:r*a},{alphaInPercent:!0});return t?t.name:i}case"GRADIENT_LINEAR":return t_((0,m.t)("dev_handoff.selection_colors.gradient_linear"),a);case"GRADIENT_ANGULAR":return t_((0,m.t)("dev_handoff.selection_colors.gradient_angular"),a);case"GRADIENT_DIAMOND":return t_((0,m.t)("dev_handoff.selection_colors.gradient_diamond"),a);case"GRADIENT_RADIAL":return t_((0,m.t)("dev_handoff.selection_colors.gradient_radial"),a);case"IMAGE":return t_((0,m.t)("dev_handoff.annotations.image"),a);case"VIDEO":return t_((0,m.t)("dev_handoff.annotations.video"),a);default:return null}}function ty({paints:e,styleRef:t,variables:n}){let l=n?.[0],r=(0,tp.Ig)(),i=(0,eX.u)(l?.id),o=th(t,"FILL");return 0===e.length?null:o?a.createElement(a.Fragment,null,o.name):e.length>1?(0,m.tx)("dev_handoff.annotations.multiple"):a.createElement(a.Fragment,null,tE(e[0],i,r))}function tv({paints:e}){let t=e[0];return a.createElement(tm.J,{className:e5,tabIndex:-1,paint:t,allowMouseDownPropagation:!0})}function tb({paint:e,variableAlias:t}){let n=(0,tp.Ig)(),l=(0,eX.u)(t?.id),r=tE(e,l,n);return r?a.createElement("div",{className:e4},a.createElement(tm.J,{className:e5,paint:e,tabIndex:-1,allowMouseDownPropagation:!0}),a.createElement("span",{className:e7,title:r},l?a.createElement(eq.w,{containerClassName:e8,text:r,disableHover:!0}):r)):null}function tw({styleRef:e,styleType:t,hideIcon:n=!1}){let r=th(e,t);return(!function(e){let t=(0,l.d4)(e=>e.library),n=(0,tg.f$)(e),a=n?(0,tu.Gp)(e.key,[n],t):void 0;(0,tu.w$)(a)}(e),r)?a.createElement("div",{className:e4},!n&&a.createElement("div",{className:ec()("annotation--styleChit--yCQ3O annotation--chit--3je6E",e3)},a.createElement(tf.zi,{dsStyle:r})),a.createElement("span",{className:e7,title:r.name},r.name)):null}function tN({paints:e,styleRef:t,variables:n}){let{data:l}=e;return t?a.createElement(tw,{styleRef:t,styleType:"FILL"}):0===l.length?null:a.createElement("div",{className:"annotation--mixedValues--Z0qIk"},l.map((e,t)=>a.createElement(tb,{key:t,paint:e,variableAlias:n?.[t]})))}var tx=n(371591),tk=n(723081),tI=n(666139);function tT({effects:e}){if(0===e.length)return null;if(e.length>1)return(0,m.tx)("fullscreen.mixed");switch(e[0].type){case"DROP_SHADOW":return(0,m.tx)("dev_handoff.annotations.shadow");case"BACKGROUND_BLUR":return(0,m.tx)("fullscreen.properties_panel.effects.background_blur");case"FOREGROUND_BLUR":return(0,m.tx)("fullscreen.properties_panel.effects.layer_blur");case"INNER_SHADOW":return(0,m.tx)("fullscreen.properties_panel.effects.inner_shadow");case void 0:return null}}function tC({effects:e,styleRef:t}){return a.createElement(a.Fragment,null,e.map((e,n)=>a.createElement(tA,{effect:e,styleRef:t,key:n})))}let tS=new tk.SU;function tA({effect:e,styleRef:t}){let n=(0,tp.Ig)(),l=t&&a.createElement(tP,{styleRef:t});switch(e.type){case"DROP_SHADOW":case"INNER_SHADOW":{let{color:t}=e,r=t?n(t,{alphaInPercent:!0}):null,i=[e.offset?.x,e.offset?.y,e.radius,e.spread].filter(e=>void 0!==e).join(", ");return a.createElement("div",null,l,a.createElement("span",null,a.createElement(tT,{effects:[e]})),t&&a.createElement(a.Fragment,null,a.createElement("span",null),a.createElement("div",{className:e4},a.createElement(tm.J,{className:ec()(e5,"annotation--chitInline--vG6cM"),color:t,allowMouseDownPropagation:!0}),a.createElement("span",{className:e7,title:r||void 0},r))),a.createElement("span",null),a.createElement("span",null,i),e.blendMode&&"NORMAL"!==e.blendMode&&a.createElement(a.Fragment,null,a.createElement("span",null),a.createElement("span",null,tS.format(e.blendMode))))}case"BACKGROUND_BLUR":case"FOREGROUND_BLUR":return a.createElement("div",null,l,a.createElement("span",null,a.createElement(tT,{effects:[e]})),void 0!==e.radius&&a.createElement("span",null,` ${(0,ej.nd)(e.radius,"px")}`));case void 0:return null}}function tP({styleRef:e}){let t=(0,tg.f$)(e),n=(0,g.mJ)(t);return t&&n?a.createElement("div",null,n.name):null}var tL=n(142284);let tO=e=>{switch(e){case"RIGHT":return(0,m.t)("inspect_panel.typography.align_right");case"CENTER":return(0,m.t)("inspect_panel.typography.align_center");case"JUSTIFIED":return(0,m.t)("inspect_panel.typography.align_justified");case"LEFT":return(0,m.t)("dev_handoff.annotations.align_left")}};function tD(){return a.createElement(u.B,{svg:tL.A,className:ec()(e3,e2)})}function tM({textAlignHorizontal:e}){return a.createElement(a.Fragment,null,tO(e))}function tR({lineHeightOrMixed:e,variableAlias:t,isPreview:n}){let l=(0,eX.u)(t?.id);if("mixed"===e)return(0,m.tx)("fullscreen.mixed");if(l&&n)return a.createElement(a.Fragment,null,l.name);if("PERCENT"===e.units&&100===e.value)return(0,m.tx)("dev_handoff.annotations.auto");let r="RAW"===e.units?{value:100*e.value,units:"PERCENT"}:e;return a.createElement(ej.lN,{variableContainerClassName:e8,valueProps:{format:"fig_number",value:r,variable:l?.name}})}function tF({fontNameOrMixed:e,variableAlias:t,isPreview:n}){let l=(0,eX.u)(t?.id);return"mixed"===e?(0,m.tx)("fullscreen.mixed"):l&&n?a.createElement(a.Fragment,null,l.name):a.createElement(ej.lN,{variableContainerClassName:e8,valueProps:{value:e.family,variable:l?.name}})}function tB({fontWeightOrMixed:e,variableAlias:t,isPreview:n}){let l=(0,eX.u)(t?.id);return"mixed"===e?(0,m.tx)("fullscreen.mixed"):(l&&l.resolvedType!==i.rXF.FLOAT&&(l=null),l&&n)?a.createElement(a.Fragment,null,l.name):a.createElement(ej.lN,{variableContainerClassName:e8,valueProps:{value:e,variable:l?.name}})}var tK=n(313888),tU=n(595869),tz=n(560185),tH=n(30562),tV=n(438806),tG=n(904595),tW=n(235107),tY=n(58502),tX=n(144919);function tj({node:e}){let{symbolId:t}=e;if(!t)return a.createElement(a.Fragment,null);let n=eo.q.instance.get(t);if(!n)return a.createElement(a.Fragment,null);if(n.isState){let e=n.parentNode?.name;return a.createElement(a.Fragment,null,`${e} (${n.name})`)}return a.createElement(a.Fragment,null,n.name)}let tq=new Map([[i.L5V.HEIGHT,{label:(0,m.tx)("fullscreen.properties_panel.transform_panel.height"),category:"dimension",Icon:()=>a.createElement(te,{svg:tV.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.size.y,variableAlias:e.boundVariables.height,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.size.y,variableAlias:e.boundVariables.height}),index:0}],[i.L5V.MIN_HEIGHT,{label:(0,m.tx)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"),category:"dimension",Icon:()=>a.createElement(te,{svg:tV.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.minHeight,variableAlias:e.boundVariables.minHeight,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.minHeight,variableAlias:e.boundVariables.minHeight}),index:0}],[i.L5V.MAX_HEIGHT,{label:(0,m.tx)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt"),category:"dimension",Icon:()=>a.createElement(te,{svg:tV.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.maxHeight,variableAlias:e.boundVariables.maxHeight,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.maxHeight,variableAlias:e.boundVariables.maxHeight}),index:0}],[i.L5V.WIDTH,{label:(0,m.tx)("fullscreen.properties_panel.transform_panel.width"),category:"dimension",Icon:()=>a.createElement(te,{svg:tW.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.size.x,variableAlias:e.boundVariables.width,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.size.x,variableAlias:e.boundVariables.width}),index:0}],[i.L5V.MIN_WIDTH,{label:(0,m.tx)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"),category:"dimension",Icon:()=>a.createElement(te,{svg:tW.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.minWidth,variableAlias:e.boundVariables.minWidth,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.minWidth,variableAlias:e.boundVariables.minWidth}),index:0}],[i.L5V.MAX_WIDTH,{label:(0,m.tx)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt"),category:"dimension",Icon:()=>a.createElement(te,{svg:tW.A}),PreviewValue:({node:e})=>a.createElement(t2,{value:e.maxWidth,variableAlias:e.boundVariables.maxWidth,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.maxWidth,variableAlias:e.boundVariables.maxWidth}),index:0}],[i.L5V.CORNER_RADIUS,{label:(0,m.tx)("fullscreen.properties_panel.transform_panel.corner_radius"),category:"dimension",Icon:()=>a.createElement(te,{svg:tU.A}),PreviewValue:({node:e})=>a.createElement(tZ,{node:e,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tZ,{node:e}),index:0}],[i.L5V.STACK_MODE,{label:(0,m.tx)("dev_handoff.annotations.autolayout_mode"),category:"stack",Icon:({node:e})=>a.createElement(ts,{node:e}),PreviewValue:({node:e})=>a.createElement(tc,{node:e}),DisplayValue:({node:e})=>a.createElement(tc,{node:e}),index:0}],[i.L5V.STACK_ALIGNMENT,{label:(0,m.tx)("dev_handoff.annotations.alignment"),category:"stack",Icon:({node:e})=>a.createElement(te,{svg:(0,tx.GN)(e)}),PreviewValue:({node:e})=>a.createElement(td,{node:e}),DisplayValue:({node:e})=>a.createElement(td,{node:e}),index:0}],[i.L5V.STACK_SPACING,{label:(0,m.tx)("inspect_panel.properties.gap"),category:"stack",Icon:({node:e})=>a.createElement(te,{svg:"HORIZONTAL"===e.stackMode?tz.A:tH.A}),PreviewValue:({node:e})=>a.createElement(tr,{node:e,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tr,{node:e}),index:0}],[i.L5V.STACK_PADDING,{label:(0,m.tx)("inspect_panel.properties.padding"),category:"stack",Icon:()=>a.createElement(te,{svg:tG.A}),PreviewValue:({node:e})=>a.createElement(to,{node:e,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(to,{node:e}),index:0}],[i.L5V.TEXT_STYLE,{label:(0,m.tx)("dev_handoff.annotations.text_style"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(t5,{styleRef:e.inheritedTextStyle}),DisplayValue:({node:e})=>a.createElement(tw,{styleRef:e.inheritedTextStyle,styleType:"TEXT",hideIcon:!0}),index:0}],[i.L5V.FONT_FAMILY,{label:(0,m.tx)("inspect_panel.typography.font"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(tF,{fontNameOrMixed:e.fontNameOrMixed,variableAlias:e.boundVariables.fontFamily?.[0],isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tF,{fontNameOrMixed:e.fontNameOrMixed,variableAlias:e.boundVariables.fontFamily?.[0]}),index:0}],[i.L5V.FONT_STYLE,{label:(0,m.tx)("inspect_panel.code.font_style"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(a.Fragment,null,e.fontName.style),DisplayValue:({node:e})=>a.createElement(a.Fragment,null,e.fontName.style),index:0}],[i.L5V.FONT_SIZE,{label:(0,m.tx)("dev_handoff.annotations.font_size"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(t2,{value:e.fontSizeOrMixed,variableAlias:e.boundVariables.fontSize?.[0],isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t2,{value:e.fontSizeOrMixed,variableAlias:e.boundVariables.fontSize?.[0]}),index:0}],[i.L5V.LINE_HEIGHT,{label:(0,m.tx)("fullscreen.type_panel.line_height"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(tR,{lineHeightOrMixed:e.lineHeightOrMixed,variableAlias:e.boundVariables.lineHeight?.[0],isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tR,{lineHeightOrMixed:e.lineHeightOrMixed,variableAlias:e.boundVariables.lineHeight?.[0]}),index:0}],[i.L5V.LETTER_SPACING,{label:(0,m.tx)("fullscreen.type_panel.letter_spacing"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(t3,{value:e.letterSpacingOrMixed,variableAlias:e.boundVariables.letterSpacing?.[0],isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t3,{value:e.letterSpacingOrMixed,variableAlias:e.boundVariables.letterSpacing?.[0]}),index:0}],[i.L5V.TEXT_ALIGN_HORIZONTAL,{label:(0,m.tx)("dev_handoff.annotations.text_align"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(tM,{textAlignHorizontal:e.textAlignHorizontal}),DisplayValue:({node:e})=>a.createElement(tM,{textAlignHorizontal:e.textAlignHorizontal}),index:0}],[i.L5V.FONT_WEIGHT,{label:(0,m.tx)("inspect_panel.typography.weight"),category:"text",Icon:tD,PreviewValue:({node:e})=>a.createElement(tB,{fontWeightOrMixed:e.fontWeightOrMixed,variableAlias:e.boundVariables.fontStyle?.[0],isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tB,{fontWeightOrMixed:e.fontWeightOrMixed,variableAlias:e.boundVariables.fontStyle?.[0]}),index:0}],[i.L5V.FILL,{label:(0,m.tx)("fullscreen.properties_panel.fill.fill"),category:"paint",Icon:({node:e})=>a.createElement(tv,{paints:e.fillPaints.data}),PreviewValue:({node:e})=>a.createElement(ty,{paints:e.fillPaints.data,variables:e.boundVariables.fills,styleRef:e.inheritedFillStyle}),DisplayValue:({node:e})=>a.createElement(tN,{paints:e.fillPaints,styleRef:e.inheritedFillStyle,variables:e.boundVariables.fills}),index:0}],[i.L5V.STROKE,{label:(0,m.tx)("fullscreen.properties_panel.fill.stroke"),category:"paint",Icon:({node:e})=>a.createElement(tv,{paints:e.strokePaints.data}),PreviewValue:({node:e})=>a.createElement(ty,{paints:e.strokePaints.data,variables:e.boundVariables.strokes,styleRef:e.inheritedFillStyle}),DisplayValue:({node:e})=>a.createElement(tN,{paints:e.strokePaints,styleRef:e.inheritedFillStyleForStroke,variables:e.boundVariables.strokes}),index:0}],[i.L5V.STROKE_WIDTH,{label:(0,m.tx)("fullscreen.properties_panel.borders.stroke_width"),category:"paint",Icon:()=>a.createElement(te,{svg:tY.A}),PreviewValue:({node:e})=>a.createElement(t$,{node:e,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(t$,{node:e}),index:0}],[i.L5V.EFFECT,{label:(0,m.tx)("inspect_panel.code.effect"),category:"paint",Icon:function(){return a.createElement(te,{svg:tI.A})},PreviewValue:({node:e})=>a.createElement(tT,{effects:e.effects.filter(e=>e.visible)}),DisplayValue:({node:e})=>a.createElement(tC,{effects:e.effects.filter(e=>e.visible),styleRef:e.inheritedEffectStyle}),index:0}],[i.L5V.OPACITY,{label:(0,m.tx)("fullscreen.scrubbable.opacity"),category:"paint",Icon:()=>a.createElement(te,{svg:tX.A}),PreviewValue:({node:e})=>a.createElement(tJ,{node:e,isPreview:!0}),DisplayValue:({node:e})=>a.createElement(tJ,{node:e}),index:0}],[i.L5V.COMPONENT,{label:(0,m.tx)("dev_handoff.annotations.component"),category:"component",Icon:()=>a.createElement(te,{svg:tK.A}),PreviewValue:tj,DisplayValue:tj,index:0}]]),tQ=0;function tJ({node:e,isPreview:t=!1}){let n=e.boundVariables.opacity,l=(0,eX.u)(n?.id??void 0);return l&&t?a.createElement(a.Fragment,null,l.name):a.createElement(e6,{variableContainerClassName:e8,valueProps:{format:"percent",value:e.opacity,variable:l?.name}})}function tZ({node:e,isPreview:t=!1}){let{rectangleTopLeftCornerRadius:n,rectangleTopRightCornerRadius:l,rectangleBottomRightCornerRadius:r,rectangleBottomLeftCornerRadius:i}=e,o=(0,eX.u)(e.boundVariables?.topLeftRadius?.id),s=(0,eX.u)(e.boundVariables?.topRightRadius?.id),c=(0,eX.u)(e.boundVariables?.bottomRightRadius?.id),d=(0,eX.u)(e.boundVariables?.bottomLeftRadius?.id);return a.createElement(ti,{rawValues:[n,l,r,i],variables:[o,s,c,d],isPreview:t})}function t$({node:e,isPreview:t=!1}){return e.borderStrokeWeightsIndependent?a.createElement(t1,{node:e,isPreview:t}):a.createElement(t0,{node:e,isPreview:t})}function t0({node:e,isPreview:t}){let n=(0,eX.u)(e.boundVariables.strokeWeight?.id);return n&&t?a.createElement(a.Fragment,null,n.name):a.createElement(e6,{variableContainerClassName:e8,valueProps:{value:e.strokeWeight,variable:n?.name,format:"pixels"}})}function t1({node:e,isPreview:t}){let{borderTopWeight:n,borderRightWeight:l,borderBottomWeight:r,borderLeftWeight:i}=e,o=(0,eX.u)(e.boundVariables.strokeTopWeight?.id),s=(0,eX.u)(e.boundVariables.strokeRightWeight?.id),c=(0,eX.u)(e.boundVariables.strokeBottomWeight?.id),d=(0,eX.u)(e.boundVariables.strokeLeftWeight?.id);return a.createElement(ti,{rawValues:[n,l,r,i],variables:[o,s,c,d],isPreview:t})}function t2({value:e,variableAlias:t,isPreview:n}){let l=(0,eX.u)(t?.id);return null===e?null:"mixed"===e?(0,m.tx)("fullscreen.mixed"):l&&n?a.createElement(a.Fragment,null,l.name):a.createElement(e6,{variableContainerClassName:e8,valueProps:{value:(0,ej.nd)(e,"px"),variable:l?.name}})}function t3({value:e,variableAlias:t,isPreview:n}){let l=(0,eX.u)(t?.id);return"mixed"===e?(0,m.tx)("fullscreen.mixed"):l&&n?a.createElement(a.Fragment,null,l.name):a.createElement(e6,{variableContainerClassName:e8,valueProps:{format:"fig_number",value:e,variable:l?.name}})}function t5({styleRef:e}){let t=(0,tg.f$)(e),n=(0,g.mJ)(t);return n?a.createElement(a.Fragment,null,n.name):null}function t4(){let e=(0,Y.IL)(),t=(0,em.Xr)(en.J),n=!!(0,M.hA)();return a.useCallback(a=>{ei.l7.user("clear-annotations",()=>{a.setAnnotation(null);let l=(0,$.kh)(eo.q.instance,a.guid);e("delete_annotation",{nodeId:a.guid,nodeType:a.type,tlfId:l?.guid,isDevModeFocusView:n}),t(!1),(0,Q.d)().lockMouseMoves.set(!1),ey.Y5.triggerAction("commit")})},[t,e,n])}tq.forEach(e=>{e.index=tQ++});var t7=n(462166),t8=n(243742),t6=n(560945),t9=n(592096),ne=n(91408),nt=n(837746);let nn=(0,ne.jz)("220px"),na=(0,ne.jz)(nt.KwN),nl=(0,ne.jz)(nt.RHC);var nr=(e=>(e[e.ALIGNED=0]="ALIGNED",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW",e))(nr||{});function ni(e,t,n){let{x:a,y:l,w:r,h:i}=e.absoluteBoundingBox,{x:o,w:s}=t.absoluteBoundingBox,{offsetX:c,offsetY:d,zoomScale:u}=n,m=a-o,p=o+s-(a+r),f=m<p,g=Math.min(Math.max(20*u,5),20);return f?{lineWidth:m*u+g,offsetX:(o-c)*u-g,offsetY:(l+i/2-d)*u,isLeftAligned:f}:{lineWidth:p*u+g,offsetX:(o+s-c)*u+g,offsetY:(l+i/2-d)*u,isLeftAligned:f}}function no(e,t,n){let a=[];for(let t of e){let e=(n||t.height)+8;for(a.push({basis:t.offsetY-e/2,length:1,height:e});a.length>1&&function(e,t){let n=e.basis+e.height-t.basis;return!(n<=0)&&(e.height+=t.height,e.length+=t.length,e.basis-=n*t.height/e.height,!0)}(a[a.length-2],a[a.length-1]);)a.pop()}let l=0;for(let r of a){let{basis:a}=r;for(let i=0;i<r.length;i++){let r=e[l],i=(n||r.height)+8;t[r.node.guid]=a+i/2,a+=i,l++}}}function ns(e,t,n){let a=[],l=[],r={};for(let e of t)e.isLeftAligned?a.push(e):l.push(e);return no(a,r,n?6:void 0),no(l,r,n?6:void 0),t.map(t=>{let{y:n,h:a,w:l}=t.node.absoluteBoundingBox,i=r[t.node.guid],o=(n-e.offsetY)*e.zoomScale,s=t.lineWidth,c=0,d=0,u=t.lineWidth;return i<o?(c=1,d=o-i,u+=l/2*e.zoomScale):i>(n+a-e.offsetY)*e.zoomScale&&(c=2,d=i-(n+a-e.offsetY)*e.zoomScale,u+=l/2*e.zoomScale),{...t,offsetY:i,lineAlignment:c,lineHeight:d,lineWidth:u,originalLineWidth:s}})}function nc({node:e,setDimensions:t,offsetX:n,offsetY:r,lineWidth:o,originalLineWidth:s,lineHeight:c,lineAlignment:d,isLeftAligned:u,viewportInfo:m,shouldMinimize:p,canOverlapNode:f=!1,children:h}){let _=(0,Y.IL)(),y=(0,a.useRef)(null),v=(0,t6.w)(p?void 0:y),b=(0,l.d4)(e=>e.mirror.appModel.hoveredNode),[w,N]=(0,a.useState)(!1),x=(0,D._I)(),k=(0,K.dH)(),I="ui3"===(0,t8.DP)().version,T=e.guid===b||w,C=(0,g.uQ)(),S=(0,X.md)(en.J),A=S&&C===e.guid,P=p&&!A,L=k===i.NLJ.ANNOTATE&&!T&&null!==C&&C!==e.guid,O=A||m.zoomScale>=.05&&(e.guid===C||e.annotations.length>0),M=(0,t9.LO)(),R=a.useCallback(e=>{(0,Q.d)().lockMouseMoves.set(e)},[]);(0,a.useLayoutEffect)(()=>{v&&t(e.guid,v)},[e.guid,v,t]);let F={top:`${m.y+m.height/2}px`,left:`${m.x+m.width/2}px`,transform:`translate(${n}px, calc(${r}px - 50%))`};return a.createElement("div",{ref:y,className:ec()("annotation--annotationWrapper--pKMw2",{"annotation--wrapperMinimized--UOExu":P&&!T,[eJ]:A}),style:F,"data-testid":"annotationWrapper"},O&&a.createElement(a.Fragment,null,a.createElement("div",{className:ec()("annotation--annotationLine--jr4Mc",{"annotation--annotationLineLeftAligned--W-1DZ":u,"annotation--annotationLineAboveNode--WwqWD":d===nr.ABOVE,"annotation--annotationLineBelowNode--JeafT":d===nr.BELOW}),style:{width:o,height:c}},a.createElement("div",{className:ec()("annotation--annotationLineStartDot--x6RNc",{"annotation--annotationLineStartDotHovered--Chqa7":!x&&T})}),a.createElement("div",{className:"annotation--annotationLineEndDot--Lsq0a"})),a.createElement("div",{onMouseOut:()=>{R(!1),N(!1)},onMouseOver:()=>{S||(R(!0),E.Uc(e.guid),P&&!w&&_("hover_minimized_annotation",{nodeId:e.guid,nodeType:e.type}),N(!0))},className:ec()({"annotation--annotationLeftAligned--FHQRp":u,"annotation--annotationRightAligned--VrH8e":!u,"annotation--annotationHovered--QUHJv":!A&&T}),style:{transform:function(e,t,n,a,l,r,o,s){let c=i.Ez5.isFullscreenYScrollbarNeeded()&&(!s||!i.Ez5.isUI3EdgeToEdgeCanvasEnabled());if(n){let n=`calc(${-a}px - ${e.width/2}px + ${o.left}px + 4px)`,i=r?`calc(${l+t*e.zoomScale}px - 100% - 8px)`:`calc(${l}px - 100% - 8px)`;return`translate(min(${i}, max(-100%, ${n})), 0)`}{let n=r?`calc(-${l+t*e.zoomScale}px + 8px)`:`calc(-${l}px + 8px)`,i=`calc(${e.width/2}px - ${a}px - 100% - ${o.right}px - ${c?s?nl:na:4}px)`;return`translate(max(${n}, min(0px, ${i})), 0)`}}(m,e.absoluteBoundingBox.w,u,n,s,f,M,I)}},a.createElement("div",{className:ec()("annotation--annotationHoverTarget--4y3Xc",{"annotation--annotationHoverTargetLeftAligned--G1twU":u})}),x&&(!P||T)&&h(L))))}var nd=n(501191);function nu({viewportInfo:e,nodeInfo:t,setDimensions:n}){let l=function(){let e=(0,Y.IL)(),{Sprig:t}=(0,eh.A)(),n=!!(0,M.hA)();return a.useCallback((a,l,r)=>{ei.l7.user(r?"edit-annotation":"create-annotation",()=>{a.setAnnotation(l);let i=(0,$.kh)(eo.q.instance,a.guid),o={nodeType:a.type,nodeId:a.guid,tlfId:i?.guid??a.guid,hasText:!!l.label,numProperties:l.properties.length,isDevModeFocusView:n};r?e("edit_annotation",o):(e("create_annotation",o),t("track","create_annotation")),ey.Y5.triggerAction("commit")})},[t,e,n])}(),r=t4(),i=(0,em.Xr)(en.J),{node:o}=t,s=o.annotations[0],[c,d]=a.useState(s?.label??""),[u,m]=a.useState(s?.properties??[]),p=a.useCallback(()=>{let e=s&&(""!==s.label||s.properties.length>0),t=0===(0,ed.A)(c).length;t&&0===u.length?s&&r(o):l(o,{label:t?"":c,properties:u},e),i(!1),(0,Q.d)().lockMouseMoves.set(!1)},[s,c,u,r,o,l,i]);return a.createElement(a.Fragment,null,a.createElement(nh,{viewportInfo:e,onPointerDown:p}),a.createElement(nc,{key:t.node.guid,node:t.node,viewportInfo:e,shouldMinimize:!1,offsetX:t.offsetX,offsetY:t.offsetY,lineWidth:t.lineWidth,originalLineWidth:t.originalLineWidth,lineHeight:t.lineHeight,lineAlignment:t.lineAlignment,isLeftAligned:t.isLeftAligned,setDimensions:n,canOverlapNode:!0},()=>a.createElement(nm,{node:t.node,saveAnnotation:p,inputText:c,setInputText:d,inputProperties:u,setInputProperties:m})))}function nm({node:e,saveAnnotation:t,inputText:n,setInputText:l,inputProperties:r,setInputProperties:i}){let o=(0,Y.IL)(),s=t4(),[c,d]=a.useState(-1),[p,f]=a.useState(!1),[g,h]=a.useState(!1),_=a.useRef(null),E=a.useRef(null),y=a.useRef(null),{availableProperties:v,selectedProperties:b}=a.useMemo(()=>{let t=[],n=[];for(let a of np)r.some(e=>e.type===a.type)?n.push(a):(0,t7.J)(e,a.type,!0)&&t.push(a);return{availableProperties:t,selectedProperties:n}},[e,r]);a.useEffect(()=>{o("show_annotation_dialog",{nodeId:e.guid,nodeType:e.type})},[o,e.guid,e.type]);let w=a.useCallback(()=>{_.current?.focus()},[]),N=a.useCallback(e=>{d(-1),f(!1),i([...r,{type:e}])},[i,r]);function x(e){i(r.filter(t=>t.type!==e)),w()}let k=a.useCallback(()=>{(0,Q.d)().lockMouseMoves.set(!1)},[]),I=a.useCallback((e,t)=>{if(d(e),h(t),t&&E.current){for(let t of E.current.children)if(t.getAttribute("data-property-type")===`property-${v[e]}`){t.focus();break}}},[d,h,v]),T=a.useCallback(()=>{p?(f(!1),d(-1),y.current?.focus()):t()},[p,t]),C=a.useCallback(()=>{p&&(-1===c?I(v.length-1,!0):c>0&&I(c-1,!0))},[v.length,c,I,p]),S=a.useCallback((e,t)=>{if(p){-1===c?I(0,!0):c<v.length-1&&I(c+1,!0);return}e&&!t&&(f(!0),I(0,!0))},[v.length,p,c,I]),A=(0,j.v_)("createAnnotation","keydown",(0,a.useCallback)(e=>{"Escape"===e.key?T():"ArrowUp"===e.key?(C(),e.stopPropagation()):"ArrowDown"===e.key?(S(e.ctrlKey||e.metaKey,e.shiftKey),e.stopPropagation()):("Enter"===e.key||" "===e.key)&&c>=0&&c<v.length&&(N(v[c].type),e.preventDefault(),y.current?.focus())},[v,S,C,T,c,N]));a.useEffect(()=>(document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}),[A]);let P=j.qP("annotationLabelInput","submit",l),L=j.qP("annotationLabelInput","enter",t),O=e=>{f(!p),e?I(0,!0):d(-1)},D=0===n.length&&0===b.length;return a.createElement(ew.vL,{name:"create-annotation",focusOnMount:!0,handleKeyDown:e=>{let{event:n}=e;"Escape"===n.key&&(e.accept(),t())}},a.createElement("div",{onPointerDown:eE.dG},a.createElement("div",{className:ec()(eZ,e_.Dm)},a.createElement("div",{className:ec()(e$,{"annotation--contentContainerNoProperties--pc2WE":0===b.length})},a.createElement("div",{dir:"auto"},(0,eu.kc)().ext_lexical_editor_annotations&&a.createElement(eY,{defaultValue:null}),!(0,eu.kc)().ext_lexical_editor_annotations&&a.createElement(ef.X,{fallback:null,errorFallback:null,mountBehavior:"focus",placeholder:(0,m.t)("dev_handoff.annotations.add_annotation"),defaultValue:n,onInputChange:P,onBlur:ep.lQ,hideToolbar:!0,onEnterKeyPressed:L})),b.length>0&&a.createElement("div",{className:e0},b.map(t=>a.createElement(ng,{key:`selected-${t.type}`,onRemoveProp:x,node:e,property:t})))),a.createElement("div",{className:"annotation--authoringRow--cIo3-"},a.createElement(eg.GG,{className:ec()("annotation--addPropertyButton--67vPO",{"annotation--active--Q00x6":p}),forwardedRef:y,onMouseDown:e=>O((0,eb.SK)(e)),onKeyDown:e=>{p||"Enter"!==e.code&&"Space"!==e.code||(O(!0),e.preventDefault(),e.stopPropagation())},tabIndex:0,"data-tooltip-type":ev.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.annotations.pin_properties_tooltip"),recordingKey:"createAnnotationPinPropertyButton"},a.createElement(u.B,{className:"annotation--plusIcon--Ove-l",svg:nd.A,width:"16",height:"16"}),(0,m.tx)("dev_handoff.annotations.pin_properties_label")),a.createElement(ea.K,{actionOnPointerDown:!0,onClick:()=>{s(e),k()},disabled:D,"aria-label":(0,m.t)("dev_handoff.annotations.delete"),recordingKey:"createAnnotationTrashIcon",htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.annotations.delete"),"data-tooltip-type":ev.Ib.TEXT}},a.createElement(el.i,null)))),p&&a.createElement("div",{onMouseLeave:()=>I(-1,!1),ref:E,onBlur:e=>{e.relatedTarget?.getAttribute("data-property-type")||f(!1)},className:ec()(eZ,"annotation--dropdown--WLrjl")},0===v.length&&a.createElement("div",{className:"annotation--allPropertiesAdded--KzT8m"},(0,m.tx)("dev_handoff.annotations.all_properties_added")),v.map((t,n)=>a.createElement(a.Fragment,{key:`option-${t.type}`},n>0&&t.config.category!==v[n-1].config.category&&a.createElement("div",{className:"annotation--propertyDivider--Q3tgS"}),a.createElement(nf,{node:e,property:t,isHovered:c===n,autoFocus:c===n&&g,onMouseOver:()=>I(n,!1),onMouseDown:e=>{N(t.type),e.preventDefault()}}))))))}let np=Array.from(tq.entries()).map(([e,t])=>({type:e,config:t}));function nf({node:e,property:t,isHovered:n,autoFocus:l,onMouseDown:r,onMouseOver:i}){let o=t.config.PreviewValue,s=t.config.Icon;return a.createElement(eg.GG,{className:ec()("annotation--propertyOption--GJWeu text--fontPos12--YsUAh text--_fontBase--QdLsd",{"annotation--hoveredProperty--ZOJgv":n}),onMouseDown:r,onMouseOver:i,role:"menuitem",autoFocus:l,"data-property-type":`property-${t.type}`,tabIndex:-1,recordingKey:`createAnnotationOptionButton-${t.type}`},a.createElement("div",{className:"annotation--propertyOptionIconLabel--vFND-"},a.createElement("div",{className:"annotation--propertyOptionIcon---NJse"},a.createElement(s,{node:e})),t.config.label),a.createElement("div",{className:ec()("annotation--preview--SrnLk","annotation--propertyValue--yhAB- annotation--_ellipsis--8F1VE")},a.createElement(o,{node:e})))}function ng({node:e,onRemoveProp:t,property:n}){let l=n.config.DisplayValue,r=(0,t7.J)(e,n.type,!1);return a.createElement(a.Fragment,null,a.createElement("span",{className:"annotation--selectedPropertyDisplayLabel--AtFEJ"},n.config.label),a.createElement("div",{className:"annotation--selectedPropertyValueWrapper--OyM0X"},a.createElement("span",{className:ec()("annotation--selectedPropertyValue--wwu2U",{[e1]:!r})},r?a.createElement(l,{node:e}):(0,m.tx)("dev_handoff.annotations.no_value")),a.createElement("span",{className:"annotation--selectedPropertyDelete--DMdrA"},a.createElement(eg.GG,{className:"annotation--selectedPropertyDeleteButton--rko2T",recordingKey:`removeAnnotation${n.type}`,"data-tooltip-type":ev.Ib.TEXT,"data-tooltip":(0,m.t)("dev_handoff.annotations.remove_property"),onClick:ei.nc.user("remove-annotation",()=>{t(n.type)}),onKeyDown:ei.nc.user("remove-annotation",e=>{t(n.type),e.preventDefault()})},a.createElement(er.f,null)))))}function nh({viewportInfo:e,onPointerDown:t}){return a.createElement(eg.D8,{className:`${eJ} ${e_.Dm} ${e_.Uu}`,recordingKey:"annotationDialogBackground",style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height},onPointerDown:t})}var n_=n(534611),nE=n(686759),ny=n(278312),nv=n(698993);function nb({viewportInfo:e,nodeInfo:t,setDimensions:n}){return a.createElement(nc,{key:t.node.guid,node:t.node,viewportInfo:e,shouldMinimize:t.shouldMinimize,offsetX:t.offsetX,offsetY:t.offsetY,lineWidth:t.lineWidth,originalLineWidth:t.originalLineWidth,lineHeight:t.lineHeight,lineAlignment:t.lineAlignment,isLeftAligned:t.isLeftAligned,setDimensions:n},e=>a.createElement(nw,{node:t.node,isFadedOut:e}))}function nw({node:e,isFadedOut:t}){let n=(0,Y.IL)(),l=(0,g.uQ)(),r=(0,K.dH)(),o=l===e.guid,s=(0,em.Xr)(en.J),c=t4(),d=(0,a.useMemo)(()=>i.w3z.isReadOnly(i.SES.ANNOTATIONS),[]),u=(0,y.J2)(i.Ez5.devHandoffState().selectedMeasurementId),m=!!(0,M.hA)(),p=e=>{e&&(E.wr(),(0,nv.S)("annotations"),E.Dh([e]))},f=a.useCallback(t=>{!d&&o&&u===n_.AD&&(document.activeElement?.classList.contains("focus-target")||(0,ny.t)(document.activeElement)||document.activeElement?.classList.contains(eQ))&&("Backspace"===t.key||"Delete"===t.key)&&c(e)},[d,o,u,c,e]);a.useEffect(()=>(document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)),[f]);let h=a.useCallback(()=>{let e=window.getSelection()?.toString()||"";e&&(0,nE.Dk)(e,{withLineBreaks:!0})},[]);if(0===e.annotations.length)return null;let _=e.annotations[0],{label:v,properties:b}=_,w=[...b].sort((e,t)=>tq.get(e.type).index-tq.get(t.type).index);return a.createElement(eg.D8,{className:ec()("annotation--viewAnnotation--cA-c1 annotation--_annotationBase--MPByC",e$,{"annotation--viewAnnotationSelected--UApdn":o,"annotation--canSelect--zG4JI":!o,"annotation--viewAnnotationFadedOut--7LQPE":t}),role:"button",tabIndex:0,onMouseDown:()=>{o||(p(e.guid),n("click_annotation_content",{nodeId:e.guid,nodeType:e.type,hasText:!!_.label,numProperties:_.properties.length,currentTool:r,isDevModeFocusView:m}))},"data-testid":"annotationDisplay",recordingKey:`viewAnnotationContainer-${e.name}`,onDoubleClick:()=>{d||(o||p(e.guid),s(!0))},onCopy:h},v&&a.createElement(ef.R,{value:v,fallback:null,errorFallback:null,quillClassName:"annotation--label--Tf5gK"}),w&&w.length>0&&a.createElement("div",{className:e0},w.map((t,n)=>a.createElement(nN,{key:n,node:e,property:t}))))}function nN({node:e,property:t}){let n=tq.get(t.type),l=n.DisplayValue,r=e&&e.isAlive(),i=(0,t7.J)(e,t.type,!1);return a.createElement(a.Fragment,null,a.createElement("span",{className:"annotation--propertyDisplayLabel--PQ2vF"},n.label),a.createElement("span",{className:ec()("annotation--propertyDisplayValue--bxdp7",{[e1]:!i}),"data-testid":`annotationPropertyValue-${t.type.toString()}`},r&&i?a.createElement(l,{node:e}):(0,m.tx)("dev_handoff.annotations.no_value")))}var nx=n(488819),nk=n(610265),nI=n(640001),nT=n(630564),nC=n(119257);function nS(e){let{children:t}=e,n=(0,a.useRef)(null),[l,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(n.current){let e=n.current.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=[nx.Nz,nI.Nz,nk.Nz,nC.Nz,"/** @postcss-export-raw */\n\n/**\n * ellipsis.css\n *\n * Add an ellipsis if text is too long.\n *\n * The element that composes this mixin MUST have a defined width or max-width in pixels.\n * - Only works on a single line of text. See below for multi-line ellipses\n */\n\n.ellipsis--ellipsis--Tjyfa {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/**\n * Add an ellipsis after n lines of text.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-line-clamp\n *\n * The element that composes this mixin MUST:\n * - Have a defined width or max-width in pixels.\n * - Have a defined fallback height or max-height set to `line-height * n`,\n *     in case browsers do not support -webkit-line-clamp or box-orient\n *     at least the container size will be correct (with no ellipses)\n *\n * TODO(golf): start using `line-clamp` instead of -webkit-line-clamp once browsers start supporting it\n */\n\n.ellipsis--_ellipsisAfterNLines--LzI7k {\n  display: -webkit-inline-box;\n  overflow: hidden;\n\n  /* https://github.com/postcss/autoprefixer/issues/776#issuecomment-297734206 */\n  /* autoprefixer: off */\n  -webkit-box-orient: vertical;\n  /* autoprefixer: on */\n}\n\n.ellipsis--ellipsisAfter2Lines--Qo-Xh {\n  -webkit-line-clamp: 2;\n}\n\n.ellipsis--ellipsisAfter3Lines--h405C {\n  -webkit-line-clamp: 3;\n}\n\n.ellipsis--ellipsisAfter6Lines--2UA7M {\n  -webkit-line-clamp: 6;\n}\n\n.ellipsis--ellipsisAfter8Lines--WZFi8 {\n  -webkit-line-clamp: 8;\n}\n","/** @postcss-export-raw */\n/* Keep in line with FGDevHandoffHelpers.h */\n.annotation--annotationContainer--k4xiM {\n  position: relative;\n  /* Make all z indexes in this file relative to the parent.\n     We want all annotations to render underneath comments */\n  z-index: 0;\n}\n.annotation--_ellipsis--8F1VE {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.annotation--annotationWrapper--pKMw2 {\n  position: absolute;\n  pointer-events: none;\n  width: max-content;\n}\n.annotation--annotationWrapper--pKMw2,\n.annotation--wrapperMinimized--UOExu:hover {\n  z-index: 1;\n}\n.annotation--wrapperEditing--C2Zlx {\n  z-index: 2;\n}\n.annotation--wrapperMinimized--UOExu {\n  z-index: 0;\n}\n.annotation--annotationLine--jr4Mc {\n  position: absolute;\n  top: 50%;\n  border-top: 1px dashed var(--color-icon-handoff);\n  /* Push to left of annotation box */\n  transform: translate(-100%, -50%);\n}\n.annotation--annotationLineStartDot--x6RNc {\n  position: absolute;\n  top: -6.5px;\n  left: 100%;\n\n  width: 12px;\n  height: 12px;\n\n  background: color-mix(in srgb, var(--color-icon-handoff) 45%, transparent);\n  border: 1px solid var(--color-icon-success);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineStartDot--x6RNc:before {\n  content: '';\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 2px;\n  height: 2px;\n\n  background: var(--color-text-onbrand);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineStartDotHovered--Chqa7 {\n  background: var(--color-icon-handoff);\n}\n.annotation--annotationLineEndDot--Lsq0a {\n  position: absolute;\n  top: -3.5px;\n  left: -3px;\n\n  width: 6px;\n  height: 6px;\n\n  background: var(--color-icon-handoff);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineLeftAligned--W-1DZ {\n  transform: translate(0, -50%);\n}\n.annotation--annotationLineLeftAligned--W-1DZ .annotation--annotationLineStartDot--x6RNc {\n  left: auto;\n  right: 100%;\n}\n.annotation--annotationLineLeftAligned--W-1DZ .annotation--annotationLineEndDot--Lsq0a {\n  left: auto;\n  right: -3px;\n}\n.annotation--annotationLineAboveNode--WwqWD:not(.annotation--annotationLineLeftAligned--W-1DZ) {\n  border-left: 1px dashed var(--color-icon-handoff);\n  transform: translate(-100%, -0.5px);\n}\n.annotation--annotationLineBelowNode--JeafT .annotation--annotationLineStartDot--x6RNc {\n  top: auto;\n  bottom: -6.5px;\n}\n.annotation--annotationLineAboveNode--WwqWD .annotation--annotationLineEndDot--Lsq0a {\n  top: auto;\n  bottom: -3.5px;\n}\n.annotation--annotationLineBelowNode--JeafT:not(.annotation--annotationLineLeftAligned--W-1DZ) {\n  border-left: 1px dashed var(--color-icon-handoff);\n  border-bottom: 1px dashed var(--color-icon-handoff);\n  border-top: 0 none;\n\n  transform: translate(-100%, calc(-100% + 0.5px));\n}\n.annotation--annotationLineLeftAligned--W-1DZ.annotation--annotationLineAboveNode--WwqWD {\n  border-right: 1px dashed var(--color-icon-handoff);\n  transform: translate(0, -0.5px);\n}\n.annotation--annotationLineBelowNode--JeafT.annotation--annotationLineLeftAligned--W-1DZ {\n  border-right: 1px dashed var(--color-icon-handoff);\n  border-bottom: 1px dashed var(--color-icon-handoff);\n  border-top: 0 none;\n\n  transform: translate(0, calc(-100% + 0.5px));\n}\n.annotation--_annotationBase--MPByC {\n  background: var(--color-bg);\n  color: var(--color-text);\n\n  pointer-events: auto;\n\n  border-radius: 6px;\n  box-shadow: var(--elevation-200-canvas);\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 400;\n}\n.annotation--viewAnnotation--cA-c1 {\n\n  /* This avoids a size shift when adding a border */\n  border: 1px solid transparent;\n\n  -webkit-user-select: text;\n\n          user-select: text;\n}\n/* This is when the node is hovered (not annotation).\n   Clicking an already selected node does nothing so has no hover state. */\n.annotation--annotationHovered--QUHJv .annotation--viewAnnotation--cA-c1:not(.annotation--viewAnnotationSelected--UApdn),\n\n.annotation--viewAnnotation--cA-c1.annotation--canSelect--zG4JI:hover {\n  background: var(--color-bg-hover);\n}\n.annotation--viewAnnotationSelected--UApdn {\n  border: 1px solid var(--color-border-selected-strong);\n}\n.annotation--viewAnnotationFadedOut--7LQPE > * {\n  opacity: 0.5;\n}\n.annotation--createAnnotation--tWKSM .text-editor {\n    border: none;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor.ql-blank::after {\n    margin-top: -1.85em;\n  }\n.annotation--createAnnotation--tWKSM .text-editor:focus-within {\n    margin: 0;\n  }\n[data-fpl-version='ui3'] .annotation--createAnnotation--tWKSM .ql-container {\n      background: none;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor {\n    font-size: 13px;\n    line-height: 24px;\n    min-height: 38px;\n  }\n[data-fpl-version='ui3'] .annotation--createAnnotation--tWKSM .ql-editor {\n      min-height: 24px;\n      padding: 2px 6px;\n      margin: 4px 0 6px 0;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor ul,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ul,\n  .annotation--createAnnotation--tWKSM .ql-editor ol,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ol {\n    padding-left: 1.5em;\n  }\n.annotation--annotationHoverTarget--4y3Xc {\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  pointer-events: auto;\n  top: calc(50% - 12px);\n  /* This is relative to the left edge of the line end dot,\n     but we want to center it around the dot */\n  left: -9px;\n}\n.annotation--annotationHoverTargetLeftAligned--G1twU {\n  /* This is relative to the right edge of the line end dot,\n     but we want to center it around the dot.\n     Shift by parent width (100%) to account for when the\n     annotation is not hidden. */\n  left: calc(100% - 15px);\n}\n.annotation--annotationLeftAligned--FHQRp {\n  transform: translate(-100%, 0);\n  left: 8px;\n}\n.annotation--annotationRightAligned--VrH8e {\n  left: -8px;\n}\n.annotation--label--Tf5gK.quill-readonly .ql-editor {\n    font-size: 11px;\n  }\n.annotation--label--Tf5gK.quill-readonly .ql-editor h1,\n    .annotation--label--Tf5gK.quill-readonly .ql-editor h2 {\n      font-size: 14px;\n    }\n.annotation--label--Tf5gK.quill-readonly .ql-editor pre.ql-syntax {\n      white-space: pre-wrap;\n    }\n.annotation--label--Tf5gK.quill-readonly .ql-editor > * {\n      cursor: default;\n    }\n.annotation--label--Tf5gK .ql-container {\n    background-color: transparent;\n  }\n.annotation--contentContainer--vSuqs {\n  display: flex;\n  flex-direction: column;\n  padding: 6px 10px 8px 10px;\n  max-width: 220px;\n  box-sizing: border-box;\n}\n.annotation--contentContainer--vSuqs.annotation--viewAnnotation--cA-c1 {\n  gap: 4px;\n}\n.annotation--contentContainerNoProperties--pc2WE {\n  padding: 6px 10px 0 10px;\n}\n.annotation--contentContainer--vSuqs.annotation--viewAnnotation--cA-c1 {\n  padding: 8px;\n}\n.annotation--createAnnotation--tWKSM .annotation--contentContainer--vSuqs {\n  /* Fixed width when authoring */\n  width: 220px;\n}\n.annotation--properties--1p6UF {\n  display: grid;\n  grid-template-columns: min-content auto;\n}\n.annotation--createAnnotation--tWKSM .annotation--properties--1p6UF {\n  padding: 0 6px;\n}\n.annotation--propertyDisplayLabel--PQ2vF,\n.annotation--selectedPropertyDisplayLabel--AtFEJ {\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n\n  padding-right: 12px;\n}\n.annotation--selectedPropertyDisplayLabel--AtFEJ {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n\n  margin-left: -8px;\n  padding-left: 8px;\n}\n.annotation--selectedPropertyValueWrapper--OyM0X {\n  display: flex;\n\n  width: calc(100% + 4px);\n\n  overflow: hidden;\n}\n.annotation--selectedPropertyDisplayLabel--AtFEJ,\n.annotation--selectedPropertyValue--wwu2U {\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.annotation--propertyDisplayLabel--PQ2vF,\n.annotation--propertyDisplayValue--bxdp7,\n.annotation--selectedPropertyDisplayLabel--AtFEJ,\n.annotation--selectedPropertyValueWrapper--OyM0X {\n  margin-top: 4px;\n}\n/* Don't add margin top to first \"row\" of grid */\n.annotation--propertyDisplayLabel--PQ2vF:first-child,\n.annotation--propertyDisplayLabel--PQ2vF:first-child + .annotation--propertyDisplayValue--bxdp7,\n.annotation--selectedPropertyDisplayLabel--AtFEJ:first-child,\n.annotation--selectedPropertyDisplayLabel--AtFEJ:first-child + .annotation--selectedPropertyValueWrapper--OyM0X {\n  margin-top: 0;\n}\n.annotation--propertyDisplayValue--bxdp7 {\n  overflow: hidden;\n}\n.annotation--noValue--HHQOU {\n  color: var(--color-text-secondary);\n}\n.annotation--selectedPropertyValue--wwu2U {\n  overflow: hidden;\n\n  flex: 1 1 100%;\n}\n.annotation--selectedPropertyDelete--DMdrA {\n  display: flex;\n  align-items: center;\n\n  padding: 0 4px 0 12px;\n\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.annotation--selectedPropertyDeleteButton--rko2T {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 16px;\n\n  width: 16px;\n  height: 16px;\n\n  cursor: pointer;\n\n  font-size: 0;\n\n  background: transparent;\n  border: 0 none;\n  border-radius: 2px;\n  box-sizing: content-box;\n\n  padding: 0;\n}\n.annotation--selectedPropertyDeleteButton--rko2T:hover {\n    background: var(--color-bg-tertiary);\n  }\n.annotation--propertyOption--GJWeu {\n\n  background: transparent;\n  color: var(--color-text);\n  border: none;\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 32px;\n  padding: 0px 16px;\n  gap: 8px;\n\n  font-family: Inter;\n  font-size: 13px;\n  font-weight: 400;\n}\n.annotation--propertyOption--GJWeu:focus {\n    outline: none;\n  }\n.annotation--propertyDivider--Q3tgS {\n  height: 1px;\n  background: var(--color-border);\n  margin: 8px 0;\n}\n.annotation--propertyOptionIcon---NJse {\n  width: 16px;\n}\n.annotation--propertyOptionIconSvg--LypST {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.annotation--propertyOptionIconLabel--vFND- {\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  gap: 8px;\n}\n.annotation--allPropertiesAdded--KzT8m {\n  padding: 0 12px;\n  height: 32px;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n}\n.annotation--hoveredProperty--ZOJgv {\n  background: var(--color-bg-hover);\n}\n.annotation--preview--SrnLk {\n  color: var(--color-text-secondary);\n}\n.annotation--propertyValue--yhAB- {\n}\n.annotation--icon--w1enR svg {\n  fill: var(--color-icon);\n}\n.annotation--icon--w1enR[aria-disabled='true'] svg {\n  fill: var(--color-icon-disabled);\n}\n.annotation--chit--3je6E {\n  width: 12px;\n  height: 12px;\n  border-radius: 2px;\n  display: flex;\n  overflow: hidden;\n  margin: 1px 2px 1px 0;\n  flex-shrink: 0;\n  border: 1px solid var(--color-border);\n}\n.annotation--chit--3je6E svg {\n    width: 12px;\n    height: 12px;\n  }\n.annotation--styleChit--yCQ3O {\n  border: none;\n}\n.annotation--chitInline--vG6cM {\n  margin: 0;\n}\n.annotation--solidPaint--ClR6h {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.annotation--solidPaintValue--9PQMf {\n}\n.annotation--authoringRow--cIo3- {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  padding: 0 4px 4px 8px;\n}\n[data-fpl-version='ui3'] .annotation--authoringRow--cIo3- {\n    padding: 0 8px 4px 8px;\n  }\n.annotation--addPropertyButton--67vPO {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 8px;\n  background-color: transparent;\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 0 8px;\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 500;\n  height: 24px;\n}\n.annotation--addPropertyButton--67vPO.annotation--active--Q00x6 {\n    background-color: var(--color-bg-pressed);\n  }\n.annotation--addPropertyButton--67vPO:focus-visible {\n    border-color: var(--color-border-selected);\n  }\n.annotation--plusIcon--Ove-l {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 16px;\n  width: 16px;\n  flex: 0 0 16px;\n  line-height: 16px;\n  fill: var(--color-icon);\n}\n.annotation--dropdown--WLrjl {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  padding: 8px 0;\n  top: calc(100% + 8px);\n  left: 0;\n  width: 220px;\n}\n.annotation--coloredProperty--OTQ6l {\n  display: flex;\n  align-items: center;\n  justify-content: left;\n}\n.annotation--coloredProperty--OTQ6l > span {\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n.annotation--paddingProperty--ckvG6 > span {\n    background: var(--color-bginspectpadding);\n    color: var(--color-textoninspectpadding);\n  }\n.annotation--spacingProperty--RCjSM > span {\n    background: var(--color-bginspectspacing);\n    color: var(--color-textoninspectspacing);\n  }\n.annotation--mixedValues--Z0qIk {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.annotation--variablePill--VNxoI {\n  height: 16px;\n  padding: 0 4px;\n}\n.annotation--multipleVariableWrapper--OW3M1 {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  flex-direction: row;\n  align-items: center;\n}\n.annotation--multipleVariableWrapper--OW3M1.annotation--vertical--zmpVv {\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n.annotation--multipleVariableValue--5-5xk {\n  overflow: hidden;\n  align-self: stretch;\n}\n",nT.N].join("\n"),e.append(t),r(e)}},[]),a.createElement("div",{ref:n,"data-testid":"annotation-renderer-shadow-dom-container",className:eQ},l&&(0,G.createPortal)(t,l))}function nA(){let e=(0,l.wA)(),t=(0,g.uQ)(),n=(0,l.d4)(e=>e.isFullscreenDocumentLoaded),r=(0,y.J2)(i.Ez5.uiState().showAnnotations),o=(0,K.dH)(),s=(0,ee._X)({subscribeToUpdates_expensive:!0}),c=(0,y.J2)((0,Q.d)().lockMouseMoves);a.useEffect(()=>{c&&s.zoomScale<.05&&(0,Q.d)().lockMouseMoves.set(!1)},[c,s]);let[d,u]=(0,X.fp)(en.J);(0,a.useEffect)(()=>{r||u(!1)},[r,u]),(0,a.useEffect)(()=>{d&&e((0,q.UU)())},[e,d]);let[m,p]=(0,a.useState)({}),{nodesWithAnnotationInfo:f,annotationsBeingViewed:h,newAnnotationNodeInfo:_}=function(e,t){let n=(0,l.d4)(e=>e.mirror.appModel.currentPage),r=(0,y.J2)(i.Ez5.annotationObserver().annotationInfoByTlf),o=(0,K.dH)(),s=(0,g.uQ)(),c=(0,X.md)(en.J),d=(0,y.J2)(i.Ez5.devHandoffState().focusMode),u=(0,y.J2)(i.Ez5.devHandoffState().focusNodeId),m=(0,M.hA)(),p=(0,et.Fk)((e,t)=>e.get(t)?(0,$.qT)(e,t):[],n),{tlfsWithNodes:f,newAnnotationNode:h}=(0,et.Fk)((e,t,n,a,l,r,o,s,c,d)=>{let u=[];for(let n of o.keys()){let a=e.get(n);a&&a.containingCanvas===t&&(d?(0,$.hD)(e,n,e=>{e.guid===d&&u.push(n)}):u.push(n))}if(s&&(n===i.NLJ.ANNOTATE||a)){let t=(0,$.kh)(e,s)||e.get(s);t?.guid&&!o.has(t.guid)&&u.push(t.guid)}let m=null;if(J.z4.getIsExtension()&&l&&r){let t=(0,$.kh)(e,r)||e.get(r);t?.guid&&(u=[t?.guid])}let p=u.map(t=>{let n=e.get(t),{nodes:l,tlfContainsSelectedNode:r,newAnnotationNode:i}=function e(t,n,a=[],l){let r=!1,i=null;if(t){if(t.guid===n&&(r=!0),"SECTION"===t.type)return{nodes:[],tlfContainsSelectedNode:r,newAnnotationNode:i};t.childrenNodes.forEach(t=>{let{nodes:o,tlfContainsSelectedNode:s,newAnnotationNode:c}=e(t,n,a,l);return r=r||s,i=i||c,o}),t.annotations.length>0&&t.visible?a.push(t):l&&t.guid===n&&(i=t)}return{nodes:a,newAnnotationNode:i,tlfContainsSelectedNode:r}}(n,s,[],a);return i&&n&&(m={node:i,tlf:t}),{nodes:l,tlfContainsSelectedNode:r,topLevelFrameNode:n}});return c.forEach(e=>{o.has(e.guid)||p.push({nodes:[],tlfContainsSelectedNode:!1,topLevelFrameNode:e})}),{tlfsWithNodes:p,newAnnotationNode:m}},n,o,c,d,u,r,s,p,m),{annotationsBeingViewed:_,nodesWithAnnotationInfo:E}=(0,a.useMemo)(()=>{let n={x:e.offsetX,y:e.offsetY},a=f.map(({nodes:a,tlfContainsSelectedNode:l,topLevelFrameNode:r})=>{if(!r||!r.isAlive())return null;let i={x:r.absoluteBoundingBox.x,y:r.absoluteBoundingBox.y,width:r.absoluteBoundingBox.w,height:r.absoluteBoundingBox.h};if(0===a.length)return nP(i,(0,ee.qc)(e))?{topLevelFrameNode:r,nodes:a,nodesWithFinalPositionData:[],shouldMinimize:!1,originalShouldMinimize:!1,tlfContainsSelectedNode:l,distanceFromCenter:nL({x:e.offsetX,y:e.offsetY},i),dimensionsWithAnnotations:i}:null;let o=.4>Math.max((i.width||0)*e.zoomScale/e.width,(i.height||0)*e.zoomScale/e.height)&&!l,s=0,c=0,d=a.map(n=>{let a=t[n.guid]||{width:0,height:0},l=ni(n,r,e);return l.isLeftAligned?s=Math.max(s,24+a.width/e.zoomScale):c=Math.max(c,24+a.width/e.zoomScale),{...l,height:t[n.guid]?.height||0,node:n,tlfGuid:r.guid,shouldMinimize:o}}).sort((e,t)=>e.offsetY-t.offsetY),u=ns(e,d,o),m=1/0,p=-1/0;u.forEach(t=>{let n=t.height/e.zoomScale,a=t.offsetY/e.zoomScale+e.offsetY-n/2;m=Math.min(m,a),p=Math.max(p,a+n)});let f=Math.min(i.y,m),g=Math.max(i.y+i.height,p),h={x:i.x-s,y:f,width:i.width+s+c,height:g-f};return nP(h,(0,ee.qc)(e))?(l&&(n={x:h.x+h.width/2,y:h.y+h.height/2}),{topLevelFrameNode:r,nodes:a,nodesWithFinalPositionData:u,shouldMinimize:o,originalShouldMinimize:o,tlfContainsSelectedNode:l,distanceFromCenter:nL({x:e.offsetX,y:e.offsetY},h),dimensionsWithAnnotations:h}):null}).filter(W.isNotNullish).sort((e,t)=>nL(n,e.dimensionsWithAnnotations)-nL(n,t.dimensionsWithAnnotations)),l=a.filter(e=>!e.shouldMinimize);for(let e=0;e<l.length-1;e++){let t=l[e];for(let n=e+1;n<l.length;n++){let e=l[n];nP(t.dimensionsWithAnnotations,e.dimensionsWithAnnotations)&&(t.tlfContainsSelectedNode?e.shouldMinimize=!0:e.tlfContainsSelectedNode?t.shouldMinimize=!0:t.distanceFromCenter<e.distanceFromCenter?e.shouldMinimize=!0:t.shouldMinimize=!0)}}let r=[],i=a.flatMap(({nodes:n,nodesWithFinalPositionData:a,shouldMinimize:l,originalShouldMinimize:i,topLevelFrameNode:o})=>{if(n.length>0&&!l&&r.push({tlf:o.guid,numNodes:n.length}),l===i)return a;let s=n.map(n=>({...ni(n,o,e),height:t[n.guid]?.height||0,node:n,tlfGuid:o.guid,shouldMinimize:l})).sort((e,t)=>e.offsetY-t.offsetY);return ns(e,s,l)});return{annotationsBeingViewed:r,nodesWithAnnotationInfo:i}},[t,f,e]);return{nodesWithAnnotationInfo:E,annotationsBeingViewed:_,newAnnotationNodeInfo:(0,a.useMemo)(()=>{if(!h)return null;let n=function(e,t){let{x:n,y:a,w:l,h:r}=e.absoluteBoundingBox,{offsetX:o,offsetY:s,zoomScale:c,width:d}=t,u=i.Ez5.isFullscreenYScrollbarNeeded(),m=Math.min(20*c,20),p=n+l,f=(n-o)*c+d/2>nn+8&&!((o-p)*c+d/2>nn+(u?16:4));return f?{lineWidth:m,offsetX:(n-o)*c-m,offsetY:(a+r/2-s)*c,isLeftAligned:f}:{lineWidth:m,offsetX:(p-o)*c+m,offsetY:(a+r/2-s)*c,isLeftAligned:f}}(h.node,e);return{...n,height:t[h.node.guid]?.height||0,newAnnotationNode:h,tlfGuid:h.tlf,shouldMinimize:!1,node:h.node,lineAlignment:nr.ALIGNED,lineHeight:0,originalLineWidth:n.lineWidth}},[t,h,e])}}(s,m),E=(0,Y.IL)(),v=h.length,b=h.reduce((e,t)=>e+t.numNodes,0);(0,a.useEffect)(()=>{v&&o===i.NLJ.SELECT&&E("showing_annotations_for_tlfs",{topLevelFrameCount:v,nodesWithAnnotationsCount:b})},[v,b,o,E]);let w=(0,j.v_)("annotationsKeyDown","keydown",(0,a.useCallback)(e=>{o===i.NLJ.ANNOTATE&&!d&&t&&"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(u(!0),e.stopPropagation())},[o,d,t,u]));if(a.useEffect(()=>(document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)),[w]),a.useEffect(()=>{Z.NB?.setIsShowingAnnotations(0!==h.length)},[h]),!n||!r&&o!==i.NLJ.ANNOTATE)return null;function N(e,t){(m[e]?.height!==t.height||m[e]?.width!==t.width)&&p(n=>({...n,[e]:t}))}let x=null,k=f.map(e=>d&&e.node.guid===t?(x=a.createElement(nu,{nodeInfo:e,viewportInfo:s,setDimensions:N}),null):a.createElement(nb,{key:e.node.guid,nodeInfo:e,viewportInfo:s,setDimensions:N})),I=d&&_&&a.createElement(nu,{nodeInfo:_,viewportInfo:s,setDimensions:N});return a.createElement(a.Fragment,null,a.createElement(nS,null,k),x,I)}function nP(e,t){let n=e.x,a=e.x+e.width,l=e.y,r=e.y+e.height,i=t.x,o=t.x+t.width,s=t.y,c=t.y+t.height;return n<o&&a>i&&l<c&&r>s}function nL(e,t){let n={x:t.x+t.width/2,y:t.y+t.height/2};return Math.hypot(n.x-e.x,n.y-e.y)}function nO(){return a.createElement(V.p,null,a.createElement(nA,null))}var nD=n(152811),nM=n(511232),nR=n(344076),nF=n(54900),nB=n(319008),nK=n(959369),nU=n(656764),nz=n(229831),nH=n(304657),nV=n(625693),nG=n(82963),nW=n(199465);function nY({children:e}){return a.createElement(nW.G.Provider,{value:{loggerEventName:"dev_handoff_navigate"}},e)}var nX=n(668196),nj=n(278139),nq=n(109176);let nQ=a.memo(({shouldShowDragAndDropBorder:e})=>{let t=(0,l.d4)(e=>e.progressBarState),n=(0,K.p8)("loadingEmbeds"),c=!!(0,D._I)(),d=(0,M.l7)(),u=(0,z.Lk)(),m=(0,a.useRef)(null),p=(0,l.d4)(e=>e.openFile),f=p?p.key:"",g=(0,l.d4)(e=>e.universalInsertModal),h=(0,l.wA)();return(0,R.Gb)(f),(0,U.W)(),a.createElement(nY,null,a.createElement(F.ED,null),a.createElement(nX.sk,null,t.mode!==i.Oin.OFF&&a.createElement("div",{className:nq._q}),a.createElement(nD.pO,{initialFilterState:{currentPage:!0}},n.map(e=>a.createElement(nF._,{key:`loading-embed-${e}`,nodeId:e})),a.createElement(nj.qn,null),a.createElement(nG.u,null),c&&a.createElement(L,null),a.createElement(nR.GR,null),a.createElement(nR.bu,null),a.createElement(nz.J,null),!d&&a.createElement(nO,null),a.createElement(nj.XI,{commentsDetailContainerRef:m}),a.createElement(nB.Nz,null),a.createElement("div",{ref:m}),!(0,B.T)()&&a.createElement(o.tH,{boundaryKey:"DevModeLeftPanel",fallback:o.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.eBU.DEVELOPER_TOOLS}},a.createElement(O.O,null)),a.createElement(nM.G,null,d?null:a.createElement(O.w,null)),e&&a.createElement(nB.X5,null)),a.createElement(H.A,{isFigjamEditor:!1,isDesignEditor:!1,isSlidesEditor:!1,openFile:p}),a.createElement(nU.l,null),g.showing&&a.createElement(o.tH,{boundaryKey:"FdBrowseResourceModal",onError:()=>{h(s.F.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:o.H4.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(nH.k,null))),u&&a.createElement(nK.K,{className:nq.PA},a.createElement(nV.s,null)))})},606319:(e,t,n)=>{n.d(t,{v:()=>R});var a=n(411855),l=n(188507),r=n(587670),i=n(629019),o=n.n(i),s=n(966712),c=n(374626);n(30637);var d=n(448169),u=n(692609),m=n(441088),p=n(694687),f=n(241437),g=n(100197),h=n(757782),_=n(776250),E=n(38329),y=n(646240),v=n(915440),b=n(742808),w=n(727749),N=n(293017),x=n(650769),k=n(198371),I=n(756085),T=n(788744),C=n(315329),S=n(279453),A=n(278139);function P(){return(0,C.o)(),a.createElement(a.Fragment,null)}function L(e){let t=(0,l.wA)(),n=(0,l.d4)(e=>e.showEditButton),i=(0,l.d4)(e=>e.fileByKey),o=(0,l.d4)(e=>e.userAnalyticsData),c=(0,l.d4)(e=>e.user),d=(0,l.d4)(e=>e.openFile?.canEdit),u=(0,l.d4)(e=>null!=e.openFile),{fileKey:m,orgId:p}=e,f=null!=m&&!!i[m]?.is_favorited,g=(0,v.Rs)(S.jJU,{fileKey:m||""},{enabled:!!m});a.useEffect(()=>{if("loaded"===g.status){let e=g.data.file?.developerRelatedLinks,t=e?.reduce((e,t)=>{let n=e.get(t.nodeId)??[];return n.push(t),e.set(t.nodeId,n),e},new Map);if(t)try{r.glU.setDeveloperRelatedLinks(t)}catch{}}},[g]);let h=a.useRef(!1),L=(0,y.Xr)(k.Kc),O=(0,v.Rs)(S.JKh,{fileKey:m||""},{enabled:!!m});a.useLayoutEffect(()=>{if("loaded"!==O.status)return;let e=O.data.figFileWorkshopMode;L(e?e.expiresAt:null),e&&e.expiresAt>new Date&&(h.current=!0),t(x.lX(e?{id:e.id,until:e.expiresAt,loaded:!0}:{loaded:!0}))},[O,t,L]);let D=a.useRef(null),M=a.useRef(!1),R=a.useRef(null),F=a.useRef(null),B=(0,v.Rs)(S.ehp,{fileKey:m||""},{enabled:!!m});a.useLayoutEffect(()=>{if("loaded"!==B.status)return;let e=B.data.file;if(null===D.current){let t=(0,s.Ay)().editing_file;null!==e&&t&&e.key===t.key&&!!t.can_edit!==e.canEdit&&((0,_.sx)("open_file_inconsistent_permission",{file_key:e.key,lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit,user:E.D.getState().user?.id},{batchRequest:!0}),(0,b.Rh)("open_file.inconsistent_permissions",{lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit}))}if((0,A.X_)({openFile:e,wasInWorkshop:h.current,previousCanEdit:D.current,wasInUnclaimedTryFile:M.current,previousCanView:F.current,previousFileKey:R.current?.key||null},t),null==e)return;F.current=e.canView,D.current=e.canEdit,h.current&&e.isTryFile&&(M.current=!0);let a=E.D.getState().selectedView;"fullscreen"===a.view&&a.fileKey===e?.key&&R.current!==e&&(t(N.UC({openFile:{...e,showEditButton:n,isFavorited:f}})),R.current=e)},[B,t,n,f,u]);let K=(0,I.Be)();return a.useLayoutEffect(()=>{let e=E.D.getState().selectedView;if(!K.loaded||"fullscreen"!==e.view)return;let{plugins:n,widgets:a,orgPlugins:l,orgWidgets:r}=K,i={...n,...l},o={...a,...r};t(w.g3(i)),t(w.zI(o))},[t,p,K]),(0,T.rB)(),d&&(0,C.n)(o,c?.email)?a.createElement(P,null):a.createElement(a.Fragment,null)}var O=n(354235),D=n(109176);function M(){return(0,u.co)(),null}function R({children:e,setShouldShowDragAndDropBorder:t,onPointerDown:n=A.j6,ignoreInteractionTest:i=!1,isDragTarget:u=!1}){let _=(0,l.d4)(e=>e.modalShown),E=(0,m.T)();(0,c.md)(f.Pp);let y=(0,g.ut)(r.Ez5?.devHandoffState()?.focusMode,!1),v=(0,l.d4)(e=>e.openFile),b=v?v.key:"",w=(0,p.dq)(),N=a.useRef(!1);return a.createElement(O.d,null,a.createElement(d.Y,{isDragTarget:()=>u,onTargetDragEnter:()=>{t(!0)},onTargetDragLeave:()=>{t(!1)},onTargetDrop:()=>{t(!1)},style:(0,s.kc)().fullscreen_page_view_inversion?{flex:"1 1 auto"}:void 0},a.createElement("div",{"aria-hidden":!!_,className:o()(D.nP,E&&y&&D.$J),onPointerDown:e=>{n(e,N)},style:(0,s.kc)().fullscreen_page_view_inversion?{height:"100%"}:void 0},a.createElement(L,{fileKey:b||null,orgId:w}),e,a.createElement(h.G,null),a.createElement(M,null),!1,!1)))}},276432:(e,t,n)=>{n.d(t,{X:()=>L});var a=n(411855),l=n(188507),r=n(648836),i=n(481483),o=n(544750),s=n(75888),c=n(677859),d=n(587670),u=n(86625),m=n(629019),p=n.n(m),f=n(498750),g=n(541524),h=n(100197),_=n(7959),E=n(630978),y=n(695342),v=n(221537),b=n(12519);let w="stack_controls--input--gK1jo text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",N="stack_controls--scrubbableControl--b1ChI",x="stack_controls--inputSvg--wFizL",k="stack_controls--stackSpacingRow--Uus3H";function I(){let e=(0,h.J2)(d.Ez5.canvasViewState().focusedStackRegion);if(!e)return null;let{region:t,focus:n}=e;return t===d.RN9.SPACING?a.createElement(C,{focusOnMount:n}):t===d.RN9.COUNTER_SPACING?a.createElement(S,{focusOnMount:n}):a.createElement(A,{stackRegion:t,focusOnMount:n})}let T=e=>{if(e.keyCode===f.Uz.TAB){e.preventDefault(),e.currentTarget.blur();let t=e.shiftKey;d.Qa7.tabActiveStackRegion(t)}};function C({focusOnMount:e}){return a.createElement(_.fI,{className:k},a.createElement(b.KI,{focusOnMount:e,outerClassName:N,inputClassName:w,svgClassName:x,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:T,onPaste:P,noBorderOnFocus:!0,recordingKey:"stackSpacingControl",inputTestId:"stackSpacingControl",source:"canvas",onCanvasUI:!0}))}function S({focusOnMount:e}){return a.createElement(_.fI,{className:k},a.createElement(E.q,{focusOnMount:e,outerClassName:N,inputClassName:w,svgClassName:x,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:T,onPaste:P,noBorderOnFocus:!0,recordingKey:"stackCounterSpacingControl",inputTestId:"stackCounterSpacingControl",source:"canvas",onCanvasUI:!0}))}function A({stackRegion:e,focusOnMount:t}){let[n]=(0,v.HF)(e),l=Array.isArray(n)?n.length:0;return e===d.RN9.SPACING?null:a.createElement(_.fI,{className:p()("stack_controls--stackPaddingRow--40WUa",{"stack_controls--large--bJFUN":l>3})},a.createElement(y.s,{paddingSelection:e,focusOnMount:t,outerClassName:N,inputClassName:w,onBlur:d.Qa7.clearActiveStackRegion,onKeyDown:T,onPaste:P,noBorderOnFocus:!0,svgClassName:x,recordingKey:"stackPaddingControl",inputTestId:"stackPaddingControl",source:"canvas",disableVariablesEntryPoint:!0}))}function P(e){(0,g.gk)(e)&&(e.preventDefault(),e.currentTarget.blur(),u.l7.user("paste-in-stack",()=>{d.glU.triggerAction("paste",{})}))}let L=a.memo(function(){return(0,l.d4)(e=>e.mirror.appModel.isReadOnly)?null:a.createElement(O,null)});function O(){return a.createElement(r.k,{isShown:!0},a.createElement(s.IA,null,a.createElement(D,{testID:"DesignInlineMenu"})))}function D({testID:e}){let t=(0,l.d4)(e=>{let t=e.mirror.selectionProperties.stackMode;return 1===e.mirror.selectionProperties.numSelected&&("HORIZONTAL"===t||"VERTICAL"===t)});return(0,l.d4)(e=>{let t=e.mirror.selectionProperties.selectedWidgetInfo;return!!(1===e.mirror.selectionProperties.numSelected&&t?.propertyMenu.length)})?a.createElement(c.W1,{size:"small",testID:e},a.createElement(i.jk,null),a.createElement(o.x,null)):t?a.createElement(c.W1,{testID:e,darkModePreferred:!0},a.createElement(I,{key:"stackControls"})):null}},922126:(e,t,n)=>{n.d(t,{P:()=>N});var a=n(411855),l=n(326331),r=n(327006),i=n(629019),o=n.n(i),s=n(91408),c=n(374626),d=n(163023),u=n(939863),m=n(259927),p=n(226055),f=n(457630),g=n(544403),h=n(719624),_=n(837746);let E="floating_layers_panel--isExpanded--qjuJR",y="floating_layers_panel--chevronIcon--rNFmc";var v=n(87616),b=n(440691);let w=(0,s.jz)(_.M$q);function N({children:e,title:t=null,nodeIcon:n=null,panelActions:i=null,onSizeChange:s,bottom:_,left:N,hide:x}){let[k,I]=a.useState(!1),T=(0,p.GS)(),C=a.useRef(null),S=(0,f.QU)({subscribeToUpdates_expensive:!0}),A=(0,c.md)(h.Sf),P=T?(S-(A?.current?.clientWidth??0))/2-w-6:S/2,[L,O]=a.useState(230),D=k?Math.min(L,P):230;return a.useEffect(()=>{s&&s(D)},[D,s]),a.createElement(g.wV,{className:o()("floating_layers_panel--container---6H4q",m.Dm,"devHandoffFloatingLayersPanel","pagesPanel"),style:{bottom:_,left:N,display:x?"none":void 0},ref:C,size:D,defaultSize:230,disableResizing:!k,side:"right",onResize:e=>{O(Math.min(Math.max(e,230),P))},id:"focus-floating-left-panel","data-cancel-insertable-resource-drag-and-drop":!0},a.createElement("div",{className:"floating_layers_panel--containerInner--GVica"},a.createElement("button",{className:o()("floating_layers_panel--header--YtDpH",{[E]:k}),onClick:function(){I(!k)}},!k&&n,a.createElement("div",{className:"floating_layers_panel--middle--QR7nt"},a.createElement("div",{className:o()("floating_layers_panel--title--pH3fr",{"floating_layers_panel--hasNoIconWhenCollapsed--F2ap6":!n&&!k})},(0,u.tx)("dev_handoff.tag.layers")),!k&&t),k&&i,T&&(k?a.createElement(l.r,{className:y}):a.createElement(r.a,{className:y})),!T&&(k?a.createElement(d.B,{className:y,svg:v.A}):a.createElement(d.B,{className:y,svg:b.A}))),a.createElement("div",{className:o()("floating_layers_panel--listContainer--Kr9-C",{[E]:k})},e)))}},367802:(e,t,n)=>{n.d(t,{s:()=>k});var a=n(411855),l=n(188507),r=n(517333),i=n(563706),o=n(140908),s=n(818),c=n(226055),d=n(227944),u=n(29680),m=n(7860),p=n(362473),f=n(334290),g=n(765612),h=n(335682),_=n(168104),E=n(848761),y=n(135726),v=n(778433);function b(){let e=(0,h.q5)();return a.createElement(_.O,null,a.createElement("div",{className:"design_dev_handoff_collapsed_left_panel_toggle--fileName--3AMNd"},a.createElement(y.n,null)),e&&a.createElement(E.s,{openFile:e}),a.createElement(f.n8,null),a.createElement(v.A,null))}var w=n(358097),N=n(107190),x=n(145479);function k(){let e=(0,c.GS)(),t=(0,s.b)(),{isLeftPanelCollapsed:n}=(0,a.useContext)(m.t),r=(0,u.aV)(),i=(0,l.d4)(e=>e.mirror.appModel.showUi);return e&&!r&&i?a.createElement(w._,{isInsetEditor:t,isCollapsed:n},a.createElement(f.xG,null),n?a.createElement(b,null):a.createElement(I,null)):null}function I(){let e=(0,d.Zr)("toggle-sidebar"),t=(0,o.Ut)()&&!r.eD&&!i.nW;return a.createElement("div",{className:"design_dev_handoff_left_panel_island--expandedIconSection--8-YFf"},a.createElement(f.n8,null),a.createElement(N.E,null),a.createElement(x.J,null),a.createElement(p.A,null),t&&a.createElement(g.$0,null),e&&a.createElement(v.n,null))}},358097:(e,t,n)=>{n.d(t,{_:()=>m});var a=n(411855),l=n(188507),r=n(520411),i=n(629019),o=n.n(i),s=n(259927),c=n(316081),d=n(187882),u=n(865636);function m({isCollapsed:e,isInsetEditor:t,children:n,minWidth:i=d.Yh,maxWidth:m=d.g_}){let p=a.useRef(null),f=function({isShowing:e,isCollapsed:t,ref:n,minWidth:r,maxWidth:i}){let o=(0,l.d4)(e=>e.isRenaming),s=(0,d.GQ)(r,i),c=(0,u.E)(n,t&&!o&&e);return(0,a.useMemo)(()=>t?o&&"number"==typeof c?{width:Math.max(r,c)}:{maxWidth:i}:{width:s},[t,o,s,c,r,i])}({isCollapsed:e,isShowing:!0,ref:p,minWidth:i,maxWidth:m}),g=(0,r.U1)(),h=(0,a.useCallback)(t=>{(0,c.cZ)(p,t),g(e?t:null)},[g,e]);return a.createElement("div",{className:o()(s.Dm,"left_panel_island_container--islandContainer--uM5h6",{"left_panel_island_container--collapsed--OEOq4":e,"left_panel_island_container--withInsetEditor--XKTTi":t&&!e}),style:f,ref:h},n)}},237701:(e,t,n)=>{n.d(t,{n:()=>l});var a=n(411855);function l(){return a.createElement("div",{className:"left_panel_island_spacer--islandSpacer--5ynLJ"})}},168104:(e,t,n)=>{n.d(t,{O:()=>s});var a=n(411855),l=n(75395),r=n(939863),i=n(356390),o=n(498606);function s({children:e}){let t=(0,r.t)("fullscreen_actions.expand-ui");return a.createElement(l.E,{className:"toggle_expanded_sidebar_button--button--brZmz",onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":o.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},e)}},778433:(e,t,n)=>{n.d(t,{n:()=>u,A:()=>m});var a=n(411855),l=n(140838),r=n(204930),i=n(939863),o=n(356390),s=n(213190),c=n(498606),d=n(147723);function u(){let e=(0,s.qM)()?(0,i.t)("fullscreen_actions.expand-ui"):(0,i.t)("fullscreen_actions.minimize-ui");return a.createElement(r.J,{"aria-label":e,onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},a.createElement(l.C,null))}function m(){return a.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},a.createElement(l.C,null))}},959369:(e,t,n)=>{n.d(t,{K:()=>E});var a=n(411855),l=n(629019),r=n.n(l),i=n(91408),o=n(374626),s=n(603689),c=n(259927),d=n(809831),u=n(506599),m=n(226055),p=n(617453),f=n(100197),g=n(239671),h=n(354711),_=n(837746);function E(e){let t;let n=(0,s.lz)(),l=(0,p.qw)(),E=(0,d.E3)(),{isPropertiesPanelCollapsed:y}=(0,u.iT)(),v=(0,o.md)(h.Ds),b=(0,f.J2)((0,p.UK)().renderRulers);return(0,m.GS)()&&(t={right:`calc(${E===g.nT.DevHandoff?n:l}px + ${(0,i.jz)(_.M$q)}px)`,top:`${(0,i.jz)(_.M$q)}px`},y&&(t={...t,right:`calc(${v}px + ${(0,i.jz)(_.M$q)}px)`}),b&&(t={...t,top:`calc(${(0,i.jz)(_.M$q)}px + ${(0,i.jz)(_.y9S)}px)`})),a.createElement("div",{style:t,className:r()("nav_container--flexContainer--3Us-2 nav_container--baseContainer--QideS overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",c.Dm,e.className)},e.children)}},576230:(e,t,n)=>{n.d(t,{X:()=>tv});var a=n(411855),l=n(109388),r=n(188507),i=n(634832),o=n(675678),s=n(587670),c=n(86625),d=n(707458),u=n(629019),m=n.n(u),p=n(841563),f=n.n(p),g=n(126049),h=n(776250),_=n(91408),E=n(737433),y=n(966712),v=n(374626),b=n(498750),w=n(668876),N=n(951158),x=n(563706),k=n(153234),I=n(776621),T=n(554322),C=n(572206),S=n(448169),A=n(355819),P=n(256975),L=n(738269),O=n(259927),D=n(13379),M=n(226055),R=n(83909),F=n(356390),B=n(617453),K=n(634480),U=n(843495),z=n(497306),H=n(698993),V=n(860178),G=n(69961),W=n(100197),Y=n(939562),X=n(601607);class j{constructor(e,t,n,a,l={}){this.component=e,this.onMouseDown=t,this.onMouseMove=n,this.onMouseUp=a,this.options=l,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0&&this.shouldAdaptTouch(e.touches[0])){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let n=!1;if(this.deferredDragStart=a=>{if(n)return!1;let l=a.clientX-t.clientX,r=a.clientY-t.clientY;return!(10>Math.sqrt(l*l+r*r))&&(n=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let a=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==a||n||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,n){this.oldTouch=n;let a=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});return Object.defineProperty(a,"target",{value:t.target}),Object.defineProperty(a,"currentTarget",{value:t.currentTarget}),a}shouldAdaptTouch(e){if(!this.options.observeInsideOverflowScroll){let t=l.findDOMNode(this.component);for(let n=e.target;n;n=n.parentElement){let a=getComputedStyle(n).overflowY;if("scroll"===a||"auto"===a){let t=n.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<t.right&&e.clientY>=t.top&&e.clientY<t.bottom)return!1}if(n===t)break}}return!0}}var q=n(378762),Q=n(273226),J=n(402609),Z=n(638889),$=n(939863),ee=n(101505),et=n(251960),en=n(456104),ea=n(752353),el=n(126911),er=n(397065),ei=n(340514),eo=n(163023),es=n(470504),ec=n(278733),ed=n(283942),eu=n(862442),em=n(869156),ep=n(457630),ef=n(678340),eg=n(301462),eh=n(498606),e_=n(219101),eE=n(36127),ey=n(739212);let ev=(0,a.createContext)(null);function eb({children:e}){let t=(0,a.useRef)(0),n=(0,a.useRef)({}).current,l=(0,a.useRef)(new Set).current,r=(0,a.useCallback)(()=>t.current,[]),i=(0,a.useCallback)(()=>{for(let e of l)e(t.current)},[l]),o=(0,a.useCallback)(()=>{let e=Math.max(...Object.values(n),0);e!==t.current&&(t.current=e,i())},[n,i]),s=(0,a.useCallback)((e,t)=>{n[e]=t,o()},[n,o]),c=(0,a.useCallback)(e=>{delete n[e],o()},[n,o]),d=(0,a.useCallback)(e=>{l.add(e)},[l]),u=(0,a.useCallback)(e=>{l.delete(e)},[l]),m=(0,a.useMemo)(()=>({getWidth:r,registerWidth:s,unregisterWidth:c,subscribe:d,unsubscribe:u}),[r,s,c,d,u]);return a.createElement(ev.Provider,{value:m},e)}let ew=()=>{let e=(0,a.useContext)(ev);if(!e)throw Error("useRowWidthsContext must be used within a RowWidthsProvider");return e};var eN=n(7959),ex=n(96328),ek=n(921100),eI=n(484248);function eT({modeNames:e}){let t=(0,M.GS)();if(0===e.length)return null;let n=1===e.length?e[0]:e[0]+" + "+(e.length-1);return a.createElement("div",{className:ek.Io,"data-testid":"variable-mode-pill","data-tooltip-type":eh.Ib.TEXT,"data-tooltip":(0,$.t)("variables.mode_pill.tooltip",{listOfModes:(0,ex.Yx)(e)})},!t&&a.createElement(eo.B,{className:ek.nW,svg:eI.A}),a.createElement("div",{className:ek.XW},n))}var eC=n(872429),eS=n(96796),eA=n(463420),eP=n(375597),eL=n(522739),eO=n(46481),eD=n(949207),eM=n(432023),eR=n(971068),eF=n(849295),eB=n(939967),eK=n(253099),eU=n(917925),ez=n(853993);function eH(){return a.createElement("div",{className:es.cx.flex.itemsCenter.justifyCenter.$},a.createElement("div",{className:ek.xE}))}class eV extends a.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let n=`[${t}]`,l=-1!==this.props.isLastMaskedAtLevels.indexOf(n),r=-1!==this.props.isMaskedAtLevels.indexOf(n),i=t===this.props.level&&this.props.mask,o=t===this.props.level&&this.props.hasChildren,s=m()(ek.dK,{[ek.TY]:this.props.displayOrder===eP.k.DOM,[ek.co]:this.props.horizontalScrollEnabled}),c=i||r||l;(this.props.horizontalScrollEnabled||!c)&&e.push(a.createElement("span",{key:t,className:ek.pZ})),l?e.push(a.createElement(eo.B,{key:`${t}-mask`,svg:o?eU.A:ez.A,className:s})):r?e.push(a.createElement(eo.B,{key:`${t}-mask`,svg:o?eK.A:eB.A,className:s})):i&&e.push(a.createElement(eo.B,{key:`${t}-mask`,svg:o?eF.A:eR.A,className:s})),this.props.hasBullet&&t===this.props.level?e.push(a.createElement(eL.D8,{"data-testid":"new-frame-bullet",key:"expand-caret",recordingKey:k.Pt(this.props,"expandCaret"),className:ek.OI,onMouseDown:this.expandMouseDown,role:"presentation"},a.createElement(eH,null))):o&&e.push(a.createElement(eL.D8,{key:"expand-caret",recordingKey:k.Pt(this.props,"expandCaret"),className:m()(ek.GE,{[ek.Fq]:this.props.horizontalScrollEnabled}),onMouseDown:this.expandMouseDown,role:"presentation"},a.createElement(eO.U,{svg:this.props.isExpanded?eD.A:eM.A},this.props.isExpanded?a.createElement(eS.O,null):a.createElement(eA.k,null))))}return e}render(){return a.createElement("span",{className:ek.Wm},this.renderNodeIndents())}}eV.displayName="Indents";var eG=n(371591),eW=n(201140);function eY(e){return a.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 5a3 3 0 0 1 6 0v2.025c.57.116 1 .62 1 1.225v3.5c0 .69-.56 1.25-1.25 1.25h-5.5C4.56 13 4 12.44 4 11.75v-3.5C4 7.56 4.56 7 5.25 7H10V5a2 2 0 1 0-4 0 .5.5 0 0 1-1 0m.25 3a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25z",clipRule:"evenodd"}))}var eX=n(533228),ej=n(238472),eq=n(787337),eQ=n(282046),eJ=n(953696);class eZ extends k.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=k.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t,n;return this.props.locked?(e=eq.A,t=eQ.A,n=a.createElement(eW.s,null)):this.props.isAncestorLocked?(e=ej.A,n=eX.v):(e=eJ.A,n=a.createElement(eY,null)),a.createElement("div",{className:ek.hz,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},a.createElement(eO.U,{svg:e,fallbackSvg:t},n))}}eZ.displayName="LockIcon";var e$=n(741944),e0=n(861726),e1=n(203910),e2=n(900607),e3=n(144919);class e5 extends k.o6{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=k.cZ(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.isAncestorHidden&&this.props.visible?(e=ej.A,t=eX.v):(e=this.props.visible?e3.A:e2.A,t=this.props.visible?a.createElement(e0.l,null):a.createElement(e1.f,null)),a.createElement("div",{className:ek.yk,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation,role:"presentation"},a.createElement(eO.U,{svg:e},t))}}e5.displayName="VisibleIcon";var e4=n(930269),e7=n(211254);let e8="layer-panel-onboarding-key";function e6(e){let t=(0,eC.cJ)(),n=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&e.isDefaultResponsiveSet&&(n=(0,$.t)("sites.panel.home")),e.shouldShowGuids){let t=s.Egt.getOverridePathForNode(e.guid);return`${n} (${e.guid}): [${t}]`}return n}function e9(e){let t=d.q.instance.get(e.guid),n=!!t&&t.isPrimaryResponsiveNode;return a.createElement("div",{className:es.cx.flex.$},n&&a.createElement("span",{className:es.cx.colorTextBrand.pr8.$},(0,$.t)("sites.panel.main")))}function te(e){let[t,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1),o=(0,eC.cJ)(),s=(0,v.md)(eE.bu)[e.guid];(0,a.useEffect)(()=>{n(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=e6({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),d=k.rf(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{eg.F.trackFromFullscreen("action_rename_selection",{source:"click"}),e.startRenaming(e.guid)}),u=(0,a.useRef)(null),p=(0,a.useCallback)(e=>{e&&(u.current=l.findDOMNode(e),u.current?.select())},[]),f=k.AF(e.recordingKey,"change",e=>{n(e.currentTarget?.value)}),g=k.v_(e.recordingKey,"keydown",t=>{if(!r){if(t.keyCode===b.Uz.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===b.Uz.ENTER)e.stopRenaming(!0,u.current?.value,c);else{if(t.keyCode!==b.Uz.TAB)return(0,ed.jr)(t,ed.W0.NO),k.aH;t.preventDefault(),e.stopRenaming(!0,u.current?.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),h=k.iQ(e.recordingKey,"blur",()=>{e.stopRenaming(!0,u.current?.value,c)}),_=(0,G.o3)(G.nt.ui3LayersVisualTreatment),E=e.horizontalScrollEnabled&&_;return a.createElement(a.Fragment,null,!e.hideSvg&&a.createElement(eG.Bf,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet,disabled:e.disabled,locked:e.locked,hovered:e.hovered,outOfView:e.outOfView,scrollLeft:e.scrollLeft,horizontalScrollEnabled:e.horizontalScrollEnabled,useUI3Icon:e.useUI3Icons}),(e.isThumbnail||e.isFavicon||e.isSocialImage)&&a.createElement(eo.B,{"data-tooltip":e.isFavicon?(0,$.t)("fullscreen.object_row.favicon"):e.isSocialImage?(0,$.t)("fullscreen.object_row.social_image"):(0,$.t)("fullscreen.object_row.file_thumbnail"),"data-tooltip-show-above":!0,"data-tooltip-type":eh.Ib.TEXT,className:ek.V3,svg:e7.A}),e.isRenaming&&a.createElement(eN.ks,{className:m()(ek.hF,e.inputTextOverridesClassName),ref:p,value:null!==t?t:e.name,onChange:f,onKeyDown:g,onBlur:h,onCompositionStart:()=>i(!0),onCompositionEnd:()=>i(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&a.createElement("span",{className:m()(ek.qg,e.staticTextOverridesClassName,{[es.cx.justifyBetween.$]:o}),onDoubleClick:e.focusOnSingleClick?void 0:d,onClick:e.focusOnSingleClick?d:void 0,dir:"auto"},e.horizontalScrollEnabled&&a.createElement("div",{className:ek.Xv,ref:e.layerNamePlaceholderRef},c),a.createElement("div",{className:m()(ek._k,{[ek.r]:!E||e.isHovered}),ref:e.layerNameRef},s&&s.name,!s&&c),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&a.createElement("div",{className:ek.pS},a.createElement(eT,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&o&&a.createElement(e9,{guid:e.guid})))}function tt(e){var t;let n=(0,a.useRef)(null),l=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,v.md)(ea.eC),o=(t=e.guid,(0,v.md)(ea.Fj).has(t)),s=(0,M.GS)(),c=s&&(0,y.kc)().ui3_layers_panel,[d,u]=(0,a.useState)(!1),p=e6({abbreviatedStateName:e.abbreviatedStateName,name:e.name,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),f=(0,a.useCallback)(()=>{let e=n.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),g=(0,a.useCallback)(()=>{u(f())},[u,f]);(0,a.useEffect)(()=>{g()},[g]);let{onContextMenu:h}=e,E=(0,k.rf)(e.recordingKey,"contextmenu",(0,a.useCallback)(t=>{h&&h(e.guid,t)},[h,e.guid])),{onMouseEnter:b}=e,w=(0,a.useCallback)(t=>{g(),b&&b(e.guid,t)},[b,e.guid,g]),{lockMouseDown:N}=e,x=(0,a.useCallback)(t=>{N&&N(e.guid,t)},[N,e.guid]),{visibleMouseDown:I}=e,T=(0,a.useCallback)(t=>{I&&I(e.guid,t)},[I,e.guid]),{onDragStartCallback:C}=e,S=(0,a.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=C&&C(e.guid,t)},[C,e.guid]),{onDragOverCallback:A}=e,P=(0,a.useCallback)(t=>{null!=A&&A(e.guid,t)},[A,e.guid]),{onDragDropCallback:L}=e,O=(0,a.useCallback)(t=>{null!=L&&L(e.guid,t)},[L,e.guid]),{onDragEnterCallback:D}=e,R=(0,a.useCallback)(t=>{null!=D&&D(e.guid,t)},[D,e.guid]),{onDragLeaveCallback:F}=e,B=(0,a.useCallback)(t=>{null!=F&&F(e.guid,t)},[F,e.guid]),K=(0,a.useCallback)(()=>(0,ef.pr)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),U=!e.visible||e.isAncestorHidden,H=e.locked||e.isAncestorLocked,V=(e.level+3)*(0,_.jz)(e4.indentWidthWithMargin)+((0,_.jz)(e4.scrollBarYWidth)+(0,_.jz)(e4.trackPadding))>e.panelWidth+e.scrollLeft,G={transform:`translate3d(0px, ${e.top}px, 0)`,height:e$.FL},W=e.fixed&&0!==e.panelWidth,Y="FRAME"===e.nodeType,X=m()({[ek.nM]:!0,[ek.M4]:0===e.level,[ek.Gt]:Y&&!(0,eX.R)(e)&&!e.resizeToFit&&!e.isStateGroup,[ek.Os]:Y&&!(0,eX.R)(e)&&e.resizeToFit,[ek.t$]:Y&&(0,eX.R)(e),[ek.DT]:e.isStateGroup,[ek.a6]:(0,z.MT)(e.nodeType),[ek.uW]:"SECTION"===e.nodeType,[ek.HR]:"SYMBOL"===e.nodeType,[ek.rS]:"CODE_COMPONENT"===e.nodeType,[ek.xG]:"MODULE"===e.nodeType,[ek.KJ]:"INSTANCE"===e.nodeType,[ek.iE]:e.isStamp,[ek.Zt]:"HIGHLIGHT"===e.nodeType,[ek.HL]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[ek.j3]:e.isDescendantOfSymbol,[ek.cb]:e.isDescendantOfInstance,[ek.vp]:e.isDescendantOfModule,[ek.dK]:e.mask,[ek.i9]:(0,ey.qW)(e.panelType),[ek.Zu]:!!W,[ek.lh]:!!e.layerAbove,[ek.yo]:e.isHovered,[ek.wH]:e.isSelected,[ek.ct]:e.isAncestorSelected,[ek.r9]:U,[ek.xt]:H,[ek.sz]:e.hasChildren&&e.isExpanded}),j=e.versionHistory?.activeId&&"current_version"===e.versionHistory.activeId,q=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&j,Q=!e.hideRowActions&&!e.isRenaming&&!e.isReadOnly&&!e.isDragging&&!V,{registerWidth:J,unregisterWidth:Z}=ew(),$=c&&l.current&&r.current?l.current.getBoundingClientRect().right-r.current.getBoundingClientRect().left+(0,_.jz)(e4.rowActionsWidth):void 0;(0,a.useEffect)(()=>{if($)return J(e.guid,$),()=>Z(e.guid)},[J,Z,$,e.guid]);let ee=a.createElement(a.Fragment,null,a.createElement(eZ,{recordingKey:k.Pt(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:x}),a.createElement(e5,{recordingKey:k.Pt(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:T})),et=a.createElement("div",{className:ek.u4,"data-tooltip-type":eh.Ib.TEXT,"data-tooltip":d?p:null,"data-tooltip-max-lines":4,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,style:{width:`${e.panelWidth+e.scrollLeft}px`}},a.createElement(eV,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:k.Pt(e,"indents"),hasBullet:o,disabled:U,locked:H,hovered:e.isHovered,outOfView:V,scrollLeft:e.scrollLeft,horizontalScrollEnabled:c}),a.createElement(te,{...e,layerNameRef:n,layerNamePlaceholderRef:l,disabled:U,locked:H,hovered:e.isHovered,outOfView:V,scrollLeft:e.scrollLeft,horizontalScrollEnabled:c,useUI3Icons:s}),q&&a.createElement("span",{className:ek.HY,dir:"auto"},K()),Q&&a.createElement("div",{className:ek.cm},c?null:ee));return a.createElement("div",{ref:r,className:X,style:G,onContextMenu:E,onMouseEnter:w,draggable:!1,onDragOver:P,onDrop:O,onDragStart:S,onDragEnter:R,onDragLeave:B,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-onboarding-key":e.guid===i&&e.isSelected&&(!e.isRowInView||e.isRowInView(r))?e8:void 0},Q&&c&&a.createElement("div",{className:ek.cm,style:ec.sx.absolute.wFull.eventsNone.$},a.createElement("div",{className:es.cx.wFull.$}),a.createElement("div",{className:ek.V0},a.createElement("div",{className:ek.Hz},ee))),a.createElement(e_.e,{condition:!!c&&!!W,wrapper:e=>a.createElement("div",{style:ec.sx.absolute.wFull.eventsNone.$},a.createElement("div",{className:ek.n4},e))},et))}function tn(e){let t=(0,eu.Z)("prototype_sections_zoom"),n=a.useCallback(e=>{t((0,ep.QZ)({nodeId:e,alwaysPan:!0}))},[t]),l=(0,em.o3)(e.guid);return a.createElement(tt,{...e,explicitVariableModeNames:l,navigateAndPanTo:n})}tt.displayName="ObjectRow";var ta=n(746806),tl=n(463546);function tr(){let{show:e,isShowing:t,complete:n,uniqueId:l}=(0,en.e)({overlay:tl.xtb,priority:er.N.SECONDARY_MODAL}),r=el.y.isApple(),i=a.useMemo(()=>a.createElement(Z.S,{shortcut:r?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[r]);return(0,et.E)(l,ea.in,()=>{e({canShow:()=>!!(0,y.kc)().ce_al_show_msal_onboarding})}),a.createElement(ei.rq,{isShowing:t,targetKey:e8,arrowPosition:ta.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:a.createElement("p",{"data-testid":"msal-onboarding-title"},(0,$.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:i})),description:(0,$.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,$.tx)("general.got_it"),type:"button",onClick:n,variantOverride:"primary",ctaTrackingDescriptor:ee.c.GOT_IT},secondaryCta:{label:(0,$.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:ee.c.LEARN_MORE},onClose:n,onTargetLost:n,emphasized:!0,disableHighlight:!0})}var ti=n(507956),to=n(187882),ts=n(38580);let tc=(0,n(940596).Wh)(()=>(0,ts.eU)(0));var td=n(668092);function tu(e){let{top:t,width:n,guid:l,level:r,onMouseEnter:i,recordingKey:o}=e,s=k.rf(o,"click",e=>{U.bd([l])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:n,height:e$.FL},d={width:ey.iy*r*2,marginRight:1===r?ey.iy/2:0};return a.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:s,onMouseEnter:i,role:"button",tabIndex:0},a.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),a.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},a.createElement(eo.B,{svg:td.A})),a.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,$.tx)("design_systems.component_properties.see_all_layers")))}class tm extends k.o6{renderPlainIndents(e){let t=[];for(let n=0;n<e+1;n++)t.push(a.createElement("span",{key:n,className:ek.pZ}));return a.createElement("span",{className:ek.Wm},t)}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:e$.nI},t=`${ek.nM} ${ek.bV}`;return this.props.isParentSelected&&(t+=" "+ek.ct),this.props.isDescendantOfSymbol&&(t+=" "+ek.j3),this.props.isDescendantOfInstance&&(t+=" "+ek.cb),a.createElement("div",{className:t,style:e},this.renderPlainIndents(this.props.level),this.props.sectionType===s.KjJ.FIXED?(0,$.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,$.t)("fullscreen.properties_panel.scrolls"))}}tm.displayName="SectionRow";var tp=n(357864),tf=n(699670);let tg="objects_panel--dropTargetBox--4SX8i",th=new w.V;function t_(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class tE extends k.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||d.q.instance,this.initializeRows=e=>{let t=this.getScene(),n=e.customRowBuilder?e.customRowBuilder():(0,tp.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=n.topByGuid,this.leftByGuid=n.leftByGuid,this.sectionById=n.sectionById,this.totalHeight=n.totalHeight,this.cachedAllRowData=n.rowData},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let n=this.topByGuid[e];if(null==n){let t=this.getScene().get(e);t&&t.parentGuid&&U.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}if(this.isVerticallyVisible(n,n+e$.FL)||this.scrollNodeIntoView(e,{forStackInsertion:t}),G.nt.ui3LayersAutoScroll.getValue()){let n=this.leftByGuid[e]+(0,_.jz)(e4.indentWidth)+(0,_.jz)(e4.baseIconWidth)+(0,_.jz)(e4.rowTextPadding);this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]&&!this.isHorizontallyVisible(n,n+(0,_.jz)(e4.minLayerNameWidthForAutoscroll))&&this.scrollNodeIntoView(e,{forStackInsertion:t})}},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),v.zl.set(eE.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/e$.FL;return e$.FL*t*t},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,I.xO)(o.FigmaTeam.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),n=e.parentGuid?t.get(e.parentGuid):null;for(;n&&n.guid!==this.props.currentPage;){if(this.isNodeSticky(n))return!0;n=n.parentGuid?t.get(n.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let n=this.state.scrollTop,a=(e,t,n)=>{if("object"!==e.rowType)return!1;let a=this.findStickyHeader(e,t,n);if(a){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=a:this.renderedVisibleRowProps.push(a)}return!!a},l=null;for(let r=0;r<e.length;r++)if(0===(t=e[r]).level){if(l&&a(l,l.top,t.top)||t.top>n)return;l=t}(0,i.assertDev)(!!l,"has at least one top level section"),a(l,l.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let n=t&&t.fromAIRename||!1,a=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||!this.scrollContainerEl||!this.scrollContainer)return;let l=this.topByGuid[e],r=this.state.scrollTop,i=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){a&&this.scrollContainer.scrollTo(l-1);return}let o=this.getScene().get(e);if(!o)return;n||v.zl.set(eE.uK,{autoScroll:!1});let s=this.isAncestorSticky(o);if(s&&l<r+e$.FL?this.scrollContainer.scrollTo(l-e$.FL):!s&&l<r?this.scrollContainer.scrollTo(l):l+e$.FL>r+i&&this.scrollContainer.scrollTo(l-i/2),G.nt.ui3LayersAutoScroll.getValue()&&this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]){let t=this.leftByGuid[e];this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let n=this.getScene().get(e);if(!n)return;(0,q.sp)(this.getScene(),this.props.sceneGraphSelection,n.guid)||this.updateSelection(n.guid);let{clientX:a,clientY:l}=t;this.props.dispatch(L.j7({type:O.Rb,data:{clientX:a,clientY:l}}))},this.rowContainerMouseDown=k.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,b.Fo)(e)){this.toggleSelected(t);return}(0,y.kc)().version_diffing&&this.props.editModeType===s.m1T.COMPARE_CHANGES&&s.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let n=(0,N.IL)(this.props.sceneGraphSelection),a=null;if(n?a=n:this.rangeSelectAnchorNodeId&&(0,q.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(a=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&a){U.GL(a,t),F.Y5.commit();return}(0,q.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,D.i)(e)||this.setState({mouseDown:new C.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,i.assertDev)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,ey.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,ey.g2)(e.path,this.getScene(),this.props.currentPage)]+e$.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),n=this.state.scrollTop,a=this.scrollContainerHeight();if(a>0){if(t<n){this.scrollContainer.scrollTo(n-this.computeScrollDelta(n-t));return}if(t>n+a){this.scrollContainer.scrollTo(n+this.computeScrollDelta(t-n-a));return}}let l=(0,ey.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ey.g$.Object,this.props.topNodeFields);this.state.dropTarget&&l&&this.state.dropTarget.index!==l.index&&E.H.trigger(s.JA.SNAP),(this.hasCrossedDragThreshold||!l)&&(this.expandDropTargetIfNeeded(l,t),this.setState({dropTarget:l}))}},this.onMouseUp=k.cZ(this,"mouseup",e=>{let t=this.getScene(),n=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(n=!0,3>=this.state.mouseDown.distanceTo(new C.Mi(e.clientX,e.clientY))){if(!(0,D.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):n=!1}}else if(!this.props.isReadOnly){let n=(0,ey.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??ey.g$.Object,this.props.topNodeFields);if(!n)return;let{parentGuid:a,index:l,section:r}=n,i=t.get(a);if(!i||void 0===l)return;let o=e.altKey,d=(0,ey.Lc)(i,l);o?c.l7.user("duplicate-selection",()=>U.kH(i.guid,d,r)):c.l7.user("reparent-selection",()=>U.Yu(i.guid,d,r)),U.hq(i.guid),s.Egt.clearTemporarilyExpanded(),F.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(n=!0,this.isDraggingToToggle=null,F.Y5.commit()),!n)return k.aH},{recordMetadata:e=>{let t=this.getScene(),n=this.guidAtMousePosition(e.clientY),a=this.relativeY(e.clientY);(0,i.assertDev)(!!n,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let l=this.topByGuid[n];return{path:(0,ey.eT)(n,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new C.Mi(e.clientX,e.clientY))),belowAll:a>l+e$.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,ey.g2)(e.path,this.getScene(),this.props.currentPage)]+e$.FL/2;return e.belowAll&&(t+=e$.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.onScrollContainerMouseDown=()=>{U.wr(),F.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=l.findDOMNode(e)},this.containerMouseLeave=e=>{U.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n)return;t.stopPropagation(),(0,h.sx)("objects_panel_expand",{nonInteraction:0});let a=!n.isExpanded;t.altKey?U.sK(n.guid,a):(0,b.Fo)(t)&&!(0,N.Im)(this.props.sceneGraphSelection)?U.yF(n.guid,a):U.sq(n.guid,a),this.justToggledExpandedGuid=n.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n||this.props.isReadOnly)return;t.stopPropagation();let a=!n.locked;this.isDraggingToToggle={locked:a},c.l7.user("set-locked",()=>{U.tU(n.guid,a,t.altKey)})},this.visibleMouseDown=(e,t)=>{let n=this.getScene().get(e);if(!n||this.props.isReadOnly)return;t.stopPropagation();let a=!n.visible;this.isDraggingToToggle={visible:a},c.l7.user("set-visible",()=>{U.pr(n.guid,a,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let n=this.getScene().get(e);if(!n)return;let a=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&c.l7.user("set-locked",()=>(function(e,t,n){if(!e)return;let a=!1;tb(e,n,e=>{a=a||e.locked!==t,e.locked=t}),a&&R.wt.reportAnyPropertyChange(["locked"])})(n,e,!1)),null!=t&&c.l7.user("set-visible",()=>(function(e,t,n){if(!e)return;let a=!1;tb(e,n,e=>{a=a||e.visible!==t,e.visible=t}),a&&R.wt.reportAnyPropertyChange(["visible"])})(n,t,!1))}this.state.mouseDown||U.Uc(n.guid)};x.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=a:a()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new j(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500,observeInsideOverflowScroll:!0}),this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=s.glU&&s.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e})}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),F.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){(0,H.S)("panel"),U.tJ([e]),F.Y5.commit(),this.props.onSelectionUpdated&&this.props.onSelectionUpdated(e)}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let n=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,a=this.props.customRowBuilder!==e.customRowBuilder;if((n||a||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!f()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!f()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,n){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,ey.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,n=null;for(let a of this.renderedVisibleRowProps)"object"===a.rowType&&this.scrollContainer&&(0,ey.U$)(a,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[a.guid])&&(null===t||t>a.top)&&(t=a.top,this.anchorNodeId=a.guid),(null===n||n>a.top)&&(n=a.top,this.topNodeDelta=this.topByGuid[a.guid]-a.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate]&&(this.scrollToNodeIdAfterUpdate=null);else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let n of this.renderedVisibleRowProps)if("object"===n.rowType&&n.guid===this.anchorNodeId){t=(0,ey.U$)(n,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),n=1/0;for(let a of t){let t=this.topByGuid[a];t<n&&(n=t,e=a)}return e}findStickyHeader(e,t,n){let a=this.state.scrollTop,l=this.getScene().get(e.guid);if(!l)return null;if(this.isNodeSticky(l)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<=a&&n>a+e$.FL)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0};if(n>a&&n<=a+e$.FL)return{...e,top:n-e$.FL,layerAbove:!0};if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}}return null}expandDropTargetIfNeeded(e,t){let n=null;if(e&&"sticky"!==e.parentTop){let a=this.getScene().get(e.parentGuid);(0,i.assertDev)(!!a,"parentGuid should point to a valid node");let l=t>e.parentTop+e$.FL/3&&t<e.parentTop+2*e$.FL/3;a.uiOrderedChildren.length&&l&&(n=a.guid)}this.lastExpansionTarget!==n&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),n&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&U.Ir(n,!0)},1e3)),this.lastExpansionTarget=n)}toggleSelected(e){this.props.sceneGraphSelection[e]?U.D$([e]):(U.Dh([e]),this.rangeSelectAnchorNodeId=e),F.Y5.commit()}relativeY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,T.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let n=this.state.scrollTop,a=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return n<e&&t<a}isHorizontallyVisible(e,t){if(!this.scrollContainerEl)return!0;let n=this.state.scrollLeft,a=this.scrollContainerEl.getBoundingClientRect().width+this.state.scrollLeft;return n<e&&t<a}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,ey.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<e$.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,n,a){return"sticky"===e?Math.min(t-n,a):Math.min(t-e,a-(e-n))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let n=this.scrollContainerHeight(),l=e.bottomForCanvasStackReparenting,r=e$.FL,i="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;l&&n&&(r=this.computeStackOutlineHeight(i?"sticky":e.parentTop,l,this.state.scrollTop,n)),t=i?a.createElement("div",{key:"drop-target-box",className:tg,style:{position:"sticky",width:this.props.width,height:r,zIndex:tf.Wb}}):a.createElement("div",{key:"drop-target-box",className:tg,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:r}})}let n=null;return null!=e.lineTop&&(n=a.createElement("div",{key:"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,n]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,n){let l=t.getNode(e.guid);if(!l||!l.parentGuid)return null;let r=t.getAncestorInfo(l.parentGuid),i=t.getMaskInfo(e.guid),o=(0,q.K3)(this.props.sceneGraphSelection,e.guid);if(!r||!i)return null;let s=(r.isAncestorSelected||o)&&!r.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(l);return a.createElement(tn,{key:th.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:l.nodeMemoryUsage,rootMemoryUsage:l.rootMemoryUsage,isAncestorHidden:r.isAncestorHidden,isAncestorLocked:r.isAncestorLocked,isAncestorSelected:r.isAncestorSelected,displayOrder:r.childrenDisplayOrder,isMaskedAtLevels:i.isMaskedAtLevels,isLastMaskedAtLevels:i.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,name:l.name,abbreviatedStateName:l.isState?l.stateAbbreviatedName:null,nodeType:l.type,isStamp:(0,z.GI)(l),visible:l.visible,mask:l.mask,locked:l.locked,resizeToFit:l.resizeToFit,stackMode:l.stackMode,isStateGroup:l.isStateGroup,isState:l.isState,scrollDirection:l.scrollDirection,booleanOperation:l.booleanOperation,isStaticImage:l.hasEnabledStaticImagePaint,isGIF:l.hasEnabledAnimatedPaint,cornerRadius:l.cornerRadius,objectsPanelThumbnailId:l.objectsPanelThumbnailId,isWidgetSublayer:!!l.isInWidget,hasChildren:l.isExpandable||e.hasChildren||(0,Q.vo)(l,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||s,isSelected:o,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isFavicon:this.props.faviconGuid===e.guid,isSocialImage:this.props.socialImageGuids?.split(",").includes(e.guid),isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:l.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:l.isResponsiveSet,panelType:this.props.panelType??ey.g$.Object,isRowInView:t=>{if(!n)return!0;let a=n.getClipContainer().getBoundingClientRect(),l=t.current;if(!l)return!0;let r=l.getBoundingClientRect();return e.fixed&&0!==this.props.width||r.top>=a.top&&r.bottom<=a.bottom}})}renderLayerExpansionRow(e){let t=th.getKeyForId(t_(e)),n=this.props.width+(this.props.horizontalScrollEnabled?this.state.scrollLeft:0);return a.createElement(tu,{key:t,top:e.top,width:n,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>U.Uc(""),dispatch:this.props.dispatch,recordingKey:k.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,q.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return a.createElement(tm,{key:th.getKeyForId(e.sectionId),...e,width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let n of(this.renderedVisibleRowProps=(0,ey.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,ey.Mq)(n,this.windowInnerHeight,this.state.scrollTop)||th.freeKeyForId(t_(n));this.renderedVisibleRowProps.sort((e,t)=>th.getKeyForId(t_(e))-th.getKeyForId(t_(t)));let n=new tp.nV(this.getScene(),this.props.sceneGraphSelection),l=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?l.push(this.renderObjectRow(e,n,this.scrollContainer)):"layer-expansion"===e.rowType?l.push(this.renderLayerExpansionRow(e)):l.push(this.renderSectionHeader(e));if(this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,n=this.props.sceneGraph.get(t);n&&l.push(...this.renderDropTarget((0,ey.Gs)(n,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&l.push(...this.renderDropTarget(this.state.dropTarget));let r=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return a.createElement(a.Fragment,null,a.createElement(ey.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return n.getNode(e)??null}}),a.createElement(A.P,{enableOverscroll:!0,recordingKey:k.Pt(this.props,"scrollContainer"),className:m()(r,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0},a.createElement(to.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),a.createElement(S.V,null,a.createElement("div",{className:m()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},l))))}}function ty(e){let t=(0,r.wA)(),n=(0,W.J2)((0,B.UK)().showImmutableFrameSublayers),l=(0,W.ut)(s.Ez5?.uiState().reparentIntoStackInfo,null),i=(0,W.J2)(s.Ez5.uiState().renderResourceUse),o=(0,W.J2)(s.Ez5.uiState().showMemoryUsage),c=(0,W.J2)(s.Ez5.uiState().hoveredComponentPropDef),d=(0,W.J2)(s.Ez5.uiState().showInFileMemoryPercentage),u=(0,W.J2)(s.Ez5.canvasViewState().temporarilyHoveredNodes),m=(0,V.TA)(),p=(0,r.d4)(e=>e.mirror.sceneGraphSelection),f=(0,r.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),h=(0,r.d4)(e=>e.mirror.appModel.hoveredNode),_=(0,r.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),E=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),y=(0,ti.ks)(),b=(0,P._I)(),w=(0,K.E)(),N=(0,Y.H_)(),x=(0,X.Fk)((e,t)=>{let n=e.get(t);return n?{guid:n.guid,children:n.uiOrderedChildren,defaultResponsiveSetId:n.defaultResponsiveSetId}:null},e.currentPage),k=function(){let[e,t]=(0,a.useState)(0),{subscribe:n,unsubscribe:l}=ew();return(0,a.useEffect)(()=>{let e=e=>{t(e)};return n(e),()=>{l(e)}},[n,l]),e}(),[I,T]=(0,v.fp)(tc),C=(0,g.A)(T,200);if(y&&!b)return null;let S=void 0===e.topNodeFields?x:e.topNodeFields;return a.createElement(a.Fragment,null,a.createElement(tE,{...e,currentPage:e.currentPage,sceneGraphSelection:p,objectsPanelRowRebuildCounter:f,hoveredNode:h,temporarilyExpandedInstanceLayers:_,editModeType:E,sceneGraph:N,topNodeFields:S,recordingKey:"objectsPanel",showViewChangesNotification:w,hoveredPropDef:c,showImmutableFrameSublayers:n,reparentIntoStackInfo:l,temporarilyHoveredNodes:u,dispatch:t,renderResourceUse:i,showMemoryUsage:o,showInFileMemoryPercentage:d,userId:m??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?k:void 0,initialScrollTop:I,onScroll:C}),a.createElement(J.p,{featureFlag:"auto_auto_layout"},a.createElement(tr,null)))}function tv(e){let t=(0,M.GS)()&&(0,y.kc)().ui3_layers_panel;return a.createElement(eb,null,a.createElement(ty,{...e,horizontalScrollEnabled:t}))}function tb(e,t,n){if(n(e),t)for(let t of e.uiOrderedChildren)tb(d.q.instance.get(t),!0,n)}tE.displayName="ObjectsPanelView"},739212:(e,t,n)=>{n.d(t,{GN:()=>v,Gs:()=>k,Lc:()=>S,M3:()=>P,Mq:()=>g,OL:()=>C,U$:()=>f,Uw:()=>h,eT:()=>E,g$:()=>p,g2:()=>y,iy:()=>b,qW:()=>A});var a=n(411855),l=n(634832),r=n(375597),i=n(587670),o=n(374626),s=n(886653),c=n(752353),d=n(497306),u=n(378762),m=n(741944),p=(e=>(e.Object="OBJECT",e.Webpage="WEBPAGE",e))(p||{});function f(e,t,n,a){return e.top+m.FL>a-t&&e.top<a+n+t||!!e.fixed}function g(e,t,n){return f(e,t/2,t,n)}function h(e,t,n){if(!e.length)return[];let a=t=>{let n,a;let r=e.length,i=0,o=r-1;if(t<=0)return 0;if(t>=e[r-1].top+m.FL)return r-1;for((0,l.assertDev)(i<=o,"binary search min <= max predicate failed");i<=o;)if((a=e[n=(i+o)/2|0]).top+m.FL<t)i=n+1;else if(a.top>t)o=n-1;else break;return n},r=t/2,i=a(n-r),o=a(n+t+r);return e.slice(i,o+1)}function _(e,t){let n=e.get(t);if((0,l.assertDev)(null!=n,"node not found in scenegraph"),!(n.isExpanded||n.isTemporarilyExpanded)||0===n.uiOrderedChildren.length)return m.FL;let a=m.FL;for(let t of(n.fixedChildrenCount>0&&(a+=2*m.nI),n.uiOrderedChildren))a+=_(e,t);return a}function E(e,t){let n=[],a=t.get(e);for((0,l.assertDev)(null!=a,"node not found in scenegraph");a&&"CANVAS"!==a.type;){let e=a.guid;a=a.parentNode,(0,l.assertDev)(null!=a,"parent node not found in scenegraph");let t=a.uiOrderedChildren.indexOf(e);n.push(t)}return n.reverse(),n}function y(e,t,n){let a=e.reduce((e,n)=>t.get(e.uiOrderedChildren[n]),t.get(n));return(0,l.assertDev)(null!=a,"node from path is not found in scenegraph"),a.guid}function v(e,t,n,a,l=!1){let r=null,i=null,o=null;for(let e in n){let t=n[e],l=t+m.FL;if(a>=t&&a<=l){r=e;break}(!i||n[e]<n[i])&&(i=e),(!o||n[e]>n[o])&&(o=e)}if(!r&&(i&&a<n[i]?r=i:o&&a>n[o]+m.FL&&(r=o)),r&&l){let n=(0,u.cX)(e,t,r);if(n)return n.guid}return r}let b=16,w=(0,s.xx)((e,t)=>{let n=1/0;return(0,u.YI)(e,t,t=>{t&&(n=Math.min(n,(0,d.F0)(e,t.guid)))}),n===1/0&&(n=0),n});function N(e,t,n,a,l){return t<n.uiOrderedChildren.length?a[n.uiOrderedChildren[t]]+("before"===l?0:m.FL):a[n.guid]+_(e,n.guid)-m.$E}function x(e,t){return e<t.fixedChildrenCount?i.KjJ.FIXED:i.KjJ.SCROLLS}function k(e,t,n,a,l){let r;let o=e.guid,s=t[o];if(e.childrenNodes.length){let n=e.childrenNodes[e.childrenNodes.length-1];n.childrenGuids.length||(r=t[n.guid]+m.FL)}else r=s+m.FL;if(!r){let l;let i=e;for(;!l&&i.parentNode&&"CANVAS"!==i.type;){let e=i.parentNode.uiOrderedChildren.map(e=>n.get(e)),t=e.findIndex(e=>e.guid===i.guid);t<e.length-1&&(l=e[t+1]),i=i.parentNode}r=l?t[l.guid]:a}return{parentGuid:o,index:l,section:void 0!==l?x(l,e):i.KjJ.SCROLLS,parentTop:s,lineTop:void 0!==l?N(n,l,e,t,"before"):void 0,lineIndent:((0,d.F0)(n,o)+1)*b,isCanvasStackReparenting:!0,bottomForCanvasStackReparenting:r}}function I(e,t,n,a,r,o,s,c){let u=a>0?Math.floor(a/b):Math.ceil(a/b),m=w(e,t)+u,p=N(e,o,r,n,s),f=o<r.fixedChildrenCount?i.KjJ.FIXED:i.KjJ.SCROLLS,g=r,h=c&&!(0,d.rV)(e,c.guid,g.guid);if(h){let t=e.get(c.guid);t&&(g=t,o=t.childrenGuids.length)}let _={parent:g,index:o+("before"===s?0:1),section:f},E=c?(0,d.F0)(e,c.guid):0,y=(0,d.F0)(e,g.guid)+1-E;for(;!h&&y>m;){let t=function(e,t){if("CANVAS"===t.parent.type||"DOCUMENT"===t.parent.type||t.index!==t.parent.uiOrderedChildren.length||t.section===i.KjJ.FIXED)return t;let n=(0,d.PA)(e,t.parent.guid);(0,l.assertDev)(null!=n,"parent node not in scenegraph");let a=n.uiOrderedChildren.indexOf(t.parent.guid);return{parent:n,index:a+1,section:x(a,n)}}(e,_);if(t!==_)_=t,y--;else break}for(;y<m;){let t=function(e,t){if(0===t.index)return t;let n=e.get(t.parent.uiOrderedChildren[t.index-1]);return((0,l.assertDev)(null!=n,"node not in scenegraph"),(0,d.nO)(n.type)&&t.index!==t.parent.fixedChildrenCount&&(n.isExpanded||n.isTemporarilyExpanded||!(n.uiOrderedChildren.length>0)))?{parent:n,index:n.uiOrderedChildren.length,section:i.KjJ.SCROLLS}:t}(e,_);if(t!==_)_=t,y++;else break}let v=_.parent.guid;return{parentGuid:v,index:_.index,section:_.section,parentTop:n[v],lineTop:p,lineIndent:y*b}}function T(e,t,n,a,r,o,s,c){let p=e.get(a);if(!p)return null;let f=n[a],g=(0,d.PA)(e,a);(0,l.assertDev)(null!=g,"parent not found");let h=g.uiOrderedChildren.indexOf(a),E=(0,d.nO)(p.type)&&!A(s),y=(a,l,i)=>I(e,t,n,r,a,l,i,c);if(E&&(0,u.K3)(t,a))return y(g,h,o>f+_(e,a)/2?"after":"before");if(E){if(o<f+m.FL/3)return y(g,h,"before");if(!(o<f+2*m.FL/3))return p.isExpanded||p.isTemporarilyExpanded?y(p,0,"before"):y(g,h,"after");{let t=e.get(a);return t?{parentGuid:a,index:t.fixedChildrenCount,section:i.KjJ.SCROLLS,parentTop:f}:null}}if(!(o>f+m.FL))return y(g,h,o>f+m.FL/2||A(s)&&0===f?"after":"before");{let t=p;for(;"CANVAS"!==t.type;){let n=null!=t.parentGuid?e.get(t.parentGuid):null;(0,l.assertDev)(null!=n,"node not in scenegraph"),t=n}return y(t,t.uiOrderedChildren.length,"before")}}function C(e,t,n,a,r,o,s,c,d){if(s){let t=e.get(s);return t?{parentGuid:s,index:t.fixedChildrenCount,section:i.KjJ.SCROLLS,parentTop:"sticky"}:null}{let s=function(e,t){let n=null;for(let a in e){let l=e[a];t>=l.top&&t<l.top+l.height&&(!n||l.top>n.top)&&(n=l)}return n}(a,o),m=v(e,t,n,o,!0),p=null;return!m&&s?p=function(e,t,n,a,r,o,s,c){let d=(0,u.cX)(e,t,a.parentGuid);if(d)return T(e,t,n,d.guid,r,o,s,c);{var m;let o=e.get(a.parentGuid);return(0,l.assertDev)(null!=o,"parent node not in scenegraph"),m=a.type===i.KjJ.FIXED?0:o.fixedChildrenCount,I(e,t,n,r,o,m,"before",c)}}(e,t,n,s,r,o,c,d):m&&(p=T(e,t,n,m,r,o,c,d)),p&&s&&s.parentGuid===p.parentGuid&&(p.section=s.type),p}}function S(e,t){return e.childrenDisplayOrder===r.k.DESIGN?e.uiOrderedChildren.length-t:t}function A(e){return"WEBPAGE"===e}function P({getNode:e,selection:t}){let[n,l]=(0,o.fp)(c.Fj),[r,i]=(0,o.fp)(c.GY),s=(0,a.useCallback)(()=>{l(new Set),i(new Set)},[l,i]);return(0,a.useEffect)(()=>{if(!r.size)return;if(!function(e,t,n){let a=Object.keys(e);return!!a.length&&a.every(e=>{let a=n(e);for(;a&&"CANVAS"!==a.type;){if(t.has(a.guid))return!0;a=a.parentNode}return!1})}(t,r,e)){s();return}let a=Object.keys(t).filter(e=>n.has(e));if(!a.length)return;if(a.length===n.size){s();return}let i=new Set(n);a.forEach(e=>i.delete(e)),l(i)},[e,n,r,s,l,t]),null}},3044:(e,t,n)=>{n.d(t,{yD:()=>oK});var a=n(411855),l=n(109388),r=n(188507),i=n(587670),o=n(86625),s=n(707458),c=n(629019),d=n.n(c),u=n(776250),m=n(91408),p=n(297666),f=n(38329),g=n(374626),h=n(153234),_=n(286640),E=n(554322),y=n(448169),v=n(192437),b=n(355819),w=n(206316),N=n(939863),x=n(392592),k=n(384252),I=n(331972),T=n(265911),C=n(798099),S=n(226055),A=n(83909),P=n(988022),L=n(356390),O=n(617453),D=n(843495),M=n(177505),R=n(318812),F=n(479118),B=n(335682),K=n(611978),U=n(860178),z=n(100197),H=n(601607),V=n(507956),G=n(283978),W=n(662275),Y=n(678340),X=n(21622),j=n(265746),q=n(696808),Q=n(634480),J=n(862442),Z=n(457630),$=n(498606),ee=n(227795),et=n(286723),en=n(370903),ea=n(995382);function el(){let e=(0,r.wA)(),t=(0,r.d4)(e=>!!e.modalShown),n=(0,r.d4)(e=>e.versionHistory.compareId),l=i.AWq.getChunkChangeCount(),o=(0,J.Z)("chunk_change_navigator_navigate"),s=(0,Q.E)(),c=a.useCallback(e=>{i.Egt.setSelectedNodeAndCanvas(e,!0),o((0,Z.QZ)({nodeId:e,...et.ob}),et.kh),s(e)},[o,s]),d=a.useCallback(e=>{t||0===l||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?c(i.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&c(i.glU.navigateToNextChange(1)))},[t,l,c]);return(a.useEffect(()=>{e(q.Q.dequeue({type:j._.SEE_WHATS_CHANGED}))},[e]),a.useEffect(()=>{n&&0!==l&&c(i.glU.navigateToFirstVisibleOrClosestChange())},[l,n,c]),a.useLayoutEffect(()=>{if(0!==l)return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[l,d]),0===l)?null:a.createElement(a.Fragment,null,a.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,N.tx)("collaboration.feedback.change_count",{changeCount:l})),a.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},a.createElement(ee.K0,{svg:ea.A,onClick:e=>{e.stopPropagation(),c(i.glU.navigateToNextChange(-1))},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,N.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===l}),a.createElement(ee.K0,{svg:en.A,onClick:e=>{e.stopPropagation(),c(i.glU.navigateToNextChange(1))},"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,N.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===l})))}var er=n(415702),ei=n(126049),eo=n(320063),es=n(690260),ec=n(723325),ed=n(493323),eu=n(395281),em=n(140908),ep=n(358145),ef=n(632430),eg=n(999881),eh=n(279453),e_=n(58032),eE=n(298527);function ey(){let e=(0,r.wA)(),t=a.useRef(!1),n=(0,r.d4)(e=>e.loadingState),l=(0,r.d4)(e=>e.fileVersion),i=(0,eE.n1)(),o=(0,ep.qd)(i),s=(0,g.md)((0,eh.fy7)({group:(0,eg.M)()})),c=(0,e_.je)();a.useEffect(()=>{if(!t.current&&!0===i&&!1===o&&"loaded"===s.status){t.current=!0;let a=new Set(c?.data?.map(e=>e.fileKey)??[]);for(let t of s?.data?.libraryPresetSubscriptionsV2??[])a.has(t.hubFileId)&&ef.Fz(t.hubFileId,n,l,e)}},[e,i,l,o,n,s,c])}var ev=n(813648),eb=n(594901),ew=n(933342),eN=n(833629),ex=n(243987),ek=n(428467),eI=n(435011),eT=n(284321),eC=n(234945),eS=n(693223),eA=n(378762),eP=n(998109),eL=n(756159),eO=n(426046),eD=n(715762),eM=n(498750),eR=n(563706),eF=n(26328),eB=n(140796),eK=n(48515);function eU({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:n}){let l=(0,r.wA)(),o=(0,r.d4)(eF.UQ),{activeTab:s,shouldFocusSearchBar:c}=(0,r.d4)(e=>e.leftPanel),u=s===i.xae.ASSETS,m=a.useRef(null),p=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),f=(0,eB.vb)({isVisible:u,autofocus:!0,selectOnFocus:!0,ref:m});a.useEffect(()=>{let e=e=>{(eR.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===eM.Uz.KEY_2:e.altKey&&e.keyCode===eM.Uz.KEY_2)&&p!==i.m1T.TEXT&&(f(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p,f]);let g=a.useCallback(t=>{let n;e&&((0,eF.eu)(e.type)?n=e.type:(n={type:eK.I.ALL},e.onSetAssetType(n))),l(eu.ku({query:t,searchOptions:n,entryPoint:"asset_panel"}))},[l,e]),h=d()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?a.createElement(eB.E1,{query:o.query,onChange:g,isVisible:u,className:h,recordingKey:"componentsLibrarySearch",placeholder:(0,N.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,entryPointForTracking:"editor:assets_panel",path:t,column:n,forwardedRef:m}):a.createElement(eB.aU,{query:o.query,onChange:g,isVisible:u,className:h,recordingKey:"componentsLibrarySearch",placeholder:(0,N.t)("design_systems.assets_panel.search"),autofocus:c,selectOnFocus:!0,hideSearchIcon:!0,forwardedRef:m,entryPointForTracking:"editor:assets_panel"})}var ez=n(196367),eH=n(183686),eV=n(243742),eG=n(672517),eW=n(663767),eY=n(57392),eX=n(397065),ej=n(142232),eq=n(951864),eQ=n(337987);function eJ({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:n,recordingKey:l}){let i="ui3"===(0,eV.DP)().version,o=(0,g.md)(eY.Lc),s=(0,r.d4)(eT.ao),{isLibraryModalShown:c,onToggleLibraryModal:d}=(0,eW.u)({entrypoint:e,modalType:"editor",openToUpdatesTab:i&&o}),u=a.useMemo(()=>o?(0,N.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):s?(0,N.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,N.t)("fullscreen.libraries_button.tooltip.no_updates"),[o,s]),m=o||s;return((0,ej.Pf)({showBadge:m,hasChangesToPull:o,disabled:!i}),!n||o||s)?a.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},i?a.createElement(eZ,{"aria-label":u,toggled:c,ref:t,recordingKey:h.Pt(l,"teamLibrary"),onClick:d,htmlAttributes:{"data-onboarding-key":eX.D}},a.createElement(eH.l,null),m&&a.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},a.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):a.createElement(ee.o5,{ref:t,recordingKey:h.Pt(l,"teamLibrary"),selected:c,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,N.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":eX.D,svg:eq.A,fallbackSvg:eQ.A,onClick:d,innerText:"Team Library"})):null}let eZ=(0,eG.tf)(ez.d);var e$=n(35645),e0=n.n(e$),e1=n(966712),e2=n(708389),e3=n(696673),e5=n(788744),e4=n(756317),e7=n(680681),e8=n(957987),e6=n(715173),e9=n(776018),te=n(538697);function tt(e){let{assetType:t,libraryNameByFileKey:n,onSetAssetType:l,onSetKeyboardNavigationElement:i,validAssetTypeOptions:o}=e,s=(0,r.wA)(),c=(0,r.d4)(e=>e.modalShown),d=(0,r.d4)(e=>e.dropdownShown),m=(0,r.d4)(B.tB),p=t.type===eK.I.FILE?t.fileKey:void 0,f=(0,e5.Fl)(),g=a.useCallback(()=>{c?.type===e9.V&&s(W.AS()),u.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:m?.key,assetsPanelVersion:2})},[s,c,m?.key]),h=a.useMemo(()=>{if((0,e7.NX)(f)){let e=Object.entries(n??{}).map(([e,t])=>({key:e,name:t}));return(0,e7.k9)({libraries:e,approvedLibraryKeysByResourceType:f}),e.map(({key:e})=>e)}return Object.keys(n??{}).sort((e,t)=>e2.f.LEXICOGRAPHICALLY(n[e],n[t]))},[n,f]),_=(0,eE.Ck)(),[E,y]=e0()(h,e=>!(0,e3.wJ)(e)),v=y.length>0&&_(),b=a.useMemo(()=>({format:e=>{switch(e.type){case eK.I.RECENT:return(0,N.t)("design_systems.assets_panel.dropdown_type_recents");case eK.I.ALL:return(0,N.t)("design_systems.assets_panel.dropdown_type_all_libraries");case eK.I.LOCAL:return(0,e1.kc)().dse_editor_templates_v1?(0,N.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,N.t)("design_systems.assets_panel.dropdown_type_local");case eK.I.FILE:return n[e.fileKey]}},isEqual:tn}),[n]);return a.createElement(te.l6,{className:"sidebar_asset_type_select--select--PTmwH",id:"component-sidebar-asset-type-select",property:t,formatter:b,onChange:l,dropdownAlignment:"left",openOnKeyPressed:[eM.Uz.SPACE,eM.Uz.ENTER],inputRef:i,dispatch:s,chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",inputClassName:"sidebar_asset_type_select--input--sSEn2",dropdownShown:e.useLocalState?e.dropdownShown:d,dropdownWidth:260,onShowDropdown:g,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:a.createElement(e8.P,{resourceId:p})},!!o[eK.I.ALL]&&a.createElement(te.c$,{value:{type:eK.I.ALL}}),!!o[eK.I.RECENT]&&a.createElement(te.c$,{value:{type:eK.I.RECENT}}),!!o[eK.I.LOCAL]&&a.createElement(te.c$,{value:{type:eK.I.LOCAL}}),E.length>0?a.createElement(te.sK,null):null,E.length>0&&!(0,e1.kc)().dse_preset_libraries?a.createElement(te.c$,{isHeader:!0,formattedValue:m?.org?.name?(0,N.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:m.org.name}):(0,N.t)("design_systems.assets_panel.dropdown_libraries")}):null,E.map(e=>(0,e7.vR)(e)?a.createElement(te.c$,{key:e,value:{type:eK.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:a.createElement(e4.FX,null)}):a.createElement(te.c$,{key:e,value:{type:eK.I.FILE,fileKey:e},fullWidth:!0})),v&&!(0,e1.kc)().dse_preset_libraries?a.createElement(te.sK,null):null,v&&!(0,e1.kc)().dse_preset_libraries?a.createElement(te.c$,{isHeader:!0,formattedValue:(0,N.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,v&&y.map(e=>a.createElement(te.c$,{key:e,value:{type:eK.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:a.createElement(e6.t,null)})))}function tn(e,t){return e.type===eK.I.FILE&&t.type===eK.I.FILE?e.fileKey===t.fileKey:e.type===t.type}var ta=n(280999),tl=n(731719);function tr({disabled:e,isList:t,onSetKeyboardNavigationElement:n,onToggleViewMode:l,recordingKey:r}){let i=t?(0,N.t)("design_systems.assets_panel.show_as_grid"):(0,N.t)("design_systems.assets_panel.show_as_list");return a.createElement(ee.K0,{ref:n,recordingKey:h.Pt(r,"toggleComponentsSidebarViewMode"),"data-tooltip-type":$.Ib.TEXT,"data-tooltip":i,svg:t?ta.A:tl.A,onClick:l,disabled:e})}var ti=n(135076),to=n(895235),ts=n(646240),tc=n(572206),td=n(470504),tu=n(154483),tm=n(175290),tp=n(286954),tf=n(452246),tg=n(44892),th=n(146817),t_=n(593779),tE=n(774442),ty=n(99506),tv=n(914214),tb=n(875387);function tw(e){let t=(0,tE.a)(ty._Y.DESIGN),n=(0,r.d4)(ek.getPermissionsState),l=(0,B.q5)(),i=r.d4(tv.x)?.id,{currentUserOrgId:o}=n,s=!!(o&&(0,ek.canGuestOrg)(o,n)),c=!!(i&&(0,ek.hasActiveEduTeam)(n,i));return(0,a.useMemo)(()=>t.transform(t=>(function({canGuestOrg:e,hasProTeamPaidStatus:t,openFile:n,userId:a,hasActiveEduTeam:l,assetResourceId:r}){return!!n&&!!a&&(!!e||!!t||!!l||!!((0,e1.kc)().dse_preset_libraries&&(0,e3.wJ)(r))&&g.zl.get(tb.q).has((0,t_.l)(r)))})({canGuestOrg:s,hasProTeamPaidStatus:t,openFile:l,hasActiveEduTeam:c,userId:i,assetResourceId:e})),[s,l,c,e,t,i])}var tN=n(473744),tx=n(151283),tk=n(534804),tI=n(575288),tT=n(416095),tC=n(267931),tS=n(173454),tA=n(809073),tP=n(237870),tL=n(743415),tO=n(239737),tD=n(746806),tM=n(511617),tR=n(915440),tF=n(976999),tB=n(447381),tK=n(837324),tU=n(733169),tz=n(830445),tH=n(694687),tV=n(132135),tG=n(321487),tW=n(216158),tY=n(984968),tX=n(421234);let tj="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",tq="asset_file_path--pathLink--lvFH3",tQ="asset_file_path--skeletonText--PIxni";function tJ({assetFileKey:e,assetNodeId:t}){let n=(0,tY.ol)(),l=(0,tH.sZ)(),i=!!l||(0,ex.w5)(n),o=l?.id,s=tW.M4.useFile(e),c=(0,tR.Rs)(eh.epW,{fileKey:e},{enabled:i}),d=c?.data?.file,u=function(e,t){let n=(0,r.d4)(e=>e.hubFiles)[e];return(0,e3.wJ)(e)&&n?(0,tK.qD)(n).name:t}(e,s?.data?.name),m=function(e,t){let n=(0,e3.wJ)(e),l=(0,tU.S)(e).unwrapOr(!1),i=(0,r.d4)(B.tB),o=tW.M4.useFile(e).data;return a.useMemo(()=>{if(!l||n||!o||!i||o.key===i.key)return null;let e=(0,tV.to)(o);return(0,tM.dR)(e,{"node-id":encodeURIComponent((0,tG.E)(t))})},[t,l,o,i,n])}(e,t),p=c?.status==="loading",f=(0,tz.E_)(e),g=d?.team?.id,h=g?function(e,t){let n=location.origin;return t?`${n}/files/${t}/team/${e}`:`${n}/files/team/${e}`}(g,o):void 0,_=d?.team?.name,E=g&&_&&i,y=d?.team?.workspace?.id,v=y&&o?tX.fO(y,o):void 0,b=d?.team?.workspace?.name,w=y&&b&&i;return i&&p?a.createElement("div",{className:tj,"data-testid":"asset-file-path-loader"},a.createElement(tF.Wi,{className:tQ,opacity:50}),"/",a.createElement(tF.Wi,{className:tQ,opacity:50})):a.createElement("div",{className:tj},w&&a.createElement(a.Fragment,null,a.createElement(tB.q,{tooltipText:b},a.createElement("a",{href:v,target:"_blank",className:tq},b)),"/"),E&&a.createElement(a.Fragment,null,a.createElement(tB.q,{tooltipText:_},a.createElement("a",{href:h,target:"_blank",className:tq},_)),"/"),a.createElement(tB.q,{tooltipText:u},m?a.createElement("a",{href:m,target:"_blank",className:tq},u):a.createElement("span",null,u)),(0,e1.kc)().dse_preset_libraries&&f&&a.createElement("div",{className:td.cx.flex.alignCenter.justifyCenter.ml2.$},a.createElement(e6.S,{hubFileId:e,showTooltip:!0})))}var tZ=n(103339),t$=n(504440),t0=n(343887),t1=n(470370),t2=n(376406),t3=n(946689),t5=n(449124),t4=n(163023),t7=n(46481),t8=n(722261),t6=n(220747),t9=n(29680),ne=n(237929),nt=n(273226),nn=n(986231),na=n(564577),nl=n(67294),nr=n(296045),ni=n(371751);let no="asset_updated_details--dot--SoliI",ns="asset_updated_details--updatedAt--eam-d",nc="asset_updated_details--updatedAtAvatar--uf4Gy",nd="asset_updated_details--handle--63B8y";function nu({user:e,communityProfile:t,updatedAt:n}){let l=np(e),r=null,i=null;return(null!=t?(r=a.createElement(nr.e,{entity:t,size:nl.Pf.SMALL}),i=t.name):l&&(r=a.createElement(nl.H8,{user:e,size:nl.Pf.SMALL}),i=e.handle),r&&i)?a.createElement("div",{className:nc},r,a.createElement("span",{className:nd},i),n?a.createElement(a.Fragment,null,a.createElement("span",{className:no},"\xb7"),a.createElement(na.h1,{date:n})):null):n?a.createElement("div",{className:ns},(0,N.tx)("design_systems.assets_panel.updated_at",{updatedAt:a.createElement(na.h1,{date:n})})):null}function nm({assetKey:e,type:t,updatedAt:n}){let l=(0,ni.R8)({assetKey:e,type:t}),{avatar:r,authorName:i}=a.useMemo(()=>{if("loaded"!==l.status||!l.data)return{avatar:null,authorName:null};if("community"===l.data.type)return{avatar:a.createElement(nr.e,{entity:(0,ni.M)(l.data.communityProfile),size:nl.Pf.SMALL}),authorName:l.data.communityProfile.name};let e=(0,ni.G5)(l.data.user);return np(e)?{avatar:a.createElement(nl.H8,{user:e,size:nl.Pf.SMALL}),authorName:e.handle}:{avatar:null,authorName:null}},[l]);return"loading"===l.status?a.createElement(tF.Wi,{className:td.cx.h16.w100.$,animationType:tF.JR.LIGHT_SHIMMER}):r&&i?a.createElement("div",{className:nc},r,a.createElement("span",{className:nd},i),n?a.createElement(a.Fragment,null,a.createElement("span",{className:no},"\xb7"),a.createElement(na.h1,{date:n})):null):n?a.createElement("div",{className:ns},(0,N.tx)("design_systems.assets_panel.updated_at",{updatedAt:a.createElement(na.h1,{date:n})})):null}function np(e){return null!=e&&!!e.img_url&&(!!e.handle||!!e.name)}var nf=n(790429),ng=n(534611);function nh({renderedAssetData:e}){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.dropdownShown),l=a.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===ng.AD?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),o=a.useCallback(e=>{let t="all"===e.type?ng.AD:e.guid;i.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:s}=e,c=a.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let n=e?.nodeData?.moduleFrameData?.frames??{};return n[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==s)return null;let{playgroundGUID:d,moduleFrameData:u}=s;if(!d||null==u)return null;let m=Object.keys(u.frames??{});return m.length<2?null:a.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},a.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,N.tx)("design_systems.assets_panel.frames")),a.createElement(te.l6,{id:"playground-module-frame-select",property:l,formatter:c,dispatch:t,onChange:o,dropdownShown:n},a.createElement(te.c$,{value:{type:"all"}}),a.createElement(te.sK,null),m.map(e=>a.createElement(te.c$,{key:e,value:{type:"guid",guid:e}}))))}var n_=n(812115),nE=n(930269);let ny=(0,m.jz)(nE.figmaComponentFlyoutTextMaxCollapsedHeight);function nv({description:e,description_rt:t}){let n=a.useRef(null),[l,r]=a.useState(!0),[i,o]=a.useState(!1),s=(0,ep.ZC)(e);a.useEffect(()=>{e&&n.current&&s!==e&&r(n.current.scrollHeight>ny)},[e,s]);let c=a.useCallback(()=>{l&&o(!0),r(!l)},[l]);if(!e&&!t)return null;let u=!!e&&(l||i);return a.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?a.createElement("div",null,a.createElement(n_.R,{fallback:a.createElement(ed.kt,null),errorFallback:null,value:t,quillClassName:d()("truncated_component_description--quill--yYiwV",{"truncated_component_description--quillCollapsed--3DiWp":l}),quillInnerRef:n})):a.createElement("div",{ref:n,className:d()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":l},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),u&&a.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:c},l?(0,N.tx)("design_systems.assets_panel.show_more"):(0,N.tx)("design_systems.assets_panel.show_less")))}var nb=n(313888),nw=n(132208),nN=n(798415);let nx=(0,tu.fv)();function nk({renderedAssetData:e,errorType:t,canViewPlayground:n,onInsert:l,shouldHideError:i,onSetShouldHideError:o}){let s=(0,r.d4)(e=>e.hubFiles),c=(0,t9.T3)(),[d,u]=a.useState(!1),m=(0,S.GS)();a.useEffect(()=>{u(!1),o(!1)},[e.asset,o]);let p=(0,nf.S)(e.asset),f=(0,nn.Y)(e.asset),g=a.useMemo(()=>(0,ne.kH)(e.asset.name??""),[e.asset.name]),h=a.useRef(null),_=(0,t2.NG)({text:g,textRef:h}),E=a.useMemo(()=>nx(e.asset),[e.asset]),y=(0,e3.wJ)(E),v=y?s[E]:null,b=e.asset,w=a.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let n=c.get(t);if(!n)return"";let a=c.get(n.symbolId??"");return a?(a.isState?a.parentGuid:a.guid)??"":""},[e,c]),x=a.useMemo(()=>{if(t)return{errorType:t,shouldHideError:i,setShouldHideError:o}},[t,i,o]),k=y&&(0,e1.kc)().presets_baseline?(0,N.tx)("design_systems.assets_panel.insert"):e.asset.type===tS.PW.MODULE&&(0,e1.kc)().dse_editor_templates_v1?(0,N.tx)("design_systems.assets_panel.insert_template"):(0,N.tx)("design_systems.assets_panel.insert_instance");return a.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},p&&!d&&a.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(t5.z,{orientation:"vertical",iconSrc:nw.A,onClose:()=>u(!0),variant:"design"},(0,N.tx)("design_systems.assets_panel.update_banner"))),a.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},a.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":_?g:void 0,"data-tooltip-type":$.Ib.TEXT,ref:h},g),!!f&&f>1&&a.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,N.tx)("design_systems.assets_panel.variant_count",{numVariants:f}))),a.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},a.createElement(nv,{description:b.description,description_rt:b.description_rt})),a.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},(0,e1.kc)().dse_remove_user_serialization?a.createElement(nm,{assetKey:(0,tT.Av)(b),type:b.type,updatedAt:b.updated_at}):a.createElement(nu,{user:b.user,communityProfile:v?.publisher,updatedAt:b.updated_at})),a.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,e1.kc)().dse_fpl_wave_1&&m?a.createElement(t$.IK,{onClick:l},k):a.createElement(t3.$$,{onClick:l,fullWidth:!0},k)),n&&!e?.nodeData&&!x&&a.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},a.createElement(tF.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),a.createElement(tF.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),n&&(e?.nodeData||x)&&a.createElement(t9.q0.Provider,{value:c},(0,e1.kc)().dse_editor_templates_v1&&(0,e1.kc)().dse_editor_templates_frames&&a.createElement(nh,{renderedAssetData:e}),a.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},a.createElement(t6.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:a.createElement(nI,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:w,sceneGraph:c,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:nt.O2.UNBOUNDED,errorData:x,shouldShowDividerAboveProps:!0})),a.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},a.createElement(t8.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function nI({renderedAssetData:e}){let t=a.useCallback(()=>{e.refetchAndResetScene()},[e]);return a.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},a.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(t4.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:nb.A}),(0,N.tx)("design_systems.assets_panel.playground_label")),(0,e1.kc)().dse_fpl_wave_1?a.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},a.createElement(t0.K,{"aria-label":(0,N.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,N.t)("design_systems.playground.reset_properties"),"data-tooltip-type":$.Ib.TEXT}},a.createElement(t7.U,{svg:nN.A},a.createElement(t1.N,null)))):a.createElement(ee.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:nN.A,onClick:t,"data-tooltip":(0,N.t)("design_systems.playground.reset_properties"),"data-tooltip-type":$.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var nT=n(428654),nC=n(141123),nS=n(232205),nA=n(186380);n(566418);let nP="component_flyout_thumbnail--thumbnail--p3jV2";function nL({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:n,setFlyoutHidden:l,sectionPosition:r,sectionNameForTracking:i,sectionDepth:o}){let s=a.useCallback(()=>{l(!0)},[l]),{onInsertableResourcePointerDown:c,dragState:d}=(0,nS.j)({resource:t.asset,isList:!1,clickToInsert:!1,sourceForTracking:"asset-description-preview",fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:s,onPointerUpWithoutInsert:n,sectionPosition:r,sectionNameForTracking:i,sectionDepth:o}),u=a.useMemo(()=>{let e=(0,tg.zR)(t.asset,null);if(null!=e)return nT.F.format(e)},[t.asset]);return a.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&t.hasChangesToReset?a.createElement("img",{className:nP,src:t.thumbnailData.src,alt:(0,N.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):a.createElement(nA.M,{className:nP,draggable:!1,key:(0,th.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),a.createElement(nC.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let nO={maxWidth:640,maxHeight:480},nD=(0,tu.fv)();function nM({asset:e,onInsert:t,onLoaded:n,flyoutHidden:l,onCloseIfHidden:o,setFlyoutHidden:s,sectionPosition:c,sectionNameForTracking:d,sectionDepth:u}){let m=tw(nD(e)),[p,f]=a.useState(!1),g=a.useCallback(()=>f(!1),[]),h=(0,tZ.MO)({canvasAsset:e,canViewPlaygroundQueryResult:m,onLoaded:n,onError:g,thumbnailOptions:nO}),_=(0,tC.H)(),E=(0,r.d4)(e=>e.fileVersion),y=(0,ep.ZC)(E);if(a.useEffect(()=>{h?.state==="LOADED"&&h?.currentAssetData?.nodeData?.playgroundGUID&&null!=y&&y!==E&&(_(),i.glU.clearPlaygroundScene())},[E,y,_,e.type,h]),!h)return a.createElement(ed.kt,{className:"component_flyout--spinner--c-wap"});let v="LOADED"===h.state?h.currentAssetData:h.previousAssetData,b="ERROR"===h.state?h.errorType:void 0;return a.createElement("div",{className:"component_flyout--wrapper--96Jih"},a.createElement(nL,{renderedAssetData:v,canViewPlayground:m.unwrapOr(!1),onCloseIfHidden:o,setFlyoutHidden:s,sectionPosition:c,sectionNameForTracking:d,sectionDepth:u}),!l&&a.createElement(nk,{renderedAssetData:v,errorType:b,canViewPlayground:m.unwrapOr(!1),onInsert:t,onSetShouldHideError:f,shouldHideError:p}))}var nR=n(180715),nF=n(837746);let nB=(0,m.jz)(nF.LdP),nK=(0,m.jz)(nF.wkK),nU=(0,tu.fv)(),nz=(0,tP.Ju)(function({asset:e,searchSessionId:t,query:n,sectionPosition:i,sectionNameForTracking:o,assetTypeDropdownSelection:s,sectionDepth:c,containerWidth:d,onGetKeyboardNavigationItemById:m}){let p=a.useRef(null),f=(0,ts.Xr)(nR.T),g=a.useMemo(()=>nU(e),[e]),h=tw(g),_=(0,e5.cm)(g),E=(0,B.q5)(),y=(0,r.wA)(),v=(0,r.d4)(e=>(0,eT.e_)(e).local.thumbnails),b=(0,tC.H)(),w=(0,r.d4)(e=>e.instanceSwapPickerShown),x=(0,tL.k)(),k=(0,ew.tM)();(0,eo.h)(()=>{u.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,th.V)(e),assetType:(0,th.q)(e.type),fileKey:g,isLocal:e.isLocal,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,assetsPanelVersion:x,partnerType:(0,tx.X)(g),queryId:k??void 0})}),(0,eo.h)(()=>()=>{y((0,tp.vq)()),f(!1)}),a.useEffect(()=>{if(!(0,tT.dx)(e)||!e.isLocal)return;let t=e.node_id?v[e.node_id]:null,n=e.type===tS.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==n&&requestAnimationFrame(()=>{let t=(0,tg.r2)(e.node_id);null!=t&&y(tf.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:tS.$1.LOCAL}))})},[e,y,v]);let I=a.useCallback(()=>{requestAnimationFrame(()=>p?.current?.ensureModalOnScreen())},[]),T=a.useCallback(()=>{w?.isShown&&y((0,tp.vq)())},[y,w]),C=(0,tk.Hu)(g),S=(0,tO.Nv)(!0),A=a.useCallback(()=>{if("loaded"!==h.status)return;let a=L.Y5.getViewportInfo(),l={canvasPosition:{x:a.offsetX,y:a.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new tc.Mi(.5,.5),storeInRecentsKey:tA.$A.Design,useSmartPositioning:!0,fromPlayground:h.data};e.type===tS.PW.COMPONENT?y((0,ef.Yf)({item:e,...l})):e.type===tS.PW.STATE_GROUP?y((0,ef.b$)({item:e,...l})):e.type===tS.PW.MODULE&&y((0,ef.Bs)({item:e,...l,afterModuleInsertion:()=>L.Y5.triggerAction("commit")}));let r={aiResultsEnabled:S,assetKey:(0,tT.Av)(e),assetType:(0,th.q)(e.type),queryId:k??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:s,assetsPanelVersion:x,fileKey:E?.key??void 0,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,isExample:(0,tN.o)(e),libraryKey:e.library_key,partnerType:(0,tx.X)(g),sectionDepth:c,sourceSection:o??void 0};u.az.trackDefinedEvent("assets_panel.flyout_insert",{...r,libraryType:C,searchSessionId:t??void 0,searchQuery:n,sectionPosition:i}),u.az.trackDefinedEvent("asset_search.result_inserted",{...r,libraryType:C,position:i,query:n,sessionId:t??void 0,entryPoint:"assets-panel"})},[h,e,g,y,s,E?.key,E?.parentOrgId,E?.teamId,C,t,n,i,o,c,x,S,k]);a.useEffect(()=>{let e=e=>{let t=l.findDOMNode(p.current?.getEl());if(t){if(!t.contains(e.target)){if(f(!1),(0,to.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;y(W.ES({type:e9.V}));return}f(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[y,f]);let P=a.useCallback(t=>{let n=t.event.code??t.event.key,a=(0,th.V)(e),l=m?.(a);if(!l)return;let r=t.event.keyCode===eM.Uz.TAB,i=t.event.shiftKey;if((0,ec.c2)(t.event,!1)){l.getItemAbove()?.focus(),t.accept();return}if((0,ec.Nt)(t.event,!1)){l.getItemBelow()?.focus(),t.accept();return}if((0,ec.yn)(n,!1)||r&&i){l.getItemToTheLeft()?.focus(),t.accept();return}if((0,ec.lv)(n,!1)||r&&!i){l.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===n){A(),t.accept();return}},[e,A,m]);var O=a.createElement("div",{className:td.cx.minW0.flex1.$},a.createElement("div",null,(0,N.t)("design_systems.assets_panel.details")),a.createElement(tm.Y,{spacing:0,direction:"horizontal"},e&&a.createElement(tJ,{assetFileKey:g,assetNodeId:e.node_id}),_&&a.createElement("div",{className:td.cx.pr4.$},a.createElement(e4.KP,{fileKey:g,variant:"secondary",tooltipLocation:"below"}))));let[D,M,R]=(0,tI.J)(!1),F=a.useCallback(()=>{D.current&&b()},[D,b]);return"loaded"!==h.status?null:a.createElement(tD.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new tc.Mi(d+1,nB),onClick:T,onClose:b,onKeyDown:P,title:O,truncateTitleText:!0,initialWidth:nK,ref:p,dataTestId:"component-flyout-modal",hidden:M,noCancelDragAndDrop:!0},a.createElement("div",{"data-not-draggable":!0},a.createElement(nM,{asset:e,onLoaded:I,onInsert:A,flyoutHidden:M,onCloseIfHidden:F,setFlyoutHidden:R,sectionPosition:i,sectionNameForTracking:o,sectionDepth:c})))},e9.V);var nH=n(38580),nV=n(940596);let nG=(0,nV.Wh)(()=>(0,nH.eU)(0));var nW=n(811529),nY=n(669178);function nX(e,t,n){return null!=e&&(t[e.type]||e.type===eK.I.FILE&&n[e.fileKey])?e:{type:eK.I.ALL}}var nj=n(857766),nq=n(670494),nQ=n(875847),nJ=n(532888),nZ=n(238837),n$=n(372291),n0=n(233333),n1=n(794272);let n2="searchResults";function n3(e,t){return`${t}:${e.key}`}function n5(e){return`${e}:${n2}:templates`}function n4(e){return`${e}:recentlyUsed`}function n7(e){return`${e}:stickySection`}var n8=n(734013),n6=n(634832),n9=n(607283),ae=n(30637),at=n(801161),an=n(274071),aa=n(603396),al=n(969504),ar=n(488094),ai=n(734017),ao=n(739212),as=n(448406),ac=n(486107),ad=n(408938);let au=(0,tu.fv)();function am({asset:e,fileName:t,sourceForTracking:n,thumbHeight:l,thumbLayout:i,thumbWidth:o,viewMode:s,sectionNameForTracking:c,sectionPosition:m,noFlyout:p,preventDrag:f,disableContextMenu:h}){let _=(0,r.wA)(),E=(0,r.d4)(e=>e.dropdownShown),y=(0,r.d4)(eC.dK),v=(0,r.d4)(eT.F9),b=(0,r.d4)(eT.e_),w=(0,g.md)(nR.T),N=b.assetsPanelSearch.searchOptions?.type===eK.I.ALL,x=a.useMemo(()=>au(e),[e]),k=(0,e5.cm)(x),I=(0,tz.E_)(x),T=N&&(k||I),C=a.useRef(null),S=(0,ne.kH)(e.name),A=(0,t2.NG)({text:S,textRef:C}),P=a.useRef(null),L=(0,t2.NG)({text:t??"",textRef:P}),O=E?.type===ai.K.ASSETS_PANEL?E?.data?.component:void 0,D=O?.node_id===e.node_id,M=s===nW.Bk.List,R=M?"list-no-padding":"grid",F=!!b.assetsPanelSearch.query,K=(0,al.F)(e,ai.K.ASSETS_PANEL,m,c),U=(0,aa.n)(e),z=(0,ep.ZC)(U),H=!p;a.useEffect(()=>{U&&!z&&_(at.jD())},[U,_,z]);let V=e.isLocal&&(0,ae.PN)()?(0,ao.eT)(e.node_id,y).join("-"):e.node_id,G="Local components"===c||"Local private components"===c||e.isLocal,{handleClick:W,handleDoubleClick:Y}=function(e,t){let n=(0,B.q5)(),l=a.useRef(null),{searchSessionId:r}=(0,ew.Gq)(),i=(0,ew.tM)(),o=a.useCallback(a=>{u.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:a,isLocalComponent:t,assetKey:(0,th.V)(e),fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,searchSessionId:r??void 0,assetsPanelVersion:2,queryId:i??void 0})},[e,t,n?.key,n?.parentOrgId,n?.teamId,r,i]);return{handleClick:a.useCallback(()=>{l.current||(l.current=setTimeout(()=>{o(!1),l.current=null},500))},[o]),handleDoubleClick:a.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=null),o(!0)},[o])}}(e,G??!1),X=i!==as.rp.SMALL&&!M,j=!M&&(0,e1.kc)().api_asset_search_with_scores,q=(0,nn.Y)(e),Q=M?l:l-2,J=M?o:o-2,Z=a.useMemo(()=>f?void 0:{sourceForTracking:n,clickToInsert:!1,afterSuccessfulInsert:an.$z,sectionNameForTracking:c},[f,c,n]),$=G?a.createElement(ar.MT,{item:e,height:Q,width:J,draggable:Z,onContextMenu:h?void 0:K,shouldHideTooltip:H||D||U,isFilePublished:v,recordingNodePath:V,isSearch:F,useBaseTile:!0,hideNameOverlay:X,numVariants:q,displayType:R,sectionPosition:m,showTooltipImmediately:!1,fileName:A||L?t:void 0,alwaysShowBorder:!0}):a.createElement(ar.lX,{item:e,showName:!0,height:Q,width:J,draggable:Z,onContextMenu:h?void 0:K,shouldHideTooltip:H||D||U,recordingNodePath:V,isSearch:F,useBaseTile:!0,hideNameOverlay:X,numVariants:q,displayType:R,sectionPosition:m,showTooltipImmediately:!1,fileName:A||L?t:void 0,alwaysShowBorder:!0});return a.createElement("div",{className:M?ac.AD:ac.iE,onClick:W,onDoubleClick:Y},M?$:a.createElement("div",{className:d()(ac.QX,{[ac.Gr]:U,[ac.HR]:U&&w})},$),X&&a.createElement("div",{role:"button",className:ac.Bm,style:{width:o}},a.createElement("span",{className:ac.UU,ref:C},S),H&&a.createElement(t4.B,{ariaHidden:!0,className:ac.OW,svg:ad.A})),X&&!!t&&a.createElement(tm.Y,{spacing:0,direction:"horizontal"},a.createElement("div",{className:d()(ac.Md,ac.Rm),ref:P,style:T?{maxWidth:o-e8.J}:{width:o}},t),T&&a.createElement(e8.P,{resourceId:x,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),j&&a.createElement(a.Fragment,null,a.createElement("div",{className:d()(ac.Md,ac.Rm),style:T?{maxWidth:o-e8.J}:{width:o}},"AI: "+(e.ai_score??"N/A")),a.createElement("div",{className:d()(ac.Md,ac.Rm),style:T?{maxWidth:o-e8.J}:{width:o}},"Lex: "+(e.lexical_score??"N/A"))),H&&M&&a.createElement(t4.B,{ariaHidden:!0,className:ac.Ki,svg:ad.A}))}var ap=n(47506),af=n(10648),ag=n(262311);let ah="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",a_="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",aE="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var ay=n(949207),av=n(432023);let ab=e=>"isExpandable"in e&&e.isExpandable,aw=(e,t)=>{switch(e){case ah:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case aE:return a_;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},aN=e=>{let t=[];if(e&&e.length){t.push(a.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let n=e.slice(1).join(" / ");t.push(a.createElement("div",{className:a_,key:n},n,"\xa0"))}return t};class ax extends a.Component{componentDidUpdate(e){ab(this.props)&&ab(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,ap.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?ah:aE,t=ab(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",n=aw(e,this.props.shouldShowDividerLine),l=ab(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return a.createElement(eG.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!ab(this.props)&&this.props.isExpanded},trackingTargets:af.K.RCS},a.createElement("div",{className:d()(n,e,t,l)},ab(this.props)&&a.createElement(t4.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?ay.A:av.A}),ab(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&a.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),ab(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?aN(this.props.stickyHeadertokens):a.createElement("div",{className:n},this.props.title),(0,e7.vR)(this.props.subscribedFileKey)&&a.createElement("div",{className:td.cx.flex.alignCenter.justifyCenter.ml4.$},a.createElement(e4.KP,{fileKey:this.props.subscribedFileKey})),(0,e1.kc)().dse_preset_libraries&&(0,tz.TX)(this.props.subscribedFileKey)&&a.createElement("div",{className:td.cx.flex.alignCenter.justifyCenter.ml4.$},a.createElement(e6.S,{hubFileId:this.props.subscribedFileKey,showTooltip:!0,redirectToHubFile:!0}))))}}ax.H1_HEIGHT=(0,m.hG)(ag.BS),ax.H3_HEIGHT=(0,m.hG)(ag.T);class ak extends a.Component{render(){return a.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}ak.HEIGHT=(0,m.hG)(ag.FX);let aI="component_sidebar--stickyHeaderSpacer--SaKsM",aT=(0,m.hG)(ag.FX),aC=(0,m.hG)(ag.FX)/2,aS=(0,m.hG)(ag.Nz),aA=(0,m.hG)(ag.cP),aP=(0,tu.fv)();function aL({parent:e,outputElements:t,libraryNameByResourceId:n,items:l,keyPrefix:r,sharedOptions:i,sectionNameForTracking:o}){let s=(0,as.PI)(l,!0),c={layout:s,...i},d=(0,as.A5)(c),{width:u,height:p}=(0,as.rj)(c,d),f=i.isList?1:0,g=i.isList?0:aS,h=i.isList||!n?0:aA,_=p+(i.isList?aC:aT)+g+h+f+(i.isList?0:-2);(0,e1.kc)().api_asset_search_with_scores&&(_+=2*(0,m.hG)(ag.uY));let E=u+(i.isList?aC:aT)+(i.isList?0:-2),y=0,v=n9.oz.getNextRenderedElementTop(t)+aC;for(let[c,m]of l.entries()){let l=i.isList?v+y*_:v+Math.floor(y/d)*_,f=i.isList?0:3+y%d*E,g=(0,th.V)(m),h=aP(m);t.push({parent:e,type:n9.zq.TILE,top:l,left:f,height:_,key:`${r}:${g}`,element:function({item:e,fileName:t,sourceForTracking:n,sectionNameForTracking:l,thumbLayout:r,thumbHeight:i,thumbWidth:o,isList:s,sectionPosition:c}){return a.createElement(am,{asset:e,fileName:t,sourceForTracking:n,sectionNameForTracking:l,thumbLayout:r,thumbHeight:i,thumbWidth:o,viewMode:s?nW.Bk.List:nW.Bk.Grid,sectionPosition:c})}({containerWidth:i.containerWidth,fileName:h?n?.[h]:void 0,sourceForTracking:i.sourceForTracking,sectionNameForTracking:o,thumbLayout:s,thumbHeight:p,thumbWidth:u,isList:i.isList,item:m,isExpanded:i.isExpanded,sectionPosition:c}),item:m,numCols:d,containerWidth:i.containerWidth,sectionNameForTracking:o,sectionPosition:c}),y+=1}}let aO=(e,t,n)=>{let l=n7(n.keyPrefix),r=n9.oz.getNextRenderedElementTop(t),i={parent:e,type:n9.zq.ROW,top:r,height:"h1"==n.size?ax.H1_HEIGHT:ax.H3_HEIGHT,key:l,element:a.createElement(ax,{size:n.size,isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,isFixed:!1,subscribedFileKey:n.subscribedFileKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:n.isExpanded,getExpandableElement:e=>a.createElement(ax,{size:n.size,isExpandable:!0,isExpanded:e,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedFileKey:n.subscribedFileKey}),sectionNameForTracking:n.sectionNameForTracking,rowType:n.rowType,fixedElement:a.createElement(a.Fragment,null,a.createElement("div",{className:aI}),a.createElement(ax,{size:"h1",isExpandable:!0,isExpanded:n.isExpanded,title:n.title,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:null,stickyHeadertokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,isFixed:!0,subscribedFileKey:n.subscribedFileKey}))};return t.push(i),i};function aD({sectionHeaderText:e,isFixed:t}){return a.createElement("div",{className:d()("component_sidebar--sectionHeader--v0N1h",t?"component_sidebar--isFixed--orinE":"")},a.createElement("div",{className:"component_sidebar--sectionHeaderText--hDKu5"},e))}function aM(e,t,n){let l=n9.oz.getNextRenderedElementTop(e),r={key:`${n.keyPrefix}:sectionHeader:${t}`,isSticky:!0,parent:null,isFixed:!1,type:n9.zq.ROW,top:l,height:40,element:a.createElement(aD,{sectionHeaderText:t,isFixed:!1}),fixedElement:a.createElement(a.Fragment,null,a.createElement("div",{className:aI}),a.createElement(aD,{sectionHeaderText:t,isFixed:!0})),isStaticRow:!0,sectionNameForTracking:n.sectionNameForTracking};return e.push(r),r}function aR({outputElements:e,results:t,moreResults:n,showMoreResults:l,keyPrefix:r,overallOptions:i,libraryNameByResourceId:o,toggleShowMoreResults:s,parent:c}){if(t.length>0&&aL({parent:c??null,outputElements:e,items:t,keyPrefix:`${r}:results`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"Primary search results"}),n.length>0){let t=n9.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:n9.zq.ROW,top:t,height:40,key:`${r}:moreResultsLink`,element:a.createElement("div",{className:"component_sidebar--text--g20jk"},l&&(0,N.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!l&&a.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:s},(0,N.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:n.length}))),sectionNameForTracking:"More search results"}),l&&aL({parent:null,outputElements:e,items:n,keyPrefix:`${r}:moreResults`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"More search results"})}}function aF({prevParent:e,outputElements:t,inputSubtree:n,inputParentTree:l,keyPrefix:r,sharedOptions:i,sectionNameForTracking:o,hideTitle:s}){let c=n3(n,r),d=!s&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(n,l),u=function(e,t,n,a,l,r){if(!e)return null;let i=n3(a,l),o=n7(i),s=r.isExpanded(o,(0,n8.pR)(a.type,a.sectionNameForTracking));switch(a.type){case"FILE":return aO(null,n,{keyPrefix:i,size:"h1",title:a.name,isExpanded:s,stickyHeaderTokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,subscribedFileKey:a.subscribedFileKey,sectionNameForTracking:a.sectionNameForTracking,rowType:n9.l$.LIBRARY});case"PAGE":return aO(t,n,{keyPrefix:i,title:a.name,size:"h3",isExpanded:s,stickyHeaderTokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,sectionNameForTracking:a.sectionNameForTracking,rowType:n9.l$.PAGE});case"NAME_GROUP":return aO(t,n,{keyPrefix:i,size:"h3",title:a.flattenedPath?a.flattenedPath:a.name,isExpanded:s,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:void 0,stickyHeaderTokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,sectionNameForTracking:a.sectionNameForTracking,rowType:n9.l$.NAME_GROUP});case"ASSET_TYPE":let c=aB(a.sectionNameForTracking);return aO(t,n,{keyPrefix:i,size:"h3",title:a.name,isExpanded:!0,sectionNameForTracking:a.sectionNameForTracking,rowType:c})}}(d,e,t,n,r,i),m=u?u.children:t,p=u||e;if((0,e1.kc)().dse_templates_proto){let e=n.subtrees.find(nZ.Qe);null!=e&&aF({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:n,keyPrefix:r,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(n.type){case"PAGE":case"ASSET_TYPE":case"FILE":aL({parent:p,outputElements:m,items:n.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;case"NAME_GROUP":n.skipElementsInRendering||aL({parent:p,outputElements:m,items:n.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;default:(0,n6.assertNever)(n.type)}for(let e of n.subtrees)(0,e1.kc)().dse_templates_proto&&(0,nZ.Qe)(e)||aF({prevParent:p,outputElements:m,inputSubtree:e,inputParentTree:n,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});"FILE"===n.type&&d&&function(e,t,n){let l=n9.oz.getNextRenderedElementTop(t);t.push({parent:e,type:n9.zq.SEPARATOR,top:l,height:n.size,key:`${n.keyPrefix}:spacer${n.size}`,element:a.createElement(ak,{size:n.size})})}(p,m,{keyPrefix:c,size:16})}let aB=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?n9.l$.LOCAL_TEMPLATES:n9.l$.TEMPLATES:t?n9.l$.LOCAL_COMPONENTS:n9.l$.COMPONENTS},aK="root";var aU=n(545816);let az=[];function aH(e,t,n){let a=[];return e&&aF({prevParent:null,outputElements:a,inputSubtree:e,inputParentTree:t,keyPrefix:aK,sharedOptions:n,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),a}let aV="library-section-asset-type";function aG(e){switch(e){case"all":return{type:eK.I.ALL};case"recent":return{type:eK.I.RECENT};case"local":return{type:eK.I.LOCAL};default:return{type:eK.I.FILE,fileKey:e}}}var aW=n(56063),aY=n(639318),aX=n(336599),aj=n(705129);function aq(e){let t=(0,r.d4)(e=>e.loadingState),n=(0,r.d4)(e=>e.fileVersion),l=(0,r.d4)(e=>e.openFile),i=(0,tL.k)(),o=l&&null!=n&&(0,aj.yD)(l.key)||null,s=!(null!=o&&(0,aX.D2)(t,o));a.useEffect(()=>{s||function(e,t,n){if(aQ)return;let{numLibraries:a,numComponents:l,numComponentsWithLimit:r}=e();(0,u.sx)("Assets Panel Initial Load",{numLibraries:a,numComponents:l,numComponentsWithLimit:r,assetsPanelVersion:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0}),aQ=!0}(e,i,l)},[e,s,l,i])}let aQ=!1;var aJ=n(675678),aZ=n(799569),a$=n(229033),a0=n(931828),a1=n(101505),a2=n(206193);function a3(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.openFile),n=(0,r.d4)(e=>e.user?.id);if(!t)return null;let l=t.teamId,i=a.createElement(t3.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,u.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:l,userId:n}),e((0,W.to)({type:a$.V,data:{upsellSource:a2.b.LIBRARY_UPSELL_BADGE,teamId:l??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:a1.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,N.tx)("design_systems.assets_panel.library_upsell_upgrade"));return a.createElement(v.tH,{boundaryKey:"LibraryUpsellBanner",fallback:v.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:aJ.FigmaTeam.MONETIZATION_UPGRADES}},a.createElement(eG.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},a.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},a.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},a.createElement(aZ.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,u.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:l,userId:n}),e(a0.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),a.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},a.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},a.createElement(t7.U,{svg:eq.A,className:"library_upsell_banner--bannerIcon--n5IGN"},a.createElement(eH.l,null))),a.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,N.tx)("design_systems.assets_panel.library_upsell_header")),a.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,N.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:i})))))))}let a5=(0,m.hG)(nF.gNA),a4={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function a7({viewMode:e,toggleViewMode:t,containerSizingOptions:n,recordingKey:l}){let r=(0,U.iZ)(),i=(0,B.q5)(),[o,s]=(0,g.fp)(nG),c=(0,ei.A)(e=>{s(e),r&&(0,P.uE)("action_left_panel_scroll",{user:r},{assetsPanelVersion:2,tab:"assets",fileKey:i?.key,fileTeamId:i?.teamId??void 0,fileOrgId:i?.parentOrgId??void 0})},500);return a.createElement(ec.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},a.createElement(a8,{initialScrollTop:o,onScroll:c,viewMode:e,toggleViewMode:t,containerSizingOptions:n,recordingKey:l}))}function a8({initialScrollTop:e,onScroll:t,viewMode:n,toggleViewMode:l,containerSizingOptions:i,recordingKey:o}){let s=(0,r.wA)(),c=(0,r.d4)(e=>e.dropdownShown),d=(0,r.d4)(eT.e_),m=(0,r.d4)(eI.hK),p=(0,r.d4)(eC.dK),f=(0,r.d4)(eC.Xt),h=(0,r.d4)(eS.P),y=(0,r.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),v=(0,r.d4)(e=>e.isFreeUser),b=(0,r.d4)(e=>e.user),w=(0,E.Av)(),x=(0,r.d4)(e=>e.openFile),k=(0,eb.FC)(),I=(0,n0.D)(),{query:T,searchSessionId:C}=(0,ew.Gq)();(0,aW.y)(),ey();let S=(0,ec.q_)();a.useEffect(()=>{s(eu.cr({shouldSearchDefaultLibraries:!1}))},[s]);let{assetType:A,libraryNameByFileKey:P,onSetAssetType:L,scrollContent:O,validAssetTypeOptions:M}=function({containerSizingOptions:e,viewMode:t}){var n;let l=function(){let e=(0,r.d4)(eT.e_),t=(0,r.d4)(B.tB),n=(0,r.d4)(nJ.t_),l=(0,r.d4)(e=>e.hubFiles),i=(0,r.d4)(eT.MH),o=(0,r.d4)(eT.dM),s=(0,r.d4)(eT.h3),c=(0,r.d4)(eS.P),d=(0,eE.Ck)(),u=(0,e5.Fl)(),m=t?.teamId?c[t.teamId]:null,p=!!m&&(0,ex.w5)(m),f=(0,nQ.T9)(t?.project),g=a.useMemo(()=>(0,nW.Sg)(i,o),[i,o]),h=a.useMemo(()=>(0,nW.ND)(s),[s]),_=a.useMemo(()=>(0,nW.ff)(e,t,n,f),[e,t,n,f]),E=(0,n$.Lm)(),y=a.useMemo(()=>(0,nW.sJ)(E,n,t,e,f),[n,f,e,t,E]),v=a.useMemo(()=>d()?(0,nW.o6)(e,t,l,f):null,[d,e,t,l,f]);return(0,nq.jP)(v),a.useMemo(()=>(0,nZ.Nx)({localLibraryItemsInfo:g,localTemplatesInfo:h,subscribedItemsInfo:_,subscribedTemplatesInfo:y,subscribedCommunityItemsInfo:v,defaultSubscribedItemsInfo:(0,nW.Mt)(),canPublish:p,currentFileKeyForPublish:t?(0,nj.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:u}),[g,h,_,y,v,p,t,u])}(),{productComponents:i,templates:o}=(0,nY.g5)(tA.$A.Design),s=(0,r.d4)(eF.q5),c=(0,n0.D)(),d=a.useMemo(()=>({productComponents:i,templates:(0,e1.u4)("dse_editor_templates_v1",o,[])}),[i,o]),m=a.useMemo(()=>s?eK.v:function(e,t,n,a=[]){let l=!!((0,e1.kc)().dse_editor_templates_v1&&n&&(n.items.length>0||t.subtrees.length>0));return{[eK.I.ALL]:!0,[eK.I.RECENT]:!!(e.length+(0,e1.u4)("dse_editor_templates_v1",a.length,0)),[eK.I.LOCAL]:t.items.length>0||t.subtrees.length>0||l,[eK.I.FILE]:!1}}(i,l.localSubtree,l.localTemplateSubtree,o),[s,i,o,l.localSubtree,l.localTemplateSubtree]),p=(n=l.subscribedFileSubtrees,a.useMemo(()=>{let e={};for(let[t,a]of Object.entries(n))a&&(e[t]=a.name);return e},[n])),{assetType:f,onSetAssetType:g}=function(e,t){let[n,l]=a.useState(!1),[i,o]=a.useState({type:eK.I.ALL}),s=(0,r.wA)(),c=(0,r.d4)(eF.q5),d=(0,B.q5)();a.useEffect(()=>{n||"loading"===e||(o(nX(function(){if(_.x4)try{let e=_.x4.getItem(aV);if(!e)return;return aG(e)}catch(e){return}}(),e,t)),l(!0))},[n,e,t]);let m=a.useCallback(e=>{(!c||(0,eF.eu)(e))&&(o(e),_.x4?.setItem(aV,function(e){switch(e.type){case eK.I.ALL:return"all";case eK.I.RECENT:return"recent";case eK.I.LOCAL:return"local";case eK.I.FILE:return e.fileKey}}(e)),c&&s(eu.gP({searchOptions:e})),u.az.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!c,fileKey:e.type===eK.I.FILE?e.fileKey:void 0,openFileKey:d?.key,fileTeamId:d?.teamId??void 0,fileOrgId:d?.parentOrgId??void 0,assetsPanelVersion:2}))},[c,s,d?.key,d?.parentOrgId,d?.teamId]),p=a.useCallback(e=>e.key===aV&&null!=e.newValue,[]),f=a.useCallback(n=>{if(!n)return;let a=aG(n);"loading"!==e&&o(nX(a,e,t))},[e,t]);return(0,_.tl)({onSync:f,shouldSyncValue:p}),{assetType:i,onSetAssetType:m}}(c?"loading":m,p),h=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:n,treeWithSubtrees:l,viewMode:r}){let{library:i}=(0,n1.R)(e=>({library:e.library})),o=(0,aU.O)(),[s,c]=a.useState(!1),d=r===nW.Bk.List,u=a.useMemo(()=>({isList:d,isExpanded:n8.xO,sourceForTracking:nW.mZ,...t}),[t,d]),m=a.useMemo(()=>{let e,t;let{query:n,normalizedSearchResults:a,unsubscribedSearchResults:l}=i.assetsPanelSearch;if(!n)return az;(0,e1.kc)().dse_editor_templates_v1?[t,e]=(0,eF._2)(a):e=a;let r=e,d=r.length+l.length;if(0===d&&(!t||0===t.length))return az;!s&&0===r.length&&l.length>0&&c(!0);let m=[];if(t&&t.length>0&&(0,e1.kc)().dse_editor_templates_v1){let e=aM(m,(0,N.t)("design_systems.assets_panel.templates"),{keyPrefix:n5(aK),sectionNameForTracking:"Templates search results"});aR({outputElements:m,results:t,moreResults:[],showMoreResults:!1,keyPrefix:n5(aK),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{},parent:e})}if(d>0){let e=(0,e1.kc)().dse_editor_templates_v1?aM(m,(0,N.t)("design_systems.assets_panel.components"),{keyPrefix:`${aK}:${n2}`,sectionNameForTracking:"Primary search results"}):null;aR({outputElements:m,results:r,moreResults:l,showMoreResults:s,keyPrefix:`${aK}:${n2}`+((0,e1.kc)().dse_editor_templates_v1?"1":""),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{c(e=>!e)},parent:e})}return m},[o,i.assetsPanelSearch,u,s]),{productComponents:p,templates:f}=n,g=a.useMemo(()=>{if(!p.length&&!f.length)return az;let e=[];return(0,e1.kc)().dse_editor_templates_v1?(f.length>0&&aL({parent:aM(e,(0,N.t)("design_systems.assets_panel.templates"),{keyPrefix:n4(aK+":templates"),sectionNameForTracking:"Recently used templates"}),outputElements:e,items:f,keyPrefix:n4(aK+":templates"),sharedOptions:u}),p.length>0&&aL({parent:aM(e,(0,N.t)("design_systems.assets_panel.components"),{keyPrefix:n4(aK+":components"),sectionNameForTracking:"Recently used"}),outputElements:e,items:p,keyPrefix:n4(aK+":components"),sharedOptions:u})):aL({parent:null,outputElements:e,items:p,keyPrefix:n4(aK),sharedOptions:u}),e},[p,f,u]),h=a.useMemo(()=>(0,e1.kc)().dse_editor_templates_v1?function(e,t,n){let a=[];return e.forEach(e=>{e&&aF({prevParent:null,outputElements:a,inputSubtree:e,inputParentTree:t,keyPrefix:aK,sharedOptions:n,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!1})}),a}([l.localTemplateSubtree,l.localSubtree],l.tree,u):aH(l.localSubtree,l.tree,u),[u,l.localSubtree,l.localTemplateSubtree,l.tree]),_=a.useMemo(()=>aH(e.type===eK.I.FILE?l.subscribedFileSubtrees[e.fileKey]:void 0,l.tree,u),[e,u,l.subscribedFileSubtrees,l.tree]),E=a.useMemo(()=>{let e=[];return!function(e,t,n,a){if((0,e1.kc)().dse_templates_proto){let l=t.subtrees.find(nZ.Qe);null!=l&&aF({prevParent:null,outputElements:e,inputSubtree:l,inputParentTree:t,keyPrefix:n,sharedOptions:a,sectionNameForTracking:l.sectionNameForTracking})}for(let l of(t.items.length>0&&aL({parent:null,outputElements:e,items:t.items,keyPrefix:n,sharedOptions:a}),t.subtrees))(0,e1.kc)().dse_templates_proto&&(0,nZ.Qe)(l)||aF({prevParent:null,outputElements:e,inputSubtree:l,inputParentTree:t,keyPrefix:n,sharedOptions:a,sectionNameForTracking:l.sectionNameForTracking})}(e,l.tree,aK,u),e},[u,l.tree]);return i.assetsPanelSearch.query?m:e.type===eK.I.RECENT?g:e.type===eK.I.LOCAL?h:e.type===eK.I.FILE?_:E}({assetType:f,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:l,viewMode:t});return{assetType:f,libraryNameByFileKey:p,onSetAssetType:g,scrollContent:h,validAssetTypeOptions:m}}({viewMode:n,containerSizingOptions:i}),[R,F]=(0,g.fp)(eL.Cl);(0,eo.h)(()=>{R&&(L({type:eK.I.FILE,fileKey:R}),F(null))});let K=(0,ev.LR)(),U=(0,r.d4)(e=>e.universalInsertModal.showing),z=a.useCallback(()=>{U&&K()},[K,U]),H=a.useCallback((e,t,n)=>{z(),s((0,W.to)({type:nz,data:{asset:e,searchSessionId:C??void 0,query:T??void 0,sectionPosition:t,sectionNameForTracking:n,assetTypeDropdownSelection:A?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:S}}))},[A,i.containerWidth,s,z,S,C,T]),V=a.useMemo(()=>({onOpenFlyout:H,assetTypeDropdownSelection:A?.type}),[A,H]);!function({allElements:e}){aq(a.useCallback(()=>{let t=e.length,n=0,a=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===n9.zq.TILE)return 1;if(!(0,n9.We)(t)||!t.isExpanded)return 0;{let n=0;for(let a of t.children)n+=e(a);return n}}(t);n+=e,a+=Math.min(e,20)}return{numLibraries:t,numComponents:n,numComponentsWithLimit:a}},[e]))}({allElements:O});let G=n===nW.Bk.List,Y=d.assetsPanelSearch,X=0===O.length,j=c?.type===ai.K.ASSETS_PANEL,q=j&&c?.data?.component||null,Q=(0,aY.K)(!0),J=a.useCallback(()=>{j||(0,D.wr)()},[j]),[Z,$]=(0,_.Vc)("has-auto-expanded-component-libraries-for-nux",!1),ee=(0,eE.Ck)(),et=a.useRef(null);a.useEffect(()=>{let e=et.current;e&&0!==O.length&&ee()&&!Z&&e.expandAllComponentLibraries(308)>0&&$(!0)},[Z,ee,O.length,$]);let en=a.useCallback(()=>{let e=!!d.assetsPanelSearch.query,t=0===O.length;return a.createElement("div",null,e&&t&&a.createElement(eO.Wq,null),!e&&t&&a.createElement(eO.od,null))},[d.assetsPanelSearch,O.length]),ea=I||Y.isLoading,el=(0,eN.jO)(),er=x?.teamId?h[x.teamId]:null,ei=!y&&v&&(!er||!(0,ex.w5)(er)&&(0,ek.canEditTeam)(er.id,k))&&x?.canEdit&&el&&Object.keys(d.local.components).length>0&&(0,em.Hz)(b?.id),ep=function(e,t){let n=a.useMemo(()=>e.find(e=>e.key.includes("subscribedCommunityComponents")&&e.key.includes("stickySection")),[e]);return a.useCallback(()=>{n&&t.current?.scrollToElement(n.key)},[n,t])}(O,et);return a.createElement(ti.U.Provider,{value:V},a.createElement(a6,{assetType:A,componentsEmpty:X,isList:G,isSearching:!!Y.query,isComponentSidebarInitialLoading:I,libraryNameByFileKey:P,onSetAssetType:L,onToggleViewMode:l,recordingKey:o,validAssetTypeOptions:M}),ea?a.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},a.createElement(ed.kt,null)):a.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},a.createElement(es.O,{ref:et,scrollContent:O,recordingKey:"componentsListContainer",isList:G,getViewportHeight:e=>e-2*w,topOffset:a5,isTileSelected:e=>!!e.item.isLocal&&f&&(0,eA.sp)(p,f,e.item.node_id),onMouseUp:J,renderEmptyState:en,width:i.containerWidth,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",initialScrollTop:e,onScroll:t,enableKeyboardNavigation:!0,shouldRefocusAfterKeyboardInsert:A.type===eK.I.RECENT,fileKey:x?.key,teamId:x?.teamId??void 0,orgId:x?.parentOrgId??void 0}),!!q&&a.createElement(ai.h,{selectedView:m,dropdownShown:c,defaultFileKeys:d.defaultPublished.fileKeys,onJumpToLocalComponent:Q,onOpenFlyout:H,usePortal:!0}),ei&&a.createElement(a3,null),a.createElement(eP.Mw,{width:i.containerWidth,scrollToPreset:ep})))}function a6({assetType:e,componentsEmpty:t,isList:n,isSearching:l,isComponentSidebarInitialLoading:r,libraryNameByFileKey:i,onSetAssetType:o,onToggleViewMode:s,validAssetTypeOptions:c,recordingKey:d}){let u=a4.improved,{setKeyboardNavigationElement:m}=(0,ec.M3)({path:u.libraryModal.path,column:u.libraryModal.column}),{setKeyboardNavigationElement:p}=(0,ec.M3)({path:a4.improved.dropdown.path,column:a4.improved.dropdown.column}),{setKeyboardNavigationElement:f}=(0,ec.M3)({path:u.viewToggle.path,column:u.viewToggle.column});return a.createElement("div",null,a.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},a.createElement(eU,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:u.search.path,keyboardNavigationColumn:u.search.column}),a.createElement(eJ,{entrypoint:eD.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:m,recordingKey:d})),r||t&&!l?null:a.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},a.createElement(tt,{assetType:e,libraryNameByFileKey:i,onSetAssetType:o,onSetKeyboardNavigationElement:p,validAssetTypeOptions:c}),a.createElement(tr,{isList:n,onToggleViewMode:s,onSetKeyboardNavigationElement:f,recordingKey:d})))}var a9=n(44160),le=n(622422),lt=n(819229),ln=n(721910),la=n(75395),ll=n(163586),lr=n(201325),li=n(522739),lo=n(606576);let ls="asset_panel_folder--folderButton---mVgX";var lc=n(578482);let ld=(0,m.jz)(lc.CT),lu=(0,m.jz)(lc.qv),lm=a.forwardRef(function({keyPrefix:e,name:t,onClick:n,onContextMenu:l,previewAsset:r,recordingKey:i,disabled:o,isList:s,variant:c},u){let m=a.useMemo(()=>s?{height:lu,width:lu}:{height:ld,width:ld},[s]),p=a.createElement(a.Fragment,null,"preview"===c?a.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},r?a.createElement(lo.V,{keyPrefix:e,preview:r,...m}):a.createElement("div",{className:"asset_panel_folder--blankThumbnail--6v5uo",style:m})):a.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},a.createElement(ll.x,null)),a.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),a.createElement("div",{className:d()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c})},a.createElement(lr.n,null)));return a.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,e1.kc)().dse_fpl_wave_1?a.createElement(la.E,{"aria-label":t,className:ls,onClick:n,ref:u,recordingKey:i,disabled:o,htmlAttributes:{onContextMenu:l}},p):a.createElement(li.GG,{"aria-label":t,className:ls,onClick:n,onContextMenu:l,forwardedRef:u,recordingKey:i,disabled:o},p))});var lp=n(718242),lf=n(836328),lg=n(623680),lh=n(799550);function l_({subtree:e,index:t,keyPrefix:n,depth:l}){let r=(0,lp.sN)(),{folderPath:i,currentView:o}=(0,lg.wV)(),[s]=(0,lh.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,lg.wV)(),u=a.useCallback(()=>{r("folderRow",d(e.name))},[r,d,e.name]),m=a.useMemo(()=>[ln.ON.CONTENTS,ln.lM.ASSETS+l,ln.tM.FOLDERS,t],[l,t]),{keyboardNavigationItem:p,setKeyboardNavigationElement:f}=(0,ec.M3)({path:m,id:e.key,disabled:(i?.length??0)>l}),{focusFirstItem:g,focusSearchBar:h}=(0,lf.rl)();(0,lf.C0)(p,0===t&&l===(i?.length??0)&&o===lg.S5.Assets);let _=(0,lf.MB)({onBoth:u,onKeyDown:g,onClick:h}),E=a.useMemo(()=>i&&i.length>l,[i,l]);return a.createElement(lm,{name:e.name,onClick:_,keyPrefix:`${n}${e.name}`,previewAsset:c,recordingKey:`assetsFolder.${e.name}`,ref:f,disabled:E,variant:"list"===s?"icon":"preview"})}var lE=n(905485),ly=n(26042),lv=n(179220),lb=n(341450),lw=n(736174),lN=n(543817);let lx="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",lk="asset_panel_tile--secondary--6CWeS",lI=(0,tu.fv)();function lT({asset:e,fileName:t,sourceForTracking:n,thumbLayout:l,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p,keyboardPosition:f,isFirstTile:g=!1,isExample:h=!1,keyboardPanelDepth:_=0}){let E=a.useContext(ti.U),y=(0,r.d4)(e=>e.modalShown),v=(0,B.tS)(),{currentView:b}=(0,lg.wV)(),w=a.useMemo(()=>lI(e),[e]),N=a.useMemo(()=>h??(0,tN.Nz)(e,{isPreset:(0,e3.wJ)(w)}),[e,w,h]),x=(0,nf.J)(e,u,d),k=(0,aa.n)(e),I=(0,lN.u)({canSwap:!N,openFileKey:v??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),T=a.useCallback(()=>{y?.type!==e9.V||k||x()},[k,y?.type,x]),C=a.useCallback(()=>{y?.type!==e9.V&&E?.onOpenFlyout(e,u,d,m)},[y?.type,E,e,u,d,m]),S=a.useMemo(()=>({...f,path:[ln.ON.CONTENTS,ln.lM.ASSETS+_,...f.path]}),[f,_]),{folderPath:A}=(0,lg.wV)(),[P]=(0,lh.ye)(),L=b===lg.S5.Assets&&A&&P&&(A?.length??0)>_,{setKeyboardNavigationElement:O,keyboardNavigationItem:D}=(0,ec.M3)({...S,id:(0,th.V)(e),onFocus:T,disabled:L});(0,lf.C0)(D,g&&b===lg.S5.Assets&&!L);let M=(0,lw.N)({colIndex:S.column,rowIndex:S.path[S.path.length-1],isList:!1,keyboardNavigationItem:D,onComponentInsertSwap:I,onOpenFlyout:C,item:e,sectionNameForTracking:d,sectionPosition:u,shouldRefocusAfterKeyboardInsert:b===lg.S5.Recents,sourceForTracking:nW.mZ});return a.createElement("button",{onClick:C,className:"asset_panel_tile--focusableElementWrapper--YzHK7",ref:O,onKeyDown:M},a.createElement(lS,{asset:e,fileName:t,sourceForTracking:n,thumbLayout:l,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p}))}let lC=(0,tu.fv)();function lS({asset:e,fileName:t,sourceForTracking:n,thumbHeight:l,thumbWidth:i,sectionNameForTracking:o,sectionPosition:s,sectionDepth:c,hideInlineName:m,displayType:p}){let f=(0,r.wA)(),h=(0,r.d4)(eC.dK),_=(0,r.d4)(eT.F9),E=(0,r.d4)(eT.e_),y=(0,g.md)(nR.T),v=E.assetsPanelSearch.searchOptions?.type===eK.I.ALL,b=a.useMemo(()=>lC(e),[e]),w=(0,e5.cm)(b),N=(0,tz.E_)(b),x=v&&(w||N),k=a.useRef(null),I=(0,ne.kH)(e.name),T=(0,t2.NG)({text:I,textRef:k}),C=a.useRef(null),S=(0,t2.NG)({text:t??"",textRef:C}),A=!!E.assetsPanelSearch.query,P=(0,al.F)(e,ai.K.ASSETS_PANEL,s,o),L=(0,aa.n)(e),O=(0,ep.ZC)(L);a.useEffect(()=>{L&&!O&&f(at.jD())},[L,f,O]);let D=e.isLocal&&(0,ae.PN)()?(0,ao.eT)(e.node_id,h).join("-"):e.node_id,M="Local components"===o||"Local private components"===o||e.isLocal,{handleClick:R,handleDoubleClick:F}=function(e,t){let n=(0,B.q5)(),l=a.useRef(null),{searchSessionId:r}=(0,ew.Gq)(),i=(0,ew.tM)(),o=a.useCallback(a=>{u.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:a,isLocalComponent:t,assetKey:(0,th.V)(e),fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,searchSessionId:r??void 0,assetsPanelVersion:3,queryId:i??void 0})},[e,t,n?.key,n?.parentOrgId,n?.teamId,r,i]);return{handleClick:a.useCallback(()=>{l.current||(l.current=setTimeout(()=>{o(!1),l.current=null},500))},[o]),handleDoubleClick:a.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=null),o(!0)},[o])}}(e,M??!1),K="grid"===p,U=!m&&K,z=(0,e1.kc)().api_asset_search_with_scores,H=(0,nn.Y)(e),V={showName:!0,height:l,width:i,draggable:a.useMemo(()=>({sourceForTracking:n,clickToInsert:!1,afterSuccessfulInsert:an.$z,sectionNameForTracking:o,sectionDepth:c}),[c,o,n]),onContextMenu:P,shouldHideTooltip:!0,recordingNodePath:D,isSearch:A,useBaseTile:!0,hideNameOverlay:U,numVariants:H,displayType:K?"grid":"list-no-padding",sectionPosition:s,showTooltipImmediately:!1,fileName:T||S?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},G=M?a.createElement(ar.MT,{item:e,isFilePublished:_,...V}):a.createElement(ar.lX,{item:e,...V});return a.createElement("div",{className:K?"asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",onClick:R,onDoubleClick:F},a.createElement("div",{className:d()(K?"asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM":"asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM",{"asset_panel_tile--shownInFlyout--7Luo3":L,"asset_panel_tile--selectedFlyoutFocus--GGV8E":L&&y})},G),U&&a.createElement("div",{className:"asset_panel_tile--nameWrapper--6O-iS",style:{width:i-2}},a.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:k},I),a.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},a.createElement(lb.e,{"aria-hidden":!0}))),U&&!!t&&a.createElement(tm.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},a.createElement("div",{className:d()(lx,lk),ref:C,style:x?{maxWidth:i-e8.J-2}:{width:i-2}},t),x&&a.createElement(e8.P,{resourceId:b,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),z&&a.createElement(a.Fragment,null,a.createElement("div",{className:d()(lx,lk),style:x?{maxWidth:i-e8.J-2}:{width:i-2}},"AI: "+(e.ai_score??"N/A")),a.createElement("div",{className:d()(lx,lk),style:x?{maxWidth:i-e8.J-2}:{width:i-2}},"Lex: "+(e.lexical_score??"N/A"))))}function lA(){let e=a.useContext(ti.U);return e?.isUi3?e:{...e,width:0}}function lP({width:e,children:t}){let n=function(e){let t=(0,r.wA)(),{query:n,searchSessionId:l}=(0,ew.Gq)(),i=(0,lp.ht)(),o=(0,ec.q_)(),s=(0,ev.LR)(),c=(0,r.d4)(e=>e.universalInsertModal.showing),d=a.useCallback(()=>{c&&s()},[s,c]),u=a.useCallback((a,r,s,c)=>{d(),t((0,W.to)({type:nz,data:{asset:a,searchSessionId:l??void 0,query:n??void 0,sectionPosition:r,sectionNameForTracking:s,assetTypeDropdownSelection:i,containerWidth:e,onGetKeyboardNavigationItemById:o,sectionDepth:c}}))},[d,t,l,n,i,e,o]);return a.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:i,isUi3:!0,width:e}),[u,i,e])}(e);return a.createElement(ti.U.Provider,{value:n},t)}let lL=(0,m.jz)(ag.Nz),lO=(0,m.jz)(ag.cP),lD=(0,m.jz)(ag.FX),lM=(0,m.jz)(lc.$c),lR=(0,m.jz)(lc.d5),lF=(0,m.jz)(ag.ZI),lB=(0,nH.eU)(!1),lK=(e,t,n,a,l)=>{if("list"===l)return lF;let r=e+lL;return t&&(r+=lO),n&&(r+=lD),a&&(r+=2*(0,m.jz)(ag.uY)),r};function lU(e,t,n,l,r,i,o){let s=[];for(let c=0;c<e.length;c+=t){let d=e.slice(c,c+t),u=[];d.forEach((e,s)=>{if(e){let d=c+s;u.push(a.createElement(lT,{key:`${n}-${(0,th.V)(e)}`,asset:e,fileName:o?.getFileName?.(e),sectionDepth:o?.depth,sectionNameForTracking:r,sectionPosition:c+s,keyboardPosition:(0,lf.pg)(i,d,t,o?.hasHeader),isFirstTile:o?.includesFirstTile&&0===d,keyboardPanelDepth:o?.keyboardPanelDepth,isExample:o?.isExample,...l}))}}),s.push({element:a.createElement("div",{className:"list"===l.displayType?"asset_panel_virtualization--virtualRowList--COnhA":0===c?"asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-":"asset_panel_virtualization--virtualRow--TxsS-",role:"row"},u),key:`${n}:row-${c/t}`,keys:d.map(e=>(0,th.V)(e)),height:lK(l.thumbHeight,!!o?.getFileName,0!==c,!!(0,e1.kc)().api_asset_search_with_scores,l.displayType)})}return s.length>0&&(s.unshift({element:a.createElement(ly.hK,{height:lM}),key:`${n}:spacer-top`,height:lM}),s.push({element:a.createElement(ly.hK,{height:lR}),key:`${n}:spacer-bottom`,height:lR})),s}function lz({elements:e,hideScrollbar:t,initialScrollTop:n,onScroll:l,anchorScroll:r,role:i}){let o=a.useRef(null),s=(0,lv.Te)({count:e.length,getScrollElement:()=>o.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:n}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:n,enabled:l,virtualizer:r,getKeys:i}){let[o,s]=a.useState(t??e.current?.scrollTop),[c,d]=a.useState(e.current?.scrollHeight),{width:u}=lA(),m=(0,ep.ZC)(u),p=a.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let n=e.getVirtualItems().find(e=>e.start>=t);return n?{keys:i(n),offset:n.start-t}:{keys:[],offset:void 0}},[i]),[f,g]=a.useState(()=>p(r,t??e.current?.scrollTop)),h=a.useCallback((e,t)=>{n?.(e,t),l&&(s(e),g(p(r,e)))},[l,p,n,r]);return a.useEffect(()=>{let t=m&&u&&m!==u,n=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==o&&void 0!==f.offset&&l&&t&&n){let t=r.getVirtualItems().find(e=>i(e).some(e=>f.keys.includes(e)));if(t)r.scrollToOffset(t.start-f.offset);else{let t=o/c,n=e.current.scrollHeight*t;r.scrollToOffset(n)}}},[f.keys,f.offset,l,i,m,e,c,o,r,u]),h}({enabled:r,scrollContainerRef:o,initialScrollTop:n,onScroll:l,virtualizer:s,getKeys:a.useCallback(t=>{let n=e[t.index];return n?n.keys??[n.key]:[]},[e])}),[d,u]=(0,g.fp)(lB);return a.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(s.scrollToIndex(t,{align:"start"}),u(!1))},[e,s,u,d]),a.createElement(ly.xU,{scrollContainerRef:o,hideScrollbar:t,initialScrollTop:n,onScroll:c},a.createElement("div",{style:{height:`${s.getTotalSize()}px`,width:"100%",position:"relative"},role:i},s.getVirtualItems().map(t=>a.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var lH=n(366508),lV=n(606624);let lG=(0,g.Iz)(()=>(0,nV.rt)(0));function lW({libraryKey:e,pageId:t,folderPath:n}={}){let{lastNavAction:l}=(0,lV.ZX)(),r=l===lV.r6.Back||l===lV.r6.Mount||l===lV.r6.ToggleView&&!n,[i,o]=(0,g.fp)(lG("libraries")),[s,c]=(0,g.fp)(lG(`pages-${e}`)),[d,u]=(0,g.fp)(lG(`assets-${e}-${t}-${(n??[]).join("-")}`));return{librariesScrollTop:r?i:0,pagesScrollTop:r?s:0,assetsScrollTop:r?d:0,handleScrollLibraries:a.useCallback(e=>{o(e)},[o]),handleScrollPages:a.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:a.useCallback(n=>{e&&t&&u(n)},[u,e,t])}}var lY=n(187882);function lX({elementMinSize:e,spaceAvailable:t,gap:n}){return Math.floor((t+n)/(e+n))}function lj({numElements:e,spaceAvailable:t,gap:n}){return Math.floor((t-(e-1)*n)/e)}function lq({width:e,widthToHeightRatio:t=1,maxHeight:n}){let a=Math.floor(e/t);return void 0===n?Math.max(0,a):Math.max(0,Math.min(n,a))}let lQ=(0,m.jz)(lc.H0),lJ=2*(0,m.jz)(lc.Mj),lZ={NORMAL:115,WIDE:void 0,SMALL:72},l$={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:lZ.NORMAL},l0={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:lZ.WIDE},l1={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:lZ.SMALL},l2=e=>{switch(e){case as.rp.WIDE:return l0;case as.rp.SMALL:return l1;default:return l$}};function l3(){let{componentLayouts:e,exampleLayout:t}=function({sidebarWidth:e}){let t=a.useMemo(()=>e-lJ,[e]),n=a.useMemo(()=>{let e={};for(let n of[as.rp.NORMAL,as.rp.WIDE,as.rp.SMALL]){let{minColumns:a,maxColumns:l,aspectRatio:r,maxHeight:i}=l2(n),o=Math.max(Math.min(l,lX({elementMinSize:i??t,gap:lQ,spaceAvailable:t})),a),s=lj({numElements:o,gap:lQ,spaceAvailable:t}),c=lq({width:s,maxHeight:i,widthToHeightRatio:r});e[n]={width:s,height:c,columns:o}}return e},[t]),l=a.useMemo(()=>Math.max(lX({elementMinSize:200,gap:lQ,spaceAvailable:t}),1),[t]),r=a.useMemo(()=>lj({numElements:l,gap:lQ,spaceAvailable:t}),[l,t]),i=a.useMemo(()=>lq({width:r,widthToHeightRatio:1.5,maxHeight:200}),[r]);return a.useMemo(()=>({componentLayouts:n,exampleLayout:{width:r,height:i,columns:l}}),[n,l,r,i])}({sidebarWidth:(0,lY.GQ)()}),[n,l]=a.useMemo(()=>{let t={},n={};for(let[a,l]of Object.entries(e))t[a]={thumbHeight:l.height,thumbWidth:l.width,viewMode:nW.Bk.Grid,thumbLayout:a,sourceForTracking:nW.mZ,displayType:"grid"},n[a]=l.columns;return[t,n]},[e]),r=a.useMemo(()=>({thumbHeight:t.height,thumbWidth:t.width,viewMode:nW.Bk.Grid,thumbLayout:as.rp.NORMAL,sourceForTracking:nW.mZ,displayType:"grid"}),[t.height,t.width]),i=a.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:nW.Bk.List,thumbLayout:as.rp.NORMAL,sourceForTracking:nW.mZ,displayType:"list"}),[]);return a.useMemo(()=>({componentTilePropsByLayout:n,numColumnsByLayout:l,listProps:i,exampleTileProps:r,numExampleColumns:t.columns}),[n,l,i,r,t.columns])}function l5(e,t,n,a=!1){return"list"===t?{props:e.listProps,numColumns:1}:a?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[n],numColumns:e.numColumnsByLayout[n]}}function l4({children:e,index:t,width:n}){let l=(0,g.md)(lp.h),r=a.useMemo(()=>e.flat().filter(e=>!!e),[e]),i=a.useMemo(()=>{let e=l7(-Math.min(t,r.length-1)),n=`translateX(${e})`;return{transform:n,WebkitTransform:n}},[r.length,t]),o=d()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":l});return a.createElement("div",{style:i,"data-testid":"slide-carousel",className:o},r.map((e,l)=>a.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:n},key:l,"data-testid":"slide-carousel-item","aria-hidden":l!==t},e)))}let l7=e=>`${100*e}%`,l8=(0,m.jz)(lc.HE),l6=(0,m.jz)(lc._q),l9=(0,m.jz)(lc.ce),re=(0,m.jz)(lc.RQ);function rt({page:e,width:t}){let{libraryKey:n,currentView:l}=(0,lg.wV)(),{getPage:r}=(0,lE.G)(),[i]=(0,lh.ye)(),{previousPageId:o}=(0,lg.RR)(),s=a.useMemo(()=>l===lg.S5.Pages?r(n,o):e,[l,r,n,e,o]);return n&&s?i?a.createElement(ra,{page:s,width:t}):a.createElement(rn,{page:s,libraryKey:n}):a.createElement("div",{style:{width:t}})}function rn({page:e,libraryKey:t}){let{assetsScrollTop:n,handleScrollAssets:l}=lW({libraryKey:t,pageId:e.id}),[r]=(0,lh.MA)(),i=l3(),{componentSectionNameForTracking:o,templateSectionNameForTracking:s}=(0,lp.zf)(),c=a.useMemo(()=>{let t=[];if(e.templates){let n=(0,lH.r)(e.templates),{props:l,numColumns:o}=l5(i,r,as.rp.NORMAL,!0);t.push({element:a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:l9}),t.push(...lU(n,o,"templates",l,s,[ln.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let n=(0,lH.r)(e.examples),{props:a,numColumns:l}=l5(i,r,as.rp.NORMAL,!0);t.push(...lU(n,l,"examples",a,o,[ln.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.components")}),key:"components:header",height:l9});let n=(0,lH.r)(e.components),{props:l,numColumns:s}=l5(i,r,(0,as.PI)(n,!0));t.push(...lU(n,s,"components",l,o,[ln.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,r,s,o]);return a.createElement(lz,{elements:c,initialScrollTop:n,onScroll:l,anchorScroll:!0,role:r})}function ra({page:e,width:t}){let{libraryKey:n,pageId:l,folderPath:r}=(0,lg.wV)(),{getFolder:i}=(0,lE.G)(),{previousFolderPath:o,previousPageId:s}=(0,lg.RR)(),[c,d]=a.useMemo(()=>{let t=[],c=o??r??[],d=0;for(let o=-1;o<c.length;o++){let u=c.slice(0,o+1),m=i(n,l??s,u);if(m){if((0,lg.xc)(m))continue;t.push(a.createElement(rl,{parentSubtree:e.assets,currentFolderPath:u,key:`components-${u?u.join("/"):"root"}`})),o===(r??[]).length-1&&(d=t.length-1)}}return[t,d]},[r,i,n,e.assets,l,o,s]);return a.createElement(l4,{index:d,width:t},c)}function rl({parentSubtree:e,currentFolderPath:t}){let[n]=(0,lh.MA)(),l=a.useMemo(()=>{let n=e;for(let e of t){let t=n.subtrees.get(e);if(!t)return null;n=t}return n},[e,t]),{folderPath:r,pageId:i,libraryKey:o}=(0,lg.wV)(),s=!!o&&(0,e3.wJ)(o),c=t.length,d=r?.length??0,{assetsScrollTop:u,handleScrollAssets:m}=lW({libraryKey:o,pageId:i,folderPath:t}),p=rr({subtree:l,currentFolderPath:t,isPreset:s});return a.createElement(lz,{elements:p,hideScrollbar:c<d,onScroll:m,initialScrollTop:u,role:n})}let rr=({subtree:e,currentFolderPath:t,isPreset:n})=>{let l=l3(),{componentSectionNameForTracking:r}=(0,lp.zf)(),{folderPath:i}=(0,lg.wV)(),[o]=(0,lh.MA)(),s=t.join("/"),c=t.length,d=i?.length??0,u=a.useMemo(()=>!!(n&&(0,e1.kc)().dse_preset_libraries&&e?.items)&&e?.items.every(e=>tN.Nz(e,{isPreset:n})),[n,e?.items]),m=a.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,tN.dS)(t.name,{isPreset:n})},[n]),p=a.useCallback(({subtree:e,elements:t})=>{let n=e.items.length>0,i=m(e);if(n){let n=[ln.tM.COMPONENTS],{props:a,numColumns:i}=l5(l,o,(0,as.PI)(e.items,!0),u);t.push(...lU(e.items,i,e.key,a,r,n,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let p=Array.from(e.subtrees.values());n&&p.length>0&&!i&&t.push({element:a.createElement(ly.cG,null),key:"divider",height:re}),p.forEach((n,l)=>{t.push({element:a.createElement(l_,{subtree:n,index:l+e.items.length,keyPrefix:s,depth:c}),key:n.key,height:"list"===o?l8:l6}),0===l&&i&&p.length>1&&t.push({element:a.createElement(ly.cG,null),key:"examples_divider",height:re})})},[m,l,o,u,r,c,d,s]);return a.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};var ri=n(268537),ro=n(278733),rs=n(738269),rc=n(13678),rd=n(611964),ru=n(18339);let rm="asset-panel-library-context-menu",rp=h.Pt("assetsLibrary","contextMenu"),rf=ri.ms,rg=ri.c$,rh=a.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==rm)return null;let{data:n}=e;if(!n)return null;let{libraryHref:r,position:i,isLocalLibrary:o,partnerType:s,onGoToLibrary:c,onPublish:d,onUnsubscribe:u,onSendFeedback:m}=n;if(!i)return null;let p=a.createElement(rf,{style:ro.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(ro.sx.fixed).$},o?a.createElement(rg,{onClick:d,recordingKey:h.Pt(rp,"publishLibrary")},(0,N.tx)("design_systems.assets_panel.publish_library")):a.createElement(a.Fragment,null,a.createElement(rg,{onClick:u,recordingKey:h.Pt(rp,"unsubscribe")},(0,N.tx)("design_systems.assets_panel.remove_library_from_file")),a.createElement(rg,{href:r,target:"_blank",recordingKey:h.Pt(rp,"goToLibrary"),onClick:c},(0,N.tx)("design_systems.assets_panel.go_to_library"))),(0,e1.kc)().dse_updates_string&&s&&a.createElement(rg,{href:(0,tz.iu)(s),target:"_blank",recordingKey:h.Pt(rp,"sendFeedback"),onClick:m},(0,N.tx)("design_systems.assets_panel.send_feedback_to_creator")));return t?l.createPortal(p,document.body):p}),r_="asset-panel-page-context-menu",rE=h.Pt("assetsLibrary","contextMenu"),ry=ri.ms,rv=ri.c$,rb=a.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==r_)return null;let{data:n}=e;if(!n)return null;let{libraryPageHref:r,position:i,isLocalLibrary:o,onClickLocalPage:s,onClickSubscribedPage:c}=n;if(!i)return null;let d=a.createElement(ry,{style:ro.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(ro.sx.fixed).$},o?a.createElement(rv,{recordingKey:h.Pt(rE,"goToLibrary"),onClick:s},(0,N.tx)("design_systems.assets_panel.go_to_page")):a.createElement(rv,{href:r,target:"_blank",recordingKey:h.Pt(rE,"goToLibrary"),onClick:c},(0,N.tx)("design_systems.assets_panel.go_to_page")));return t?l.createPortal(d,document.body):d});function rw(){let e=(0,r.d4)(e=>e.dropdownShown),t=(0,r.d4)(eI.hK),n=(0,r.d4)(eT.e_),l=e?.type===ai.K.ASSETS_PANEL&&!!e?.data?.component,i=e?.type===r_&&!!e?.data?.pageId,o=e?.type===rm&&!!e?.data?.libraryHref,s=(0,aY.K)(!0),c=a.useContext(ti.U);return a.createElement(a.Fragment,null,l&&a.createElement(ai.h,{selectedView:t,dropdownShown:e,defaultFileKeys:n.defaultPublished.fileKeys,onJumpToLocalComponent:s,onOpenFlyout:c?.onOpenFlyout,usePortal:!0}),i&&a.createElement(rb,{dropdownShown:e,usePortal:!0}),o&&a.createElement(rh,{dropdownShown:e,usePortal:!0}))}var rN=n(612776),rx=n(864089);let rk=(0,m.jz)(lc.Sx),rI=(0,m.jz)(lc.T5);function rT({library:e,previewHeight:t,cardWidth:n,keyboardSection:l,rowIndex:i,columnIndex:o=0}){let{focusFirstItem:s,focusSearchBar:c}=(0,lf.rl)(),{navigateToLibrary:d}=(0,lg.wV)(),m=(0,B.q5)(),[p]=(0,lh.MA)(),f=((0,rN.KJ)()?lh.$H.LIST:p)===lh.$H.LIST,g=(0,lp.sN)(),_=a.useCallback(()=>{g("libraryCard",d(e.fileKey))},[e.fileKey,g,d]),{currentView:E}=(0,lg.wV)(),y=E!==lg.S5.Libraries,{setKeyboardNavigationElement:v}=(0,ec.M3)({path:[ln.ON.CONTENTS,ln.lM.LIBRARIES,l,i],column:o,id:e.fileKey,disabled:y}),b=(0,lf.MB)({onBoth:_,onKeyDown:s,onClick:c}),w=a.useMemo(()=>{let t=e.fileKey===m?.key?"localLibrary":e.fileKey;return h.Pt("assetsLibrary",t)},[m?.key,e.fileKey]),N=function(e){let t=(0,B.q5)(),n=(0,r.wA)(),l=e.fileKey===t?.key,i=(0,e3.wJ)(e.fileKey),o=(0,nW._9)(e.fileKey,i,"assets_panel_library_context_menu"),s=a.useCallback(()=>o(!1),[o]),c=function(){let e=(0,r.wA)(),t=(0,B.q5)(),n=(0,r.d4)(e=>e.teams),l=(0,r.d4)(eT.fA),i=a.useCallback(()=>{e(W.to({type:rc.dD,data:{entrypoint:rd.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),o=t?.teamId&&n[t.teamId],s=a.useCallback(()=>{e(W.to({type:ru.$3,data:{afterFileMove:i,team:o||null}}))},[e,i,o]);return a.useCallback(()=>{l?i():s()},[l,i,s])}(),d=(0,tx.X)(e.fileKey),m=a.useMemo(()=>(0,e3.wJ)(e.fileKey)?(0,tV.X$)(e.fileKey):(0,tV.jN)({file:{key:e.fileKey,editor_type:ty._Y.DESIGN}}),[e.fileKey]),p=a.useCallback(()=>{u.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.fileKey,t]),f=a.useCallback(()=>{u.az.trackDefinedEvent("assets_panel.send_feedback_to_creator",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu",partnerType:d})},[e.fileKey,t,d]),g=a.useCallback(()=>{u.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0})},[e.fileKey,t]);return a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),n((0,rs.j7)({type:rm,data:{libraryHref:m,isLocalLibrary:l,partnerType:d,onGoToLibrary:p,onPublish:c,onUnsubscribe:s,onSendFeedback:f,position:{top:e.clientY,left:e.clientX}}})),g()},[m,c,s,f,l,d,n,p,g])}(e);return a.createElement(li.GG,{className:"asset_panel_library--library--5bw5-","aria-label":e.name,onClick:b,onContextMenu:N,forwardedRef:v,tabIndex:y?-1:0,style:{width:f?"100%":n},recordingKey:w},a.createElement(rC,{library:e,previewHeight:t,isList:f}))}function rC({library:e,previewHeight:t,isList:n}){let{thumbnailUrl:l}=e,[r,i]=a.useState(l),o=a.useMemo(()=>{if(r)return`url(${r})`},[r]),s=a.useCallback(()=>{i(l)},[l]),c=a.useMemo(()=>n?{height:rk,width:rI}:{height:t},[n,t]);return a.createElement("div",{className:n?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e"},a.createElement("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr"},a.createElement("div",{style:{backgroundImage:o,...c},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),l&&a.createElement(rx.oW,{src:l,onLoad:s,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),a.createElement(rS,{library:e,isList:n}))}function rS({library:e,isList:t}){let n=(0,e1.kc)().dse_editor_templates_v1,l=a.useMemo(()=>{let t=[];return e.numComponents>0&&t.push((0,N.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),n&&e.numTemplates>0&&t.push((0,N.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e.numComponents,e.numTemplates,n]);return a.createElement("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooter--jXcDc"},a.createElement("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T"},a.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},a.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),a.createElement("div",{className:"asset_panel_library--libraryIcon--6s19b"},a.createElement(e8.P,{resourceId:e.fileKey,compact:!0,showPresetTooltip:!0,colorPrimaryOnHover:!0,tooltipDelay:500,tooltipLocation:"below"}))),a.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},l)))}let rA=(0,m.jz)(lc.RU)+1,rP=(0,m.jz)(lc.nT),rL=16/9;var rO=n(287213);function rD(){let e=(0,B.tS)(),{getLibrary:t}=(0,lE.G)(),[n,l]=(0,rO.g)(),r=a.useMemo(()=>t(e??""),[t,e]),i=!r||0===r.numComponents&&0===r.numTemplates,o=0===n.length,s=0===l.length;return a.useMemo(()=>i&&o&&s,[i,o,s])}let rM="asset_panel_libraries--row--nHi0j",rR=(0,m.jz)(lc.YJ),rF=(0,m.jz)(lc.RQ),rB=(0,m.jz)(lc.ce),rK=(0,m.jz)(lc.Kv),rU=(0,m.jz)(lc.Nm);function rz({width:e,hideScrollbar:t,assetPanelItems:n}){let l=n.localAssets,[r,i]=(0,rO.g)();return rD()?a.createElement("div",{style:{width:e}},a.createElement(eO.od,null)):a.createElement(rH,{localAssets:l,subscribedLibraries:r,presetLibraries:i,hideScrollbar:t,width:e})}function rH({localAssets:e,subscribedLibraries:t,presetLibraries:n,width:l,hideScrollbar:r}){let{librariesScrollTop:i,handleScrollLibraries:o}=lW(),s=(0,rN.KJ)(),{currentView:c}=(0,lg.wV)(),[d]=(0,lh.MA)(),u=s?lh.$H.LIST:d,{cardWidth:m,previewHeight:p,numColumns:f}=function({sidebarWidth:e,minCardWidth:t=180,previewPadding:n=rA,widthToHeightRatio:l=rL,rowPadding:r=rP}){let i=e-2*r,o=a.useMemo(()=>lX({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),s=a.useMemo(()=>lj({numElements:o,spaceAvailable:i,gap:0}),[o,i]),c=a.useMemo(()=>s-2*n,[s,n]),d=a.useMemo(()=>lq({width:c,widthToHeightRatio:l}),[c,l]);return a.useMemo(()=>({cardWidth:s,previewWidth:c,previewHeight:d,numColumns:o}),[s,c,d,o])}({sidebarWidth:l}),g=u===lh.$H.GRID?f:1,h="grid"===u?rR+p+2:rK,_=t.length>0&&!(0,e1.kc)().dse_hide_local_and_subscribed_libraries,E=e.numComponents+e.numTemplates>0&&!(0,e1.kc)().dse_hide_local_and_subscribed_libraries,y=n.length>0&&(_||E),v=a.useMemo(()=>{let l=[],r=[];E&&r.push(e),_&&r.push(...t);for(let e=0;e<r.length;e+=g){let t=r.slice(e,e+g);l.push({element:a.createElement("div",{className:rM},t.map((t,n)=>a.createElement(rT,{key:t.fileKey,library:t,keyboardSection:ln.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:n,cardWidth:m,previewHeight:p}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:h})}y&&(l.push({element:a.createElement(ly.cG,null),key:"divider",height:rF}),l.push({element:a.createElement(ly.X3,{title:(0,e1.kc)().dse_preset_libraries?(0,N.t)("design_systems.assets_panel.ui_kits"):(0,N.t)("design_systems.assets_panel.curated_libraries")}),key:"preset_libraries_header",height:rB}));for(let e=0;e<n.length;e+=g){let t=n.slice(e,e+g);l.push({element:a.createElement("div",{className:rM},t.map((t,n)=>a.createElement(rT,{key:t.fileKey,library:t,keyboardSection:ln.gP.PRESETS,rowIndex:e,columnIndex:n,cardWidth:m,previewHeight:p}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:h})}return l.push({element:a.createElement(rV,null),key:"add_more_libraries_button",height:rU}),l},[g,m,p,E,t,y,n,h,e,_]);return a.createElement(lz,{elements:v,hideScrollbar:r,initialScrollTop:i,onScroll:o,anchorScroll:c===lg.S5.Libraries})}function rV(){let{onToggleLibraryModal:e}=(0,eW.u)({entrypoint:eD.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor"});return a.createElement("div",{className:"asset_panel_libraries--addMoreLibraries--Jy-l7"},a.createElement(t$.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,N.tx)("design_systems.assets_panel.add_more_libraries")))}function rG({page:e,index:t}){let n=(0,lp.sN)(),[l]=(0,lh.MA)(),{previewAsset:i}=e,{navigateToPage:o,libraryKey:c,currentView:d}=(0,lg.wV)(),m=a.useCallback(()=>{n("pageRow",o(e.id))},[n,o,e.id]),p=e.id,f=d!==lg.S5.Pages,{keyboardNavigationItem:g,setKeyboardNavigationElement:h}=(0,ec.M3)({path:[ln.ON.CONTENTS,ln.lM.PAGES,t],id:e.id,disabled:f}),{focusFirstItem:_,focusSearchBar:E}=(0,lf.rl)();(0,lf.C0)(g,d===lg.S5.Pages&&0===t);let y=(0,lf.MB)({onBoth:m,onKeyDown:_,onClick:E}),v=function(e,t){let n=(0,B.q5)(),l=(0,r.wA)(),i=e===n?.key,o=!!e&&!!t,c=a.useMemo(()=>(0,tV.jN)({file:{key:e??"",editor_type:ty._Y.DESIGN},nodeId:t}),[e,t]),d=a.useCallback(()=>s.q.instance.setCurrentPageAsync(t??""),[t]),m=a.useCallback(()=>{u.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e,pageId:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0,isLocal:i})},[i,e,n?.key,n?.parentOrgId,n?.teamId,t]),p=a.useCallback(()=>{d(),m()},[d,m]),f=a.useCallback(()=>{u.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e,pageId:t,fileKey:n?.key,fileTeamId:n?.teamId??void 0,fileOrgId:n?.parentOrgId??void 0})},[e,n?.key,n?.parentOrgId,n?.teamId,t]);return a.useCallback(n=>{!o||(0,e3.wJ)(e)||(n.preventDefault(),n.stopPropagation(),l((0,rs.j7)({type:r_,data:{libraryPageHref:c,pageId:t,isLocalLibrary:i,onClickLocalPage:p,onClickSubscribedPage:m,position:{top:n.clientY,left:n.clientX}}})),f())},[e,o,l,c,t,i,p,m,f])}(c,e.id),b="list"===l;return a.createElement(lm,{keyPrefix:p,name:e.name,onClick:y,onContextMenu:v,previewAsset:i,recordingKey:`assetsPage.${e.id}`,ref:h,disabled:f,isList:b,variant:b?"icon":"preview"})}var rW=n(395900);let rY="performance.ds_eco.asset_panel_pages_view_loading",rX=new rW.jk(rY,{});function rj({didFinishLoading:e}){let t=rX.stop();(0,u.sx)(rY,{elapsedMs:t,isNewAssetPanelFetch:!!(0,e1.kc)().dse_new_asset_panel_fetch,didFinishLoading:e},{forwardToDatadog:!0})}let rq=(0,m.jz)(lc.RQ),rQ=(0,m.jz)(lc._q),rJ=(0,m.jz)(lc.HE);function rZ({library:e,width:t,hideScrollbar:n,isLoading:l}){!function({isLoading:e}){let{currentView:t}=(0,lg.wV)(),n=(0,ep.ZC)(t);a.useEffect(()=>(n===lg.S5.Libraries&&t===lg.S5.Pages&&rX.start(),t===lg.S5.Pages&&!e&&rX.isRunning&&rj({didFinishLoading:!0}),()=>{n===lg.S5.Pages&&t!==lg.S5.Pages&&rX.isRunning&&rj({didFinishLoading:!1})}),[e,t,n])}({isLoading:l});let[r]=(0,lh.MA)(),{pagesScrollTop:i,handleScrollPages:o}=lW({libraryKey:e?.fileKey}),s=a.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,tz.E_)(e?.fileKey??""),d=a.useMemo(()=>{let e=[];return s.forEach(([t,n],l)=>{e.push({element:a.createElement(rG,{page:n,index:l}),height:"list"===r?rJ:rQ,key:t}),0===l&&(0,tN.dS)(n.name,{isPreset:c})&&e.push({element:a.createElement(ly.cG,null),key:"examples_divider",height:rq})}),e},[r,s,c]);return l?a.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},a.createElement(ed.kt,null)):0===s.length?a.createElement("div",{style:{width:t}}):a.createElement(lz,{elements:d,hideScrollbar:n,initialScrollTop:i,onScroll:o})}let r$="asset_panel_recents--resultsWrapper--k79Vy",r0="asset_panel_recents--resultsWrapperList--peuzW",r1=(0,tu.fv)();function r2(){let{productComponents:e,templates:t}=(0,nY.g5)(tA.$A.Design),{getLibrary:n}=(0,lE.G)(),l=(0,e1.kc)().dse_editor_templates_v1,[r]=(0,lh.MA)(),i="list"===r,o=a.useCallback(e=>{let t=n(e);return t?.name||""},[n]),s=l3(),{props:c,numColumns:d}=a.useMemo(()=>l5(s,r,as.rp.NORMAL),[s,r]),{props:u}=a.useMemo(()=>l5(s,r,as.rp.NORMAL,!0),[s,r]),{componentSectionNameForTracking:m,templateSectionNameForTracking:p}=(0,lp.zf)(),f=e.length>0,g=t.length>0;return a.createElement(ly.xU,null,l&&g&&a.createElement(a.Fragment,null,a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.templates")}),a.createElement("div",{className:i?r0:r$},t.map((e,t)=>a.createElement(lT,{key:`assetPanelRecents:template:${(0,th.V)(e)}`,asset:e,fileName:o(r1(e)),sectionNameForTracking:p,sectionPosition:t,keyboardPosition:(0,lf.pg)([ln.tM.TEMPLATES],t,1),...u})))),l&&g&&f&&a.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),f&&a.createElement(a.Fragment,null,l&&g&&a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.components")}),a.createElement("div",{className:i?r0:r$},e.map((e,t)=>a.createElement(lT,{key:`assetPanelRecents:component:${(0,th.V)(e)}`,asset:e,fileName:o(r1(e)),sectionNameForTracking:m,sectionPosition:t,keyboardPosition:(0,lf.pg)([ln.tM.COMPONENTS],t,d),...c})))),a.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var r3=n(860601),r5=n(453681),r4=n(27703),r7=n(396462),r8=n(858855),r6=n(527735);let r9=function({isLoading:e,children:t}){return e?a.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},a.createElement(ed.kt,null)):a.createElement(a.Fragment,null,t)},ie="asset_panel_search_results--empty--72Hqc",it=(0,m.jz)(lc.ce),ia=(0,m.jz)(lc.GH),il=(0,tu.fv)(),ir=({moreResults:e,query:t,assetType:n,showMoreDefault:l})=>{let[r,i]=a.useState(!1),o=l||r,s=a.useCallback(()=>i(!0),[]);a.useEffect(()=>{i(!1)},[t]);let c=(0,r4.ud)(),d=(0,g.md)(r5.qp),u=a.useCallback(e=>((0,e1.kc)().ds_use_lib_keys?d[e.library_key]?.name:c[il(e)]?.name)??"",[c,d]),[m]=(0,lh.MA)(),p=l3(),f="templates"===n,{props:h,numColumns:_}=a.useMemo(()=>l5(p,m,as.rp.NORMAL,f),[p,m,f]),{componentSectionNameForTracking:E,templateSectionNameForTracking:y}=(0,lp.zf)({moreSearchResults:!0}),v=a.useMemo(()=>lU(e,_,`${n}:moreResults`,h,f?y:E,[f?ln.tM.TEMPLATES:ln.tM.COMPONENTS,1],{getFileName:u}),[e,_,n,h,f,y,E,u]);return a.useMemo(()=>{if(0===e.length)return[];let t=[];return t.push({element:a.createElement("div",{className:"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},o&&(0,N.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&a.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:s},(0,N.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${n}:showMoreText`,height:ia}),o&&t.push(...v),t},[n,e.length,o,s,v])},ii=(0,tu.fv)();function io({components:e,moreComponents:t,templates:n,moreTemplates:l,query:r,getLibraryNameFromKey:i}){let o=(0,e1.kc)().dse_editor_templates_v1,s=e.length+t.length>0,c=n.length+l.length>0,d=a.useCallback(e=>i(ii(e)),[i]),[u]=(0,lh.MA)(),m=l3(),{props:p,numColumns:f}=a.useMemo(()=>l5(m,u,as.rp.NORMAL),[m,u]),{componentSectionNameForTracking:g,templateSectionNameForTracking:h}=(0,lp.zf)(),_=a.useMemo(()=>lU(e,f,"components",p,g,[ln.tM.COMPONENTS,0],{getFileName:d}),[e,f,p,g,d]),{props:E,numColumns:y}=a.useMemo(()=>l5(m,u,as.rp.NORMAL),[m,u]),v=a.useMemo(()=>lU(n,y,"templates",E,h,[ln.tM.TEMPLATES,0],{getFileName:d}),[n,y,E,h,d]),b=ir({moreResults:t,query:r,assetType:"components",showMoreDefault:0===e.length&&t.length>0}),w=ir({moreResults:l,query:r,assetType:"templates"}),x=a.useMemo(()=>{let e=[];return o&&c&&(e.push({element:a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:it}),e.push(...v),e.push(...w)),s&&(c&&e.push({element:a.createElement(ly.X3,{title:(0,N.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:it}),e.push(..._),e.push(...b)),e},[o,c,s,v,w,_,b]);return a.createElement(lz,{elements:x,anchorScroll:!0})}let is=(0,tu.fv)();function ic(){let{query:e,normalizedSearchResults:t,unsubscribedSearchResults:n,isLoading:l}=(0,r.d4)(eF.UQ),i=(0,r8.U)(),{libraryKey:o}=(0,lg.wV)(),{getLibrary:s}=(0,lE.G)(),{isLoading:c,libraryNameByResourceId:d}=function(e){let{hubFileIds:t,fileKeys:n}=a.useMemo(()=>{let t=Array.from(e),{pass:n,fail:a}=(0,r6.j)(t,e3.wJ);return{hubFileIds:n,fileKeys:a}},[e]),l=a.useMemo(()=>n.map(e=>({fileKey:e})),[n]),r=a.useMemo(()=>t.map(e=>({hubFileId:e})),[t]),i=(0,tR.p)(eh.NSA,l,{enabled:l.length>0}),o=(0,tR.p)(eh.a9b,r,{enabled:r.length>0});return{isLoading:a.useMemo(()=>i.some(e=>"loading"===e.result.status)||o.some(e=>"loading"===e.result.status),[i,o]),libraryNameByResourceId:a.useMemo(()=>{let e={};for(let t of i)"loaded"===t.result.status&&t.result.data.file&&(e[t.args.fileKey]=t.result.data.file.name);for(let t of o)"loaded"===t.result.status&&t.result.data.hubFile?.currentHubFileVersion&&(e[t.args.hubFileId]=t.result.data.hubFile.currentHubFileVersion.name);return e},[i,o])}}(a.useMemo(()=>new Set(t.map(e=>is(e))),[t])),u=id(e),m=a.useCallback(e=>d[e]??s(e)?.name??"",[d,s]),p=a.useMemo(()=>o?s(o)?.name:void 0,[s,o]),[f,g]=a.useMemo(()=>(0,eF._2)(t.filter(e=>m(is(e)))),[t,m]),[h,_]=a.useMemo(()=>(0,eF._2)(n),[n]),E=g.length+_.length>0,y=f.length+h.length>0;return e?a.createElement(r9,{isLoading:c&&u||l||i},E||y?a.createElement(io,{components:g,moreComponents:_,templates:f,moreTemplates:h,query:e,getLibraryNameFromKey:m}):a.createElement("div",{className:ie},p?(0,N.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:p}):(0,N.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):a.createElement("div",{className:ie},"Search keywords and filter results by specific libraries, templates, and components.")}let id=e=>{let t=(0,ep.ZC)(e),{isActive:n,start:l}=(0,r7.Z)(r3.lQ);return a.useEffect(()=>{e!==t&&l(1e4)},[e,t,l]),n},iu=(e,t)=>e===lg.S5.Libraries?0:e===lg.S5.Pages||t?1:2;function im({assetPanelItems:e,width:t}){let{libraryKey:n,pageId:l,currentView:i}=(0,lg.wV)(),{previousLibraryKey:o}=(0,lg.RR)(),s=ip(),{getPage:c,getLibrary:d}=(0,lE.G)(),m=(0,r8.q)()(n);aq(a.useCallback(()=>{let t=0,n=0,a=0;for(let[l,r]of e.allLibrariesUnsorted){if(l===e.localAssets.fileKey){r.numComponents>=0&&(t+=1);continue}t+=1,n+=r.numComponents,a+=Math.min(r.numComponents,20)}return{numLibraries:t,numComponents:n,numComponentsWithLimit:a}},[e])),ig(),ey();let p=a.useMemo(()=>d(n??o),[d,n,o]),f=a.useMemo(()=>c(n,l),[c,n,l]),h=iu(i,s),[_,E]=(0,rO.g)();return!function(e,t,n){let l=(0,r.d4)(e=>e.openFile),[i,o]=(0,g.fp)(a9.GT),s=t.length+n.length;e.numComponents+e.numTemplates>0&&(s+=1),a.useEffect(()=>{if(!i){o(!0);let e=a9._o.stop();e&&(0,u.sx)(a9.YS,{elapsedMs:e,fileKey:l?.key,teamId:l?.teamId,orgId:l?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:s,numComponents:0,numComponentsShown:0,numSectionsShown:s},{forwardToDatadog:!0})}},[i,o,s,l])}(e.localAssets,_,E),a.createElement(a.Fragment,null,a.createElement(rw,null),i===lg.S5.Search?a.createElement(ic,null):i===lg.S5.Recents?a.createElement(r2,null):a.createElement(l4,{index:h,width:t},a.createElement(rz,{width:t,hideScrollbar:0!==h,assetPanelItems:e}),!s&&a.createElement(rZ,{library:p,width:t,isLoading:m,hideScrollbar:1!==h}),a.createElement(rt,{page:f,width:t})))}let ip=()=>{let{getLibrary:e}=(0,lE.G)(),{libraryKey:t}=(0,lg.wV)(),n=(0,r8.q)()(t),a=e(t);return!!a&&!n&&!!(0,lg.Cg)(a)},ig=()=>{let{libraryKey:e}=(0,lg.wV)(),t=(0,lt.R)(),n=(0,le.$)(e);a.useEffect(()=>{e&&(0,e3.wJ)(e)&&n&&t({updateSource:"ui3_library_expand"})},[n,e,t])};var ih=n(755020),i_=n(900956),iE=n.n(i_),iy=n(259927);let iv="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",ib="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function iw({stubs:e}){let{collapsibleStubs:t,lastStub:n,numHiddenStubs:l,breadcrumbRef:r,ellipsisRef:i,stubRefs:o}=iN(e),s=a.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),c=l===t.length;return a.createElement("div",{className:td.cx.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:ro.sx.add({flexBasis:"content"}).$,ref:r,role:"navigation"},a.createElement(iI,{shouldEllipsize:c}),l>0&&a.createElement(ik,{allStubs:t,numHiddenStubs:l,getDropdownTarget:s,ref:i}),t.map((e,t)=>t<l?null:a.createElement(iT,{key:t,i:t,name:e,ref:e=>o.current[t]=e})),e.length>0?a.createElement(iC,{name:n,firstSlash:0===t.length,shouldEllipsize:c}):null)}let iN=e=>{let[t,n]=a.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[l,r]=a.useState([]),i=a.useRef([]);a.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),l.length>t.length&&r(e=>e.slice(0,t.length))},[t,l.length,e.length]);let o=a.useRef(null),s=a.useRef(null),{width:c}=lA();return a.useLayoutEffect(function(){let e=o.current;if(!e)return;let t=e.children,n=e.offsetWidth-iE()(Array.from(t).map(e=>e.scrollWidth));if(n<0){let e=i.current[l.length];e&&r(t=>[...t,e.scrollWidth])}else if(l.length>0){let e=l.length-1;n>l[e]-(s.current&&1===l.length?s.current.scrollWidth:0)&&r(e=>e.slice(0,-1))}},[l,i,e,c]),{collapsibleStubs:t,lastStub:n,numHiddenStubs:l.length,breadcrumbRef:o,ellipsisRef:s,stubRefs:i}},ix="asset-panel-ellipsis-menu",ik=a.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:n},i)=>{let o=(0,lp.sN)(),s=(0,R.Um)(),c=s?.type===ix,u=(0,r.wA)(),m=a.useCallback(()=>u((0,rs.oB)()),[u]),p=a.useCallback(()=>u((0,rs.j7)({type:ix,data:{position:n()}})),[u,n]),{isCurrentlySkippingPage:f,isCurrentlySkippingFirstFolder:g,navigateBackToPathIndex:h}=(0,lg.wV)(),_=a.useMemo(()=>t.slice(0,e),[t,e]),E=a.useMemo(()=>_.join(" / "),[_]),y=a.useMemo(()=>{if(c)return s.data?.position},[s?.data?.position,c]),v=a.useCallback(e=>{o("breadcrumb",h(iA(e,f,g)))},[g,f,o,h]),{focusBackButton:b,focusSearchBar:w}=(0,lf.rl)(),N=(0,lf.NR)({onBoth:e=>()=>{v(e)},onKeyDown:()=>()=>{setTimeout(()=>b(),0)},onClick:()=>w}),{setKeyboardNavigationElement:x}=(0,ec.M3)({path:[ln.ON.BREADCRUMB],column:ln.Yv.ELLIPSIS}),k=d()(iv,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":c});return a.createElement("div",null,a.createElement("div",{ref:i,className:td.cx.flex.itemsCenter.$},a.createElement(iS,null),a.createElement("button",{ref:x,className:k,onClick:p,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":E,"aria-label":E,"aria-haspopup":"listbox","aria-expanded":c},"\u2026")),c&&l.createPortal(a.createElement(ri.X3,{className:iy.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:m,autofocusPrevElementOnEsc:!0},_.map((e,t)=>a.createElement(ri.c$,{key:e,onClick:N(t)},e))),document.body))});function iI({shouldEllipsize:e}){let t=(0,B.tS)(),[,,n]=(0,rO.g)(),{currentView:l,libraryKey:r,navigateToLibrary:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s,folderPath:c}=(0,lg.wV)(),{setLastNavAction:u}=(0,lV.ZX)(),{focusBackButton:m,focusSearchBar:p}=(0,lf.rl)(),f=a.useMemo(()=>r?r===t?(0,N.t)("design_systems.assets_panel.local_assets"):n.get(r)?.name:void 0,[n,r,t]),g=(0,lp.sN)(),h=l===lg.S5.Libraries,_=l===lg.S5.Pages,E=l===lg.S5.Recents,y=a.useMemo(()=>!!_||!!o&&(!c||!!s&&1===c.length),[c,s,o,_]),v=a.useCallback(e=>{let t=i(e);u(lV.r6.Back),g("breadcrumb",t)},[g,i,u]),b=(0,lf.MB)({onBoth:()=>v(r??""),onKeyDown:m,onClick:p}),{setKeyboardNavigationElement:w}=(0,ec.M3)({path:[ln.ON.BREADCRUMB],column:ln.Yv.LIBRARY}),x=d()(_?ib:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return h?a.createElement("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",style:{marginLeft:3}},(0,e1.kc)().dse_hide_local_and_subscribed_libraries?(0,N.tx)("design_systems.assets_panel.ui_kits"):(0,N.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):E?a.createElement("div",{className:ib,style:{marginLeft:3}},(0,N.tx)("design_systems.assets_panel.dropdown_type_recents")):a.createElement("div",{className:td.cx.flex.overflowHidden.$},a.createElement("button",{onClick:b,className:x,disabled:y,ref:w,type:"button"},f))}let iT=a.forwardRef(({name:e,i:t},n)=>{let{isCurrentlySkippingPage:l,isCurrentlySkippingFirstFolder:r,navigateBackToPathIndex:i}=(0,lg.wV)(),o=(0,lp.sN)(),s=a.useCallback(e=>{o("breadcrumb",i(e))},[o,i]),c=a.useMemo(()=>iA(t,l,r),[t,r,l]),{setKeyboardNavigationElement:d}=(0,ec.M3)({path:[ln.ON.BREADCRUMB],column:ln.Yv.STUBS+t}),{focusBackButton:u,focusSearchBar:m}=(0,lf.rl)(),p=(0,lf.MB)({onBoth:()=>s(c),onKeyDown:u,onClick:m});return e?a.createElement("div",{ref:n,className:td.cx.flex.itemsCenter.$},a.createElement(iS,null),a.createElement("button",{ref:d,onClick:p,className:iv},e)):null});function iC({name:e,shouldEllipsize:t}){let n=a.useRef(null),{pageId:l,folderPath:r}=(0,lg.wV)(),{width:i}=lA(),[o,s]=a.useState(!1);return(a.useEffect(()=>{s(!!(0,t2._C)({text:e??"",textRef:n}))},[e,i]),a.useEffect(()=>{setTimeout(()=>s(!!(0,t2._C)({text:"",textRef:n})),0)},[l,r]),e)?a.createElement("div",{className:td.cx.noWrap.flex.itemsCenter.if(t,td.cx.overflowHidden).$},a.createElement(iS,null),a.createElement("div",{"data-tooltip-type":$.Ib.TEXT,"data-tooltip":o?e:void 0,ref:n,className:td.cx.mx4.px2.if(t,td.cx.overflowHidden.noWrap.ellipsis).$,"aria-current":"location"},e)):null}function iS(){return a.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let iA=(e,t,n)=>{let a=e;return t&&a++,n&&a++,a-1};var iP=n(782683),iL=n(882316),iO=n(132572);let iD="asset_panel_search--libraryChipRemove--kJiJn";function iM({libraryName:e}){let t=(0,r.wA)(),{currentView:n,startSearch:l,onBack:o,libraryKey:s}=(0,lg.wV)(),c=n===lg.S5.Search,{inputRef:d,focusSearchBar:u}=(0,lf.rl)(),m=(0,r.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:p}=(0,r.d4)(eF.UQ),f=(0,B.tS)(),g=a.useCallback(()=>{c&&o()},[c,o]),h=a.useMemo(()=>s?s===f?{type:eK.I.LOCAL}:{type:eK.I.FILE,fileKey:s}:{type:eK.I.ALL},[s,f]),_=a.useCallback(e=>{t(eu.ku({query:e,searchOptions:h,entryPoint:"asset_panel"})),""===e?g():c||l()},[t,c,g,h,l]),E=a.useRef(void 0);a.useEffect(()=>{c&&(p&&E.current!==s&&t(eu.gP({searchOptions:h})),E.current=s)},[t,c,s,p,h]);let y=a.useCallback(()=>{""===p&&g()},[g,p]),v=a.useCallback(()=>{_(""),u(),g()},[_,u,g]),b=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);a.useEffect(()=>{let e=e=>{let t=eR.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===eM.Uz.KEY_2:e.altKey&&e.keyCode===eM.Uz.KEY_2,n=!(0,iO.AL)()&&e.shiftKey&&e.keyCode===eM.Uz.I&&!(0,lp.Qk)(e.target);(t||n)&&b!==i.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b,u]);let w=a.useMemo(()=>e?(0,N.t)("design_systems.assets_panel.search_library"):(0,N.t)("design_systems.assets_panel.search_all_libraries"),[e]);return a.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},a.createElement(iP.h,null),a.createElement(eB.E1,{path:[ln.ON.HEADER,ln.my.SEARCH_AND_FILTER],column:ln.Wy.SEARCH,isNewAssetsPanel:!0,query:p,onChange:_,onFocus:r3.lQ,onBlur:y,onClearSearch:v,forwardedRef:d,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:m,recordingKey:"componentsLibrarySearch",placeholder:w,selectOnFocus:!0}))}function iR({library:e}){let{navigateToTop:t}=(0,lg.wV)(),{focusSearchBar:n}=(0,lf.rl)(),l=(0,lp.sN)(),r=a.useCallback(()=>{l("searchFilterChip",t()),n()},[n,l,t]),{setKeyboardNavigationElement:i}=(0,ec.M3)({path:[ln.ON.HEADER,ln.my.LIBRARY_SEARCH_CHIP]});return e?a.createElement("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-search-chip"},a.createElement("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa"},e.name),(0,e1.kc)().dse_fpl_wave_1?a.createElement(la.E,{className:iD,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,N.t)("design_systems.assets_panel.search_chip_label"),ref:i},a.createElement(iL.f,null)):a.createElement(li.GG,{className:iD,onClick:r,recordingKey:"asset-panel-search-chip","aria-label":(0,N.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},a.createElement(iL.f,null))):null}var iF=n(221768),iB=n(18991),iK=n(343427),iU=n(270133),iz=n(255942);let iH="assets-panel-settings";function iV({includeFolderSetting:e=!0}){let t=a.useRef(null),{setKeyboardNavigationElement:n}=(0,ec.M3)({path:[ln.ON.HEADER,ln.my.SEARCH_AND_FILTER],column:ln.Wy.SETTINGS}),l=(0,B.tS)(),i=(0,R.Um)(),o=i?.type===iH,s=(0,r.wA)(),c=a.useCallback(()=>{o?s((0,rs.oB)()):(s((0,rs.j7)({type:iH,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),u.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:l??void 0,assetsPanelVersion:3}))},[s,l,o]),d=a.useMemo(()=>{if(o)return i.data?.position},[i?.data?.position,o]),m=a.useCallback(e=>{o&&e.stopPropagation()},[o]);return a.createElement(a.Fragment,null,a.createElement("div",{onMouseDown:m},a.createElement(ez.d,{onClick:c,toggled:o,ref:(0,iz.A)(t,n),"aria-label":(0,N.t)("design_systems.assets_panel.settings_label"),htmlAttributes:{"aria-expanded":o,"aria-haspopup":"listbox","data-testid":"asset-panel-settings-button"}},a.createElement(iF.A,null))),o&&a.createElement(iG,{position:d,includeFolderSetting:e,buttonRef:t}))}function iG({position:e,includeFolderSetting:t,buttonRef:n}){let i=(0,r.wA)(),o=a.useCallback(()=>{i((0,rs.oB)())},[i]),s=(0,lp.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c,templates:m}=(0,nY.g5)(tA.$A.Design),[p]=(0,lh.ye)(),{currentView:f,libraryKey:g}=(0,lg.wV)(),{getLibrary:h}=(0,lE.G)(),_=(0,B.tS)(),[E]=(0,lh.MA)(),y=(0,rN.KJ)()&&f===lg.S5.Libraries,v=y?lh.$H.LIST:E,b=a.useMemo(()=>f!==lg.S5.Search&&(c.length>0||m.length>0),[f,c.length,m.length]),w=a.useMemo(()=>_?h(_):void 0,[h,_]),x=!!w&&(w.numComponents>0||w.numTemplates>0),[k,I]=(0,rO.g)(),{goToLibrary:T,goToAll:C,goToRecents:S,changeAssetsView:A,toggleShowFolders:P}=function(e){let t=(0,B.q5)(),n=(0,lp.sN)(),{navigateToLibrary:l,navigateToTop:r,navigateToRecents:i}=(0,lg.wV)(),{setLastNavAction:o}=(0,lV.ZX)(),[,s]=(0,lh.MA)(),[,c]=(0,lh.ye)(),{focusSearchBar:d}=(0,lf.rl)(),m=a.useCallback(e=>{n("settingsMenu",e)},[n]),p=a.useCallback(e=>{m(l(e)),d()},[d,l,m]),f=a.useCallback(()=>{m(r()),d()},[d,r,m]),g=a.useCallback(()=>{m(i()),d()},[d,i,m]),h=a.useCallback(()=>e.current?.focus(),[e]),_=a.useCallback(e=>{u.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),s(e),o(lV.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,s,o]),E=(0,lf.NR)({onBoth:e=>()=>_(e),onKeyDown:()=>h}),y=a.useCallback(e=>{u.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:p,goToAll:f,goToRecents:g,changeAssetsView:E,toggleShowFolders:(0,lf.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>h})}}(n),L=a.useMemo(()=>{let e=[];return e.push(iW({text:(0,N.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:f===lg.S5.Libraries||f===lg.S5.Search&&!g,onClick:C})),b&&e.push(iW({text:(0,N.t)("design_systems.assets_panel.dropdown_type_recents"),checked:f===lg.S5.Recents&&c.length>0,onClick:S})),x&&e.push(iW({text:w.name,checked:f!==lg.S5.Recents&&g===w.fileKey,onClick:()=>T(w.fileKey)})),(k.length>0||I.length>0)&&e.push(a.createElement(ri.wv,null)),e.push(...k.map(({name:e,fileKey:t})=>iW({text:e,isApproved:(0,e7.vR)(t),checked:f!==lg.S5.Recents&&g===t,onClick:()=>T(t)}))),e.push(...I.map(({name:e,fileKey:t})=>iW({text:e,isApproved:(0,e7.vR)(t),isPreset:!0,checked:f!==lg.S5.Recents&&g===t,onClick:()=>T(t)}))),e.push(a.createElement(ri.wv,null)),y||e.push(iW({text:(0,N.t)("design_systems.assets_panel.view_toggle_grid"),checked:v===lh.$H.GRID,onClick:A(lh.$H.GRID),icon:a.createElement(iB.t,null)})),e.push(iW({text:(0,N.t)("design_systems.assets_panel.view_toggle_list"),checked:v===lh.$H.LIST,onClick:A(lh.$H.LIST),icon:a.createElement(iK.Z,null)})),t&&e.push(iW({text:(0,N.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:p,onClick:P(!p),icon:a.createElement(iU.e,null)})),e},[v,A,g,f,y,C,T,S,x,b,t,w?.fileKey,w?.name,I,c.length,p,k,P]),O=a.useMemo(()=>({...e,maxHeight:s}),[s,e]);return l.createPortal(a.createElement(ri.X3,{className:d()(iy.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:O,id:iH,hideDropdown:o,autofocusPrevElementOnEsc:!0},L),document.body)}function iW({text:e,isApproved:t,isPreset:n,checked:l,onClick:r,icon:i}){return a.createElement(ri.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!l,onClick:r,key:e},a.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},a.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?a.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,a.createElement("span",null,e)):e),a.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?a.createElement(e4.FX,null):n?a.createElement("div",{className:td.cx.ml2.$},a.createElement(e6.S,{hubFileId:void 0})):null)))}function iY(){let{getPage:e,getLibrary:t}=(0,lE.G)(),{libraryKey:n,pageId:l}=(0,lg.wV)(),r=a.useMemo(()=>e(n,l),[e,n,l]),i=a.useMemo(()=>t(n),[t,n]);return a.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},a.createElement(iX,{library:i}),a.createElement(ij,{page:r}))}function iX({library:e}){let{currentView:t}=(0,lg.wV)();return a.createElement("div",{className:td.cx.grid.gap4.itemsCenter.ml8.$,style:ro.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto"}).$},a.createElement("div",{style:ro.sx.add({gridRow:1,gridColumn:1}).$},a.createElement(iM,{libraryName:e?.name})),a.createElement("div",{style:ro.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},a.createElement(iV,{includeFolderSetting:[lg.S5.Libraries,lg.S5.Pages,lg.S5.Assets].includes(t)})),t===lg.S5.Search&&e&&a.createElement("div",{style:ro.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},a.createElement(iR,{library:e})))}function ij({page:e}){let{currentView:t,folderPath:n,onBack:l,libraryKey:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s}=(0,lg.wV)(),c=(0,lp.sN)(),d=(0,r.d4)(e=>e.modalShown),u=(0,r.wA)(),{setBackButtonKeyboardItem:m,focusSearchBar:p}=(0,lf.rl)(),f=a.useCallback(()=>{c("backButton",l()),d?.type===e9.V&&u(W.AS())},[l,c,d?.type,u]),g=a.useCallback(()=>{t===lg.S5.Recents?i||p():t===lg.S5.Pages?p():t===lg.S5.Assets&&o&&!n&&p()},[t,p,n,o,i]),h=(0,lf.MB)({onBoth:f,onKeyDown:g,onClick:p}),_=a.useMemo(()=>{if(t===lg.S5.Search||t===lg.S5.Recents)return[];let a=e?.name&&!o?[e.name]:[],l=n??[];return[...a,...s?l.slice(1):l]},[t,n,o,s,e?.name]),E=rD(),y=t!==lg.S5.Libraries&&t!==lg.S5.Search;return E?null:a.createElement(a.Fragment,null,t!==lg.S5.Search&&a.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},y&&a.createElement(t0.K,{"aria-label":(0,N.t)("design_systems.assets_panel.back"),onClick:h,ref:m,recordingKey:"assetsPanelBack"},a.createElement(ih.C,null)),a.createElement(iw,{stubs:_})))}var iq=n(708873);let iQ=e=>a.useCallback(t=>{t()||e()},[e]);var iJ=n(309798),iZ=n(243074);function i$({width:e}){let t=(0,iq.j)(),n=function(e){let t=(0,U.iZ)(),n=(0,B.q5)(),l=(0,eN.jO)(),i=(0,iJ.f)("has_dismissed_component_sidebar_library_upsell_banner"),o=(0,r.d4)(e=>e.isFreeUser),s=(0,r.d4)(eS.P),c=n?.teamId?s[n.teamId]:null,d=(0,tR.Rs)(eh.GyZ,{teamId:n?.teamId??""},{enabled:!!n?.teamId}),u=n?.canEdit??!1,m=d?.data?.team?.canEdit??!1,p=e.numComponents>0||e.numTemplates>0;return a.useMemo(()=>!i&&o&&(!c||!(0,ex.w5)(c)&&m)&&u&&l&&p&&(0,em.Hz)(t?.id),[i,o,c,m,u,l,p,t])}(t.localAssets),l="loading"===(0,e_.je)().status,i=(0,ts.Xr)(lB),o=a.useCallback(()=>i(!0),[i]);return a.createElement(i0,{assetPanelItems:t,width:e},a.createElement("div",{className:iZ.k,"data-testid":"component-sidebar",translate:"no"},a.createElement(iY,null),a.createElement(r9,{isLoading:l},a.createElement(im,{assetPanelItems:t,width:e})),n&&a.createElement(a3,null),a.createElement(eP.Mw,{width:e,scrollToPreset:o})))}function i0({children:e,width:t,assetPanelItems:n}){return a.createElement(lV.P3,null,a.createElement(lE.K,{assetPanelItems:n},a.createElement(lf.tM,{className:iZ.k},a.createElement(i1,null,a.createElement(lP,{width:t},e)))))}function i1({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:n,navigateToTop:l,navigateToPage:r,navigateToPath:i,navigateToLibrary:o,currentView:s,onBack:c}=(0,lg.wV)(),d=(0,r8.q)(),u=d(e),{getLibrary:m,getPage:p,getFolder:f}=(0,lE.G)(),{setLastNavAction:h}=(0,lV.ZX)(),_=iQ(l),[,,E]=(0,rO.g)(),[y,v]=(0,g.fp)(eL.Cl);a.useEffect(()=>{y&&E.size>0&&((0,lp.hB)(()=>o(y)),v(null))},[y,o,v,E]),(0,lg.sH)(),a.useEffect(function(){if(s!==lg.S5.Assets&&s!==lg.S5.Pages)return;let a=m(e),o=E.get(e);if(!a){if(d(e)&&o&&s!==lg.S5.Assets)return;_(l);return}if(t){if(!a?.pages.get(t)){let e=(0,lg.Cg)(a);e?_(()=>r(e.id)):_(c);return}if(n&&!f(e,t,n)){let a=n.slice(0,-1),l=f(e,t,a);for(;!l&&a.length>0;)l=f(e,t,a=a.slice(0,-1));if(!l)return _(()=>r(t));let o=parent?(0,lg.xc)(l):void 0;return void(o?_(()=>i([...a,o.name])):(_(()=>i(a)),h(lV.r6.Back)))}}},[c,u,e,s,t,n,l,r,m,f,i,h,_,E,d]),a.useEffect(function(){let a=m(e);if(!a||u)return;let l=(0,lg.Cg)(a);if(s===lg.S5.Pages&&l)r(l.id);else if(s===lg.S5.Assets){let a=f(e,t,n);if(!a)return;let l=(0,lg.xc)(a);l&&i([...n??[],l.name])}},[u,s,n,f,m,p,e,r,i,c,t])}(),a.createElement(a.Fragment,null,e)}function i2(){return a.createElement("div",{className:td.cx.colorTextSecondary.my8.mx16.$},(0,N.tx)("design_systems.assets_panel.error"))}var i3=n(576230),i5=n(544403),i4=n(443230),i7=n(324666),i8=n(427072),i6=n(872429),i9=n(764257),oe=n(656147),ot=n(349410),on=n(385111);function oa(e){let t=(0,r.wA)(),n=(0,B.q5)(),l=(0,eb.FC)(),i=(0,t9.p8)("pagesList").length,o=a.useRef(),s=(0,V.ks)(),c=(0,ot.Fr)(),u=on.h.useTrackingContext({trigger:a2.b.PAGE_TRACKER_UPSELL});o.current=e.setUpsellHeightCallback;let m=a.useCallback(e=>{o.current&&o.current(e?.getBoundingClientRect().height||0)},[i]);if(i<=0||!n||s)return null;let p=n.team;if(!(p&&(0,ek.canEditTeam)(p.id,l)&&!(0,ex.XX)(p)))return null;let f=(0,ex.Lj)(n);if((f<=1||f>=1/0)&&!c(n))return null;let g=()=>{let e=a2.b.PAGE_TRACKER_UPSELL;t((0,W.to)({type:a$.V,data:{upsellSource:e,teamId:p.id,openCheckoutInNewTab:!0}}))},h=a.createElement(t3.Us,{onClick:g,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,N.tx)("fullscreen.pages_panel.see_plans_that_offer_more")),_=a.createElement(t3.Us,{onClick:g,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,N.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")),E=i/ex.LF[n.editorType??ty._Y.DESIGN],y=d()({"page_tracker_upsell--progressPartial--guOiP":E<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===E,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":E>1}),v=`${Math.trunc(100*Math.min(E,1))}%`,b={fileTeamId:p.id,numPages:i,...u};return a.createElement(eG.fu,{name:"Page Tracker Upsell",properties:b},a.createElement("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:m,"data-testid":"page_tracker_upsell"},a.createElement("div",{className:"page_tracker_upsell--upsellBody--yUAjd"},a.createElement("div",{className:"page_tracker_upsell--progressBar--fDCBY"},a.createElement("div",{className:y,style:{width:v},"data-testid":"page_tracker_progress_bar"})),a.createElement("p",{className:"page_tracker_upsell--upsellText--Ng-u0"},(()=>{let e=ex.LF[n.editorType??ty._Y.DESIGN]-i;return e>=2?a.createElement(a.Fragment,null,(0,N.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),a.createElement("br",null),h):1===e?a.createElement(a.Fragment,null,(0,N.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),a.createElement("br",null),_):0===e?a.createElement(a.Fragment,null,(0,N.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:ex.LF[n.editorType??ty._Y.DESIGN]}),a.createElement("br",null),_):a.createElement(a.Fragment,null,(0,N.tx)("fullscreen.pages_panel.all_free_pages_used"),a.createElement("br",null),_)})()))))}var ol=n(875331),or=n(653671),oi=n(359108),oo=n(735056),os=n(137345);function oc(e){let t=(0,r.wA)(),n=(0,r.d4)(e=>e.selectedView);return a.createElement(oo.y,{withBorder:!0},a.createElement(os.Y,{onFocus:()=>{(0,I._)(t,n,"overview_search_clicked"),L.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!e.isOverview&&a.createElement(la.E,{className:"ui2_dev_handoff_header_row--toggleButton--LW2BM",onClick:e.togglePagesExpanded,htmlAttributes:{onContextMenu:e.onPageContextMenu}},a.createElement("span",{className:"ui2_dev_handoff_header_row--pageTitle--lcNMS ellipsis--ellipsis--Tjyfa"},e.currentPageName||""),a.createElement(t4.B,{className:"ui2_dev_handoff_header_row--chevron--wHgKd",svg:e.pageTabChevron})))}function od({children:e,hasScrollLine:t,onClick:n}){return a.createElement("div",{className:d()("header_container--container--aPIhG",{"header_container--withShadow---XYxm":t}),onClick:n},e)}function ou({children:e}){return a.createElement("div",{className:"header_text--headerText--ZXIeN",onContextMenu:C.jo},e)}var om=n(650166);function op({isReadOnly:e,hasScrollLine:t,onTogglePages:n,recordingKey:l}){return a.createElement(od,{onClick:e?n:void 0,hasScrollLine:t},a.createElement(ou,null,(0,N.tx)("fullscreen.pages_panel.pages")),!e&&a.createElement("div",{className:td.cx.flex.mx8.itemsCenter.$},a.createElement(om.e,{recordingKey:h.Pt(l,"newPage")})))}var of=n(332721),og=n(601538),oh=n(16633),o_=n(455263),oE=n(893606);function oy(){let{hasAnyUiKit:e}=(0,e3.I7)(),t=(0,iJ.f)("ui_kits_assets_title_blue_dot_dismissed"),n=(0,eN.jO)(),l=(0,o_.t)(),o=B.q5()?.canEdit,s=(0,r.d4)(e=>e.leftPanel.activeTab===i.xae.ASSETS),c=(0,r.wA)(),d=(0,oE.R)();return(a.useEffect(()=>{e&&!t&&s&&c(a0.b({ui_kits_assets_title_blue_dot_dismissed:!0}))},[s,t,c,e]),n&&!l&&o&&e&&!t)?d?a.createElement(oh.C,{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDotUi3--VR9bW"}):a.createElement("span",{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDot--s7hOi"}):null}var ov=n(376600);function ob({showTabs:e,activeTab:t,isComparingChanges:n,pageTabChevron:l,currentPageName:r,onCanvasSearch:o,onPageContextMenu:s,onTogglePages:c,recordingKey:u}){let m=(0,oi.U)(),p=(0,h.rf)(h.Pt(u,"collapsedRow"),"contextmenu",e=>{s(e)});return a.createElement(oo.y,{withBorder:!0},e&&a.createElement(a.Fragment,null,a.createElement(of._,{onClick:o}),a.createElement(li.Bx,{className:t===i.xae.LAYERS?ov.yR:ov.Mf,onMouseDown:m.showLayersPanel,onContextMenu:C.jo,"data-label":(0,N.t)("fullscreen.pages_panel.layers_tab"),recordingKey:h.Pt(u,"tab","layers"),innerText:"Layers"},(0,N.tx)("fullscreen.pages_panel.layers_tab")),a.createElement(li.Bx,{className:ov.dB,onMouseDown:m.showPublish,onContextMenu:C.jo,recordingKey:h.Pt(u,"tab","assets"),innerText:"Assets","data-onboarding-key":og.Qr},a.createElement("div",{className:t===i.xae.ASSETS?ov.yR:ov.Mf,"data-label":(0,N.t)("fullscreen.pages_panel.assets_tab")},a.createElement("div",null,(0,N.tx)("fullscreen.pages_panel.assets_tab"),a.createElement(oy,null))))),!e&&a.createElement("div",{className:d()("ui2_tabs_row--viewOnlySearchRow--lXeEC",{"ui2_tabs_row--hidden--H29bc":n})},a.createElement(os.Y,{onFocus:o})),a.createElement(la.E,{className:d()("ui2_tabs_row--toggleButton--3lJw1",{"ui2_tabs_row--viewOnly--crQc4":!e}),onClick:c,htmlAttributes:{onContextMenu:p},recordingKey:h.Pt(u,"collapsedRow")},a.createElement("span",{className:"ui2_tabs_row--pageTitle--PPrKt ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},r||""),a.createElement(t4.B,{className:"ui2_tabs_row--chevron--GSVx7",svg:l})))}var ow=n(964881),oN=n(989954),ox=n(652649);let ok="ui3_header_row--toggleButton--hYOqV",oI="ui3_header_row--isHidden--IIOWY";function oT({isReadOnly:e,isPagesOpen:t,isComparingChanges:n,hasMultiplePageTypes:l,hasScrollLine:r,currentPageName:i,onTogglePages:o,onCanvasSearch:s,onPageContextMenu:c,recordingKey:u}){let m=(0,V.ks)(),p=(0,ow.l7)(),f=m||p,g=l||(0,e1.kc)().interop_pages;return a.createElement(od,{onClick:e?o:void 0,hasScrollLine:r},e||f?a.createElement(ou,null,a.createElement(la.E,{onClick:o,className:d()(ok),htmlAttributes:{onContextMenu:c},recordingKey:h.Pt(u,"collapsedRow")},a.createElement("span",{className:d()("ui3_header_row--pageExpandToggle--jZKwE",{[oI]:p})},a.createElement(ox.g,{isExpanded:t})),a.createElement("span",{className:"ui3_header_row--pageTitle--N3-To ellipsis--ellipsis--Tjyfa","data-onboarding-key":"pages-panel-toggle"},t?(0,N.tx)("fullscreen.pages_panel.pages"):i||"")),a.createElement("div",{className:d()("ui3_header_row--searchButtonContainer--U--jv",{[oI]:n})},a.createElement(of._,{onClick:s}))):a.createElement(ou,null,a.createElement(la.E,{onClick:o,className:ok,recordingKey:h.Pt(u,"collapsedRow")},a.createElement(ox.g,{isExpanded:t}),(0,N.tx)("fullscreen.pages_panel.pages"))),!e&&a.createElement("div",{className:td.cx.flex.relative.mr8.justifyEnd.itemsCenter.$},g?a.createElement(oN.t,{recordingKey:u}):a.createElement(om.e,{recordingKey:h.Pt(u,"newPage")})))}function oC({isReadOnly:e,renamingGuid:t,isLayersOpen:n,onToggleLayers:l,currentPageGuid:r,width:i,shouldShowGuids:o,startRenamingNode:s,stopRenamingNode:c,faviconGuid:d,socialImageGuids:u,versionHistory:m,recordingKey:p}){let f=(0,F._Z)().isLoading,g=(0,B.q5)(),_=g?.thumbnailGuid||null;return a.createElement(a.Fragment,null,a.createElement(od,null,a.createElement(ou,null,a.createElement(la.E,{onClick:l,className:"ui3_objects_panel--toggleButton--A3BEZ",recordingKey:h.Pt(p,"layersCollapsedRow")},a.createElement(ox.g,{isExpanded:n}),(0,N.tx)("fullscreen.pages_panel.layers_tab")))),n&&a.createElement(i3.X,{hasPending:f,isReadOnly:e,currentPage:r,width:i,shouldShowGuids:o,renamingGuid:t,startRenaming:s,stopRenaming:c,faviconGuid:d,socialImageGuids:u,thumbnailGuid:_,versionHistory:m}))}var oS=n(809831),oA=n(535758);function oP({activeTab:e,onCanvasSearch:t,recordingKey:n}){let l=(0,tL.M)(),r=(0,oS.Em)(),o=l&&r&&(e===i.xae.ASSETS||e===i.xae.LAYERS);return a.createElement(oo.y,{withBorder:!0},a.createElement(oA.e,{activeTab:e,recordingKey:n}),a.createElement("div",{className:"ui3_tabs_row--iconContainer--a0sRl"},e===i.xae.LAYERS&&a.createElement(of._,{onClick:t}),o&&a.createElement(eJ,{recordingKey:n,entrypoint:e===i.xae.ASSETS?eD.r6.ASSETS_PANEL_BUTTON:eD.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===i.xae.LAYERS})))}var oL=n(173521),oO=n(783423),oD=n(560560);let oM=(0,m.jz)(nF.xM9),oR=(0,m.jz)(nF.Nqv),oF=(0,m.jz)(nF.M$q);class oB extends h.o6{constructor(e){super(e),this.scrollContainerRef=a.createRef(),this.scrollContainerInnerRef=a.createRef(),this.shouldScrollToPage=null,this.updateLocalStorageSettings=(e,t,n,a)=>{if(_.x4){let l=JSON.parse(_.x4.getItem("pages-panel")||"{}");l[e]={height:t,isOpen:n,devHandoffShowAllPages:a},_.x4.setItem("pages-panel",JSON.stringify(l))}},this.getLocalStorageSettings=e=>{if(_.x4)return JSON.parse(_.x4.getItem("pages-panel")||"{}")[e]},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.scrollViewToPage=e=>{if(!this.scrollContainerRef.current){this.shouldScrollToPage=e;return}let t=this.positionOfPageInList(e),n=t+oM,a=this.scrollContainerRef.current.getScrollTop(),l=a+this.scrollContainerRef.current.getTrackHeight();t<a?this.scrollContainerRef.current.scrollTo(t-oM/2):n>l&&this.scrollContainerRef.current.scrollTo(a+(n-l)+oM/2),this.shouldScrollToPage=null},this.onContextClick=h.cZ(this,"contextmenu",e=>{(0,C.jo)(e),this.props.onPageContextMenu({nodeId:this.props.currentPageGuid,clientX:e.clientX,clientY:e.clientY})}),this.forcePagesExpanded=()=>{this.props.tabActions.showLayersPanel(),this.state.isPagesOpen||(this.setState({isPagesOpen:!0}),(0,P.ds)("pages_panel_open_toggle",this.props.openFile?.key,f.D.getState(),{isPagesOpen:!0},{forwardToDatadog:!0}))},this.togglePagesExpanded=()=>{this.props.isDevHandoffOverview||((0,P.ds)("pages_panel_open_toggle",this.props.openFile?.key,f.D.getState(),{isPagesOpen:!this.state.isPagesOpen},{forwardToDatadog:!0}),this.setState({isPagesOpen:!this.state.isPagesOpen}))},this.toggleLayersExpanded=()=>{(0,u.sx)("objects_panel_open_toggle",{isLayersOpen:!this.state.isLayersOpen}),this.setState({isLayersOpen:!this.state.isLayersOpen})},this.onFullscreenStartRenamingNode=({nodeId:e})=>{this.startRenamingNode(e)},this.startRenamingNode=e=>{if(this.props.isReadOnly)return;let t=s.q.instance.get(e);if(t?.isResponsiveSet&&t.parentNode?.defaultResponsiveSetId===e){this.props.dispatch(x.F.enqueue({message:(0,N.t)("sites.panel.pages_panel.cannot_rename_default_responsive_set")}));return}this.props.activeTab!==i.xae.LAYERS&&this.props.tabActions.showLayersPanel(),this.setState({renamingNodeGuid:e}),t?.parentGuid&&D.hq(t.parentGuid)},this.stopRenamingNode=(e,t,n)=>{if(this.props.isReadOnly)return;let a=this.state.renamingNodeGuid;if(a&&e){let e=s.q.instance.get(a),l=t||"",r=i.Ez5.uiState().focusModeState.getCopy();e?.isResponsiveSet||e?.isResponsiveNode?(l||=e?.name,o.l7.user("set-node-name",()=>D.i(a,l))):i.xc1.RESPONSIVE_SET===r||i.xc1.COMPONENT_SET===r?o.l7.user("set-node-name",()=>D.BH(l)):o.l7.user("set-node-name",()=>D.i(a,l)),L.Y5.commit(),A.wt.reportEditActionIf(l!==n,"rename-node")}this.setState({renamingNodeGuid:null})},this.clampValidHeight=e=>{let t=this.scrollContainerInnerRef.current?.getBoundingClientRect().top??175,n=1.5*oR+(this.props.isUI3?40+oF:0);return Math.max(1.5*oM,Math.min(e,this.state.cachedInnerHeight-t-n))},this.onWindowSize=e=>{this.windowResizeHandler()},this.windowResizeHandler=(0,p.s)(()=>{this.setState({cachedInnerHeight:window.innerHeight})},45),this.toggleViewMode=()=>{this.setState({viewMode:this.state.viewMode===nW.Bk.Grid?nW.Bk.List:nW.Bk.Grid})},this.setUpsellHeight=e=>{this.setState({upsellHeight:e})},this.setShowAllPages=e=>{let t=this.computedHeight(),n=this.getPagesInfo(e),a=this.heightForPages(n.pages.length,!!n.showAllButton),l=e?Math.max(t,a):Math.min(t,a);this.setState({devHandoffShowAllPages:e,height:l})},this.getPagesInfo=e=>{let{pagesList:t}=this.props;if(!this.props.isDevHandoff||this.props.disableCollapsing)return{pages:t};let n=!1,l=t.filter(e=>{let t=i.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(n=!0),t||e.nodeId===this.props.currentPageGuid});return n&&l.length!==t.length?e?{pages:t,showAllButton:a.createElement(w.d,{label:(0,N.t)("dev_handoff.pages.hide_other"),onClick:()=>this.setShowAllPages(!1)})}:{pages:l,showAllButton:a.createElement(w.d,{label:(0,N.t)("dev_handoff.pages.show_all"),onClick:()=>this.setShowAllPages(!0)})}:{pages:t}},this.openCanvasSearch=()=>{(0,I._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.props.tabActions.showLayersPanel(),L.Y5.triggerAction("canvas-search",{source:"toolbar"})},this.state={renamingNodeGuid:null,needsScrollLine:!1,height:null,cachedInnerHeight:window.innerHeight,isPagesOpen:this.props.isUI3&&!this.props.isDevHandoff,isLayersOpen:!this.props.isUI3,pagesListInitialScrollTop:null,viewMode:nW.Bk.Grid,upsellHeight:0,devHandoffShowAllPages:!1,webpagesListHeight:null,dakotaViewHeight:null}}componentDidMount(){super.componentDidMount(),L.Y5.fromFullscreen.on("startRenamingNode",this.onFullscreenStartRenamingNode),window.addEventListener("resize",this.onWindowSize),null!=this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid),this.props.openFile&&this.initializePagesPanelSettings(this.props.openFile.key),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0})}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.onWindowSize),L.Y5.fromFullscreen.removeListener("startRenamingNode",this.onFullscreenStartRenamingNode)}UNSAFE_componentWillUpdate(e,t){e.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.scrollContainerRef.current&&this.setState({pagesListInitialScrollTop:this.positionOfPageInList(e.renamingPageId)-oM/2}),this.shouldScrollToPage&&this.scrollContainerRef.current&&this.scrollViewToPage(this.shouldScrollToPage)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.isUI3!==this.props.isUI3&&this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff}),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0}),e.currentPageGuid!==this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid);let n=e.activeTab!==this.props.activeTab&&this.props.activeTab===i.xae.ASSETS,a=t.viewMode!==this.state.viewMode;if(n||a){let e=(0,_.TQ)(),t=this.props.showRedesignedAssetsPanel?lh.Pv:(0,nW.RN)(this.state.viewMode);if(this.props.showRedesignedAssetsPanel&&e)try{let n=e.getItem(lh.Zi);if(n){let e=JSON.parse(n);(e===lh.$H.LIST||e===lh.$H.GRID)&&(t=e)}}catch{}(0,u.sx)("Component Sidebar Viewed",{viewMode:t,assetsPanelVersion:this.props.showRedesignedAssetsPanel?3:2,fileKey:this.props.openFile?.key,fileTeamId:this.props.openFile?.teamId??void 0,fileOrgId:this.props.openFile?.parentOrgId??void 0})}if(this.scrollContainerRef.current&&this.setNeedsScrollLine(this.scrollContainerRef.current.getScrollTop()),this.props.openFile){e.openFile?.key!==this.props.openFile.key&&this.initializePagesPanelSettings(this.props.openFile.key);let n=t.isPagesOpen!==this.state.isPagesOpen,a=this.state.height&&t.height!==this.state.height,l=this.state.devHandoffShowAllPages!==t.devHandoffShowAllPages;e.openFile?.key===this.props.openFile.key&&(n||a||l)&&this.updateLocalStorageSettings(this.props.openFile.key,this.state.height,this.state.isPagesOpen,this.state.devHandoffShowAllPages)}null!==this.props.isPagesOpenOverride&&this.props.isPagesOpenOverride!==e.isPagesOpenOverride&&(g.zl.set(or.aN,null),this.setState({isPagesOpen:this.props.isPagesOpenOverride})),null!==this.props.isLayersOpenOverride&&this.props.isLayersOpenOverride!==e.isLayersOpenOverride&&this.setState({isLayersOpen:this.props.isLayersOpenOverride}),this.props.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.props.isReadOnly&&(this.forcePagesExpanded(),this.scrollViewToPage(this.props.renamingPageId))}heightForPages(e,t){let n=e*oM;n=Math.ceil(n/oM)*oM+this.state.upsellHeight+(this.props.isUI3?8:oM/2),t&&(n+=oM);let a=this.props.isDevHandoff?144:40;return Math.min(n,Math.round(.25*(this.state.cachedInnerHeight-(0,E.bG)()-(0,m.hG)(nF.MGP)-a)))}defaultHeight(e){if(e){let e=this.props.publishableCanvasId?(0,i9.Vl)(s.q.instance.get(this.props.publishableCanvasId)):[];return this.heightForPages(e.length,!1)}let{pages:t,showAllButton:n}=this.getPagesInfo(this.state.devHandoffShowAllPages);return this.heightForPages(t.length,!!n)}async initializePagesPanelSettings(e){let t=await this.getLocalStorageSettings(e);(0,l.flushSync)(()=>{t?this.setState({height:t.height,isPagesOpen:t.isOpen,devHandoffShowAllPages:t.devHandoffShowAllPages}):this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff})})}indexOfPageInList(e){return this.props.pagesList.findIndex(t=>t.nodeId===e)}positionOfPageInList(e){let t=this.indexOfPageInList(e);return -1!==t?t*oM:0}renderAssetPanelUi2(){return a.createElement(a7,{recordingKey:"componentsSidebar",viewMode:this.state.viewMode,toggleViewMode:this.toggleViewMode,containerSizingOptions:{containerWidth:this.props.width,maxSmallThumbSize:40,maxWideColWidth:300}})}renderAssetPanelUi3(){return a.createElement(v.tH,{boundaryKey:"AssetPanelUI3",fallback:a.createElement(i2,null)},a.createElement(i$,{width:this.props.width}))}computedHeight(){return this.state.height?this.clampValidHeight(this.state.height):this.defaultHeight()}renderPagesList(e){if(!this.props.pagesList)return null;let{pages:t,showAllButton:n}=this.getPagesInfo(this.state.devHandoffShowAllPages);return a.createElement(y.V,null,a.createElement(i5.wV,{size:this.computedHeight(),defaultSize:this.defaultHeight(),onResize:e=>{this.setState({height:e}),D.Uc("")},side:"bottom",className:e?ov.aY:ov.l$},a.createElement(b.P,{scrollBarAlways:!1,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,className:ov.jG,width:this.props.width,onScroll:this.setNeedsScrollLine,initialScrollTop:this.state.pagesListInitialScrollTop||void 0},a.createElement(ol.bU,{pages:t,scrollContainer:this.scrollContainerRef.current??void 0,shouldHighlightActivePage:!this.props.isDevHandoffOverview,isComparingChanges:this.props.isComparingChanges,pageToNumChanges:this.props.pageToNumChanges,isReadOnly:this.props.isReadOnly,onContextMenu:this.props.onPageContextMenu}),n&&a.createElement("div",{className:ov.Gr},n),a.createElement(oa,{setUpsellHeightCallback:this.setUpsellHeight}))))}render(){let e=this.props.openFile?this.props.activeTab:i.xae.LAYERS,t=this.props.openFile,n=this.props.isLoadingPage,l=this.props.isUI3,r=e===i.xae.LAYERS||this.props.isReadOnly,o=e===i.xae.CODE,c=(0,i6.Vj)(this.props.selectedView),u=(0,V.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,m=(0,oe.P)(this.props.selectedView),p=this.state.isPagesOpen,f=!c&&r&&(!!l||p),g=c&&(r||o),h=(r||o)&&!this.props.isDevHandoff&&!this.props.isDevHandoffOverview,_=this.state.isPagesOpen&&this.props.activeTab===i.xae.LAYERS?oD.A:oO.A,E=this.props.pagesList.some(e=>e.pageType!==this.props.pagesList[0].pageType),y=i.AWq.getChunkChangeCount(),v=this.state.renamingNodeGuid;if(c&&this.props.isSitesWebpagesOpen){let e=s.q.instance.get(this.state.renamingNodeGuid||"");e?.isResponsiveSet&&(v=null)}return a.createElement("div",{className:d()(ov.N1,{pagesPanel:!n,[ov.$U]:!this.props.isShowingSlidesCarousel&&!this.props.ignoreVerticalFlex,[ov.NM]:this.props.isShowingSlidesCarousel})},this.props.isUI3?a.createElement(a.Fragment,null,a.createElement(T.$,null),this.props.showTabs&&!u&&a.createElement(oP,{recordingKey:this.props.recordingKey,activeTab:e,onCanvasSearch:this.openCanvasSearch})):a.createElement(a.Fragment,null,u?a.createElement(oc,{togglePagesExpanded:this.togglePagesExpanded,onPageContextMenu:this.onContextClick,currentPageName:this.props.currentPageName,currentPageGuid:this.props.currentPageGuid,pageTabChevron:_,isOverview:this.props.isDevHandoffOverview}):a.createElement(ob,{recordingKey:this.props.recordingKey,showTabs:this.props.showTabs,activeTab:e,pageTabChevron:_,isComparingChanges:this.props.isComparingChanges,currentPageName:this.props.currentPageName,onCanvasSearch:this.openCanvasSearch,onTogglePages:e===i.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onPageContextMenu:this.onContextClick}),e===i.xae.LAYERS&&a.createElement(T.$,null)),this.props.isComparingChanges&&r&&a.createElement(a.Fragment,null,this.props.versionHistory.compareId&&a.createElement(er.ZI,{compareId:this.props.versionHistory.compareId,versions:this.props.versionHistory.versions}),y>0&&a.createElement(oo.y,{withBorder:!0},a.createElement(el,null))),t&&a.createElement(G.QU,{fileKey:t.key,toggleManageMemoryModal:this.props.toggleManageMemoryModal,closeManageMemoryModal:this.props.closeManageMemoryModal}),g&&a.createElement(i7.j8,{scrollContainerRef:this.scrollContainerRef,width:this.props.width,height:this.state.webpagesListHeight,defaultHeight:this.defaultHeight(!0),onResize:e=>{this.setState({webpagesListHeight:e}),D.Uc("")},currentPageGuid:this.props.currentPageGuid,isComparingChanges:this.props.isComparingChanges,needsScrollLine:this.state.needsScrollLine,renamingNodeGuid:this.state.renamingNodeGuid,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode}),f&&a.createElement("div",{onClick:e=>e.stopPropagation(),role:"none"},a.createElement("div",{className:ov.Ed},l?a.createElement(oT,{isReadOnly:this.props.isReadOnly,onTogglePages:this.togglePagesExpanded,hasScrollLine:this.state.needsScrollLine,recordingKey:this.props.recordingKey,hasMultiplePageTypes:E,isPagesOpen:this.state.isPagesOpen,currentPageName:this.props.currentPageName,isComparingChanges:this.props.isComparingChanges,onCanvasSearch:this.openCanvasSearch,onPageContextMenu:u?this.onContextClick:C.jo}):a.createElement(op,{isReadOnly:this.props.isReadOnly,onTogglePages:this.togglePagesExpanded,hasScrollLine:this.state.needsScrollLine,recordingKey:this.props.recordingKey}),p&&this.renderPagesList(n))),h&&a.createElement("div",{className:ov.LZ},l?!m&&a.createElement(oC,{isReadOnly:this.props.isReadOnly,isLayersOpen:this.state.isLayersOpen,onToggleLayers:this.toggleLayersExpanded,currentPageGuid:this.props.currentPageGuid,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:v,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode,faviconGuid:this.props.faviconGuid,socialImageGuids:this.props.socialImageGuids,versionHistory:this.props.versionHistory,recordingKey:this.props.recordingKey}):a.createElement(i3.X,{hasPending:this.props.isLoadingPage,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:this.state.renamingNodeGuid,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,thumbnailGuid:this.props.openFile?.thumbnailGuid||null,versionHistory:this.props.versionHistory})),e===i.xae.KITS_SITES&&a.createElement(i7.oT,null),e===i.xae.DAKOTA&&a.createElement("div",{className:ov.Ed},a.createElement(k.Wr,{width:this.props.width,height:this.state.dakotaViewHeight,defaultHeight:96,onResize:e=>{this.setState({dakotaViewHeight:e})}})),e===i.xae.ASSETS&&!this.props.isReadOnly&&a.createElement(a.Fragment,null,this.props.showRedesignedAssetsPanel?this.renderAssetPanelUi3():this.renderAssetPanelUi2()))}}function oK({width:e,isReadOnly:t,pagesList:n,activeTab:l,showTabs:o,hasTeamLibraryUpdates:s,isDevHandoff:c,isShowingSlidesCarousel:d,isDevHandoffOverview:m,onPageContextMenu:p,disableCollapsing:f,isComparingChanges:h,pageToNumChanges:_,recordingKey:E,ignoreVerticalFlex:y}){let v=(0,z.J2)((0,O.UK)().showGuids),b=(0,r.wA)(),w=(0,F._Z)(),N=(0,g.md)(or.aN),x=(0,S.GS)(),k=(0,tL.M)()&&x,I=(0,z.J2)(i.Ez5.editorState().selectionEmpty),T=(0,U.iZ)(),C=(0,a9.lV)(),A=(0,B.q5)(),P=(0,r.d4)(e=>e.versionHistory),D=(0,K._6)(),V=(0,r.d4)(e=>e.fileVersion),G=(0,r.d4)(e=>e.teams),j=(0,r.d4)(e=>e.loadingState),q=(0,r.d4)(e=>e.modalShown),Q=(0,H.Fk)(e=>e.getCurrentPage()?.responsiveSetSettings?.faviconID),J=(0,H.Fk)(e=>[e.getCurrentPage()?.responsiveSetSettings?.socialImageID,...e.getCurrentPage()?.childrenNodes.map(e=>"RESPONSIVE_SET"===e.type&&e.responsiveSetSettings?.socialImageID)||[]].filter(e=>"string"==typeof e).join(",")),Z=(0,R.Um)(),$=(0,M.dh)(),ee=(0,M.nn)(),et=(0,i8.OT)(),en=(0,g.md)(i4.h0),[ea]=(0,g.fp)(or.l7),el=(0,oi.U)(),{toggleManageMemoryModal:er,closeManageMemoryModal:ei}=function({sidebarWidth:e}){let t=(0,r.d4)(e=>e.modalShown?.type===X.gG.type),n=(0,r.wA)(),l=(0,a.useCallback)(()=>{let a=(0,Y.P3)();(0,u.sx)("toggle_manage_memory_modal",{memoryUsedPercent:a,totalLayers:i.CeL?.getFileNodeCount(),pageContentPct:a-(0,Y.Zz)()}),t?n(W.Ce()):n(W.to({type:X.gG,data:{sidePanelWidth:e,markModalClosed:()=>{}}}))},[n,t,e]),o=(0,a.useCallback)(()=>{t&&n(W.Ce())},[n,t]),s=(0,z.J2)(i.Ez5.uiState().isRecovery),c=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{!s||t||c.current||(c.current=!0,l(),i.Ez5?.uiState().showMemoryUsage.set(!0))},[s,t,l]),{toggleManageMemoryModal:l,closeManageMemoryModal:o}}({sidebarWidth:e});(0,oL.U)();let[eo,es]=a.useState(!1);return a.useEffect(()=>{x&&!I&&es(!0)},[I,x]),a.createElement(oB,{versionHistory:P,user:T,width:e,isReadOnly:t,currentPageGuid:$,currentPageName:ee,pagesList:n,activeTab:l,showTabs:o,faviconGuid:Q,socialImageGuids:J,hasTeamLibraryUpdates:s,isDevHandoff:c,isDevHandoffOverview:m,disableCollapsing:f,isComparingChanges:h,isShowingSlidesCarousel:d,pageToNumChanges:_,openFile:A,selectedView:D,fileVersion:V,teams:G,loadingState:j,modalShown:q,dropdownShown:Z,recordingKey:E,shouldShowGuids:v,dispatch:b,isLoadingPage:w.isLoading,isPagesOpenOverride:N,isLayersOpenOverride:eo,isUI3:x,toggleIsCollapsed:()=>L.Y5.triggerAction("toggle-sidebar",{source:"pages-panel"}),showRedesignedAssetsPanel:k,markAssetPanelLoadingStart:C,publishableCanvasId:et,isSitesWebpagesOpen:en,onPageContextMenu:p,renamingPageId:ea,ignoreVerticalFlex:y,tabActions:el,toggleManageMemoryModal:er,closeManageMemoryModal:ei})}oB.displayName="PagesPanelView"},652649:(e,t,n)=>{n.d(t,{g:()=>i});var a=n(411855),l=n(96796),r=n(463420);function i(e){return a.createElement("div",{className:"pages_panel_chevron--chevron--3E6os","data-show-on-hover":!0},e.isExpanded?a.createElement(l.O,null):a.createElement(r.k,null))}},900878:(e,t,n)=>{n.d(t,{E:()=>o,P:()=>s});var a=n(587670),l=n(574724);function r(e,t){let n={},l=e.getVariableConsumptionMap();if(Object.keys(l).length>0)for(let[r,o]of Object.entries(l))if(o?.isMixed||o?.type!==a.Z_n.ALIAS){if(!o?.isMixed&&o?.type===a.Z_n.EXPRESSION)for(let l of function e(t){let n=[];for(let l of t.value.expressionArguments)l.type===a.Z_n.ALIAS?n.push(l.value):l.type===a.Z_n.EXPRESSION&&n.push(...e(l));return n}(o))i(l,r,e,t,n)}else{let a=o?.value;n[a]||i(a,r,e,t,n)}for(let a of e.childrenNodes)Object.assign(n,r(a,t));return n}function i(e,t,n,a,l){if(!l[e]){l[e]={nodesUsed:{}};let t=a.get(e)?.name;t&&(l[e].name=t);let n=a.get(e)?.description;n&&(l[e].description=n);let r=a.get(e)?.resolvedType;r&&(l[e].resolvedType=r)}return l[e].nodesUsed[n.guid]||(l[e].nodesUsed[n.guid]={nodeName:n.name,fields:[]}),l[e].nodesUsed[n.guid].fields.push(t),l}function o(e,t,n=new Map){let a=function(e,t=new Map,n=!1){if(n)return r(e.getRoot(),t);let a=e.getCurrentPage();return null===a?{}:r(a,t)}(e,t);if(n.size>0)for(let[e,t]of n)a[e]||(a[e]={nodesUsed:{}},a[e].name=t.name,a[e].description=t.description,a[e].resolvedType=t.resolvedType,a[e].priority="LOW");return function(e){let t="";for(let[n,a]of Object.entries(e)){if(t+=`${n} has name "${a.name}", resolvedType "${a.resolvedType}"`,a.description&&(t+=`, description "${a.description.slice(0,100)}"`),a.priority?t+=`, priority "${a.priority}"`:t+=', priority "NORMAL"',Object.keys(a.nodesUsed).length>0)for(let[e,{nodeName:n,fields:l}]of(t+=", and is used in ",Object.entries(a.nodesUsed)))t+=`node ${n} with fields ${l.join(", ")}`;t+="\n"}return t}(a)}async function s(e,t,n=.5){let a=[];for(let[t,n]of e)n.description?a.push(`${n.name}: ${n.description}`):a.push(n.name);let r=(await l.Ay.openai.computeEmbeddings({model:"text-embedding-3-small",input:[t,...a],use_cache:!0})).data.map(e=>e.embedding),i=r[0],o=new Map,c=Array.from(e);for(let e=1;e<r.length;e++)if(function(e,t){return e.reduce((e,n,a)=>e+n*t[a],0)/(Math.sqrt(e.reduce((e,t)=>e+t*t,0))*Math.sqrt(t.reduce((e,t)=>e+t*t,0)))}(i,r[e])>n){let[t,n]=c[e-1];o.set(t,n)}return o}},511787:(e,t,n)=>{n.d(t,{f:()=>g});var a=n(411855),l=n(153234),r=n(572206),i=n(268537),o=n(163023),s=n(318812),c=n(298543),d=n(983092),u=n(820396),m=n(1715),p=n(590685),f=n(501191);function g({resolvedTypes:e,recordingKey:t}){let{showing:n,toggle:i,hide:u}=(0,s.BK)("expression-builder-create-variable"),m=a.useRef(null),g=l.rf(l.Pt(t,"createVariableDropdown"),"click",a.useCallback(()=>{1===e.length?v(e[0]):i()},[e,i])),[_,E]=a.useState(!1),y=a.useRef(null),v=e=>{let t=m.current?.getBoundingClientRect();t&&(y.current={initialPosition:new r.Mi(t.left,t.top),resolvedType:e},E(!0))},b=()=>{E(!1)};return a.createElement(a.Fragment,null,a.createElement("button",{ref:m,className:p.ZS,onClick:g},a.createElement(o.B,{svg:f.A})),_&&(_&&y.current?a.createElement(d.IU,{initialPosition:y.current.initialPosition,resolvedType:y.current.resolvedType,onCreateVariable:b,onClose:b}):null),n&&m.current&&a.createElement(c.Cf,{arrowOffsetFromRectLeft:14,leanPadding:0,lean:"right",targetRect:m.current.getBoundingClientRect()},e.map(e=>a.createElement(h,{key:e,resolvedType:e,onClose:u,showCreationModal:v,recordingKey:t}))))}function h({resolvedType:e,onClose:t,showCreationModal:n,recordingKey:r}){let o=(0,m.F)(e),s=l.rf(l.Pt(r,"createVariableOption",o.name),"click",a.useCallback(()=>{n(e),t()},[t,e,n]));return a.createElement(i.c$,{className:p.Fs,onClick:s},a.createElement(u.i,{type:e,showTooltip:!1}),o.name)}},415052:(e,t,n)=>{let a;n.d(t,{E:()=>af});var l=n(411855),r=n(188507),i=n(343887),o=n(723215),s=n(536825),c=n(631437),d=n(587670),u=n(86625),m=n(534611),p=n(629019),f=n.n(p),g=n(866206),h=n(91408),_=n(966712),E=n(374626),y=n(529004),v=n(860601),b=n(153234),w=n(572206),N=n(355819),x=n(46481),k=n(939863),I=n(259927),T=n(226055),C=n(356390),S=n(541524),A=n(848661),P=n(457630),L=n(29680),O=n(335682),D=n(94500),M=n(945020),R=n(498606),F=n(233890),B=n(7959),K=n(611407),U=n(392592),z=n(934533),H=n(239349),V=n(178462),G=n(771941),W=n(869156),Y=n(601607),X=n(113468),j=n(38340),q=n(456795),Q=n(900878);function J(){let[e,t]=l.useState(""),n=function(){let e=(0,r.wA)(),t=(0,Y.Fk)(e=>e),n=(0,r.d4)(e=>e.mirror.appModel.currentPage),{selectedInteractions:a}=(0,j.Ay)(X.J.NORMAL),i=(0,W.Rb)(),o=l.useCallback((e,t)=>{let{interactions:n,errorMessage:l}=function(e,t,n){let a=function e(t){var n,a;switch(t.type){case"Navigate to":return n=t.target,{connectionType:"INTERNAL_NODE",navigationType:"NAVIGATE",transitionNodeID:m.sH(n)};case"Back":return{connectionType:"BACK"};case"Open Overlay":return a=t.target,{connectionType:"INTERNAL_NODE",navigationType:"OVERLAY",transitionNodeID:m.sH(a)};case"Close Overlay":return{connectionType:"CLOSE"};case"Set Variable":let l=t.expression.join(" ");return function(e,t){let n;try{n=(0,V.q)(t,new G.o)}catch(e){return console.error("Failed to parse expression string in set variable action: ",t),null}return{connectionType:"SET_VARIABLE",targetVariable:{id:e},targetVariableData:n}}(t.target,l);case"Conditional":return function({guardExpression:t,thenAction:n,elseAction:a}){let l=t.join(" ");if(a)try{return{connectionType:"CONDITIONAL",conditionalActions:[{condition:(0,V.q)(l,new G.o),actions:[e(n)]},{actions:[e(a)]}]}}catch(e){return console.error("Failed to parse guard expression string in conditional action: ",l),null}try{return{connectionType:"CONDITIONAL",conditionalActions:[{condition:(0,V.q)(l,new G.o),actions:[e(n)]}]}}catch(e){return console.error("Failed to parse guard expression string in conditional action: ",l),null}}(t)}}(e);if(!a)return{interactions:t,errorMessage:"Failed to get action"};for(let e of t){for(e.actions=e.actions||[];e.actions.length<=n;)e.actions.push({connectionType:"NONE"});e.actions[n]=a}return{interactions:t,errorMessage:""}}(e,a,t);return l||(C.Y5.updateSelectionProperties({prototypeInteractions:n}),null)},[a]);return l.useCallback(async l=>{try{if(!(0,_.kc)().prototype_ai_auto_adv_proto)return{generatedActions:[],errorMessage:"Feature flag not enabled"};let r=(0,H.Zl)(t,n);if(!r||!r.childrenGuids)return{generatedActions:[],errorMessage:"No page node found"};e(U.F.enqueue({message:"AI is generating interaction",type:"ai-generating-interaction",icon:z.zX.SPINNER}));let s=(0,q.dT)(r.childrenGuids,t,!1,["flatten_groups","remove_empty_nodes","remove_invisible_nodes","remove_long_or_generated_text","remove_nonstandard_node_types"]),c=(0,K.Lg)(s).join(", "),d=new Map(i.map(e=>[e.node_id,{name:e.name,description:e.description,resolvedType:e.resolvedType}])),u=await (0,Q.P)(d,l),m=(0,Q.E)(t,d,u),p=a[0]?.actions?.length===1&&"NONE"===a[0].actions[0].connectionType?0:a.length,f=await (0,q.h6)({userDescription:l,variablesUsed:m,canvasDescriptions:c},o,p);return e(U.F.dequeue({matchType:"ai-generating-interaction"})),f.errorMessage?e(U.F.enqueue({message:"AI had issue while generating interaction"})):e(U.F.enqueue({message:"AI has finished generating interaction"})),f}catch(t){return console.error(t),e(U.F.dequeue({matchType:"ai-generating-interaction"})),e(U.F.enqueue({message:"AI failed to generate interaction",type:"error"})),{generatedActions:[],errorMessage:t.toString()}}},[t,n,o,i,a,e])}();return l.createElement(B.ks,{placeholder:"Describe a new action",value:e,onChange:e=>t(e.currentTarget.value),onKeyDown:t=>{t.stopPropagation(),"Enter"===t.key&&(t.currentTarget.blur(),n(e))}})}var Z=n(83695),$=n(776250),ee=n(344780),et=n(320063),en=n(325682),ea=n(820286),el=n(175290),er=n(163023),ei=n(470504),eo=n(422237),es=n(503965);let ec=(0,eo.ex)("prototype_action_info",function(){return l.createElement("div",{className:ei.cx.flex.itemsCenter.justifyCenter.$},l.createElement(er.B,{className:"prototype_action_info_tooltip--prototypeDestinationInfoIcon--GeQWS",svg:es.A}),l.createElement("span",{className:ei.cx.flexGrow1.m6.$,style:{maxWidth:144}},(0,k.tx)("proto.prototype_panel.use_the_circular_node_to_connect_the_selected_object_to_another_frame_tooltip")))},()=>({unconstrainWidth:!0}));function ed(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5V11a1 1 0 0 0 1 1h4.5a.5.5 0 0 1 0 1H13a2 2 0 0 1-2-2V6.5a.5.5 0 0 1 .5-.5",clipRule:"evenodd"}))}var eu=n(522739),em=n(723081),ep=n(318812),ef=n(30637),eg=n(46878),eh=n(538697),e_=n(872429),eE=n(306535);class ey extends eh.c${}class ev extends eh.l6{}function eb({action:e}){return l.createElement("div",{className:"prototype_action_dropdown--prototypeActionIcon--qChhY"},l.createElement(x.U,{svg:(0,eg.Yb)(e)},(0,eg.av)(e)))}function ew(e){let t=`prototype-action-select-${e.recordingKey}`,n=e.dropdownShown&&e.dropdownShown.type===t,a=(0,A.E7)(e.action),i=(0,eg.Yb)(a),o=(0,eg.av)(a),s=(0,T.GS)(),c=new em.js(s),d=new em.Z6(s),u=n?c:d,m=!(0,r.d4)(e=>e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0),p=l.useCallback(e=>e-24,[]),g=l.useCallback(e=>e+24,[]),[h,_]=l.useState(void 0),E=l.createElement(eE.Q,{setMaxWidth:_,options:eN(e),formatOption:e=>e&&e.props.value?u.format(e.props.value):"",getIcon:()=>l.createElement(eb,{action:"NAVIGATE_TO"})}),y=f()({[e.className??""]:!0,"prototype_action_dropdown--select--b3Ssx":!s}),v=l.createElement(x.U,{svg:i},o);return l.createElement(l.Fragment,null,l.createElement(ev,{disabled:m,id:t,dataTestId:"action-select",className:y,chevronClassName:"prototype_action_dropdown--prototypeActionChevron--ZL1Q4",inputClassName:"prototype_action_dropdown--prototypeActionInputWithSvg--Atfua",property:e.action,formatter:u,onChange:e.onChange,dispatch:e.dispatch,dropdownShown:e.dropdownShown,icon:v,iconClassName:"prototype_action_dropdown--selectActionSvg--XfhUx",recordingKey:b.Pt(e,"select"),hideDropdownWhenContainerMoves:!(0,ef.nl)(),dropdownAlignment:p,dropdownWidth:s?h:g},eN(e)),s&&E)}function eN(e){let t=(0,e_.cJ)(),n=l.createElement(ey,{key:"NONE",value:"NONE",icon:l.createElement(eb,{action:"NONE"}),recordingKey:b.Pt(e,"clear-option"),disabled:!1}),a=l.createElement(ey,{key:"NAVIGATE_TO",value:"NAVIGATE_TO",icon:l.createElement(eb,{action:"NAVIGATE_TO"}),recordingKey:b.Pt(e,"navigate-to-option"),disabled:!1}),r=l.createElement(ey,{key:"SWAP_STATE_TO",value:"SWAP_STATE_TO",icon:l.createElement(eb,{action:"SWAP_STATE_TO"}),recordingKey:b.Pt(e,"swap-state-to-option"),disabled:!d.glU.isSelectionContainedInStateOrStateInstance()}),i=l.createElement(ey,{key:"GO_BACK",value:"GO_BACK",icon:l.createElement(eb,{action:"GO_BACK"}),recordingKey:b.Pt(e,"back-option"),disabled:!1}),o=l.createElement(ey,{key:"SCROLL_TO",value:"SCROLL_TO",icon:l.createElement(eb,{action:"SCROLL_TO"}),recordingKey:b.Pt(e,"scroll-to-option"),disabled:!1}),s=l.createElement(ey,{key:"OPEN_URL",value:"OPEN_URL",icon:l.createElement(eb,{action:"OPEN_URL"}),recordingKey:b.Pt(e,"url-option"),disabled:!1}),c=l.createElement(ey,{key:"OPEN_OVERLAY",value:"OPEN_OVERLAY",icon:l.createElement(eb,{action:"OPEN_OVERLAY"}),recordingKey:b.Pt(e,"open-overlay-option"),disabled:!1}),u=l.createElement(ey,{key:"SWAP_WITH",value:"SWAP_WITH",icon:l.createElement(eb,{action:"SWAP_WITH"}),recordingKey:b.Pt(e,"swap-with-option"),disabled:!1}),m=l.createElement(ey,{key:"CLOSE_OVERLAY",value:"CLOSE_OVERLAY",icon:l.createElement(eb,{action:"CLOSE_OVERLAY"}),recordingKey:b.Pt(e,"close-option"),disabled:!1}),p=!t&&l.createElement(ey,{key:"SET_VARIABLE",value:"SET_VARIABLE",icon:l.createElement(eb,{action:"SET_VARIABLE"}),recordingKey:b.Pt(e,"set-variable"),disabled:!1}),f=!t&&(0,_.kc)().prototype_set_mode_action&&l.createElement(ey,{key:"SET_VARIABLE_MODE",value:"SET_VARIABLE_MODE",icon:l.createElement(eb,{action:"SET_VARIABLE_MODE"}),recordingKey:b.Pt(e,"set-variable-mode"),disabled:!1}),g=!t&&!e.isNestedInConditional&&l.createElement(ey,{key:"CONDITIONAL",value:"CONDITIONAL",icon:l.createElement(eb,{action:"CONDITIONAL"}),recordingKey:b.Pt(e,"conditional"),disabled:!1}),h=l.createElement(eh.sK,{key:"first-divider"}),E=l.createElement(eh.sK,{key:"second-divider"}),y=l.createElement(eh.sK,{key:"third-divider"}),v=(0,T.GS)()?[n,h,a,r,i,o,s,E,c,u,m,...t?[]:[y],p,f,g]:[n,h,a,r,i,E,p,f,g,o,s,y,c,u,m];if(e.showVideoActions){let t=[l.createElement(eh.sK,{key:"fourth-divider"}),l.createElement(ey,{key:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",value:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",icon:l.createElement(eb,{action:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS"}),recordingKey:b.Pt(e,"update-media-play-pause-options"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",value:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",icon:l.createElement(eb,{action:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS"}),recordingKey:b.Pt(e,"update-media-mute-unmute-options"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_SKIP_TO",value:"UPDATE_MEDIA_SKIP_TO",icon:l.createElement(eb,{action:"UPDATE_MEDIA_SKIP_TO"}),recordingKey:b.Pt(e,"update-media-skip_to"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_SKIP_BY_OPTIONS",value:"UPDATE_MEDIA_SKIP_BY_OPTIONS",icon:l.createElement(eb,{action:"UPDATE_MEDIA_SKIP_BY_OPTIONS"}),recordingKey:b.Pt(e,"update-media-skip-by-options"),disabled:!1})];v=v.concat(t)}return v.filter(Boolean)}var ex=n(634832),ek=n(983405),eI=n(773833),eT=n(736656),eC=n(533573),eS=n(712685),eA=n(843709);let eP="prototype_action_verbose_title--actionNameInsertion--aF4kI",eL="prototype_action_verbose_title--actionName--qWJL3",eO="prototype_action_verbose_title--actionNameUI3--JAYsG",eD=()=>{let e=(0,r.d4)(e=>e.mirror.sceneGraph);return l.useMemo(()=>new em.cP(e),[e])};function eM({action:e,isNestedInConditional:t,isNarrowPanel:n,onClick:a}){let r=(0,en.YT)()===en.Oz.TWO_COL,i=l.useContext(eT.c),o=r&&i===eT.P.LEFT,s=t||n,c=(0,W.u)((0,A.hS)(e.targetVariable)&&e.targetVariable&&"id"in e.targetVariable?e.targetVariable?.id:void 0),u=(0,A.hS)(e.targetVariable)&&e.targetVariable&&"nodeFieldAlias"in e.targetVariable?(0,eI.aA)(e.targetVariable.nodeFieldAlias.stablePathToNode,e.targetVariable.nodeFieldAlias.indexOrKey):void 0,p=c?.name??u?.name,g=eD(),h=new em.Z6((0,T.GS)()),_=(0,em._X)(e),E=(0,A.E7)(_),y=l.createElement(x.U,{svg:(0,eg.Yb)(E)},(0,eg.av)(E)),b=e=>{if(!e.connectionType||(0,A.gl)(e.connectionType))return null;let t=f()({[eL]:!0,[eO]:r}),n=f()({"prototype_action_verbose_title--actionDestination--JZ-gU":!0,"prototype_action_verbose_title--actionDestinationUI3--ZGxbq":r});switch(e.connectionType){case"NONE":case"SET_VARIABLE_MODE":return null;case"INTERNAL_NODE":case"BACK":case"CLOSE":case"UPDATE_MEDIA_RUNTIME":{let a=e.transitionNodeID;if((0,A.gl)(a))return l.createElement("div",{className:t},(0,k.t)("proto.variant_actions.mixed"));if(void 0===a)return null;let r=m.dI(a),i=g.format(r);return l.createElement("div",{className:n},i)}case"URL":{let a=e.connectionURL;if(!a)return null;if((0,A.gl)(a))return l.createElement("div",{className:t},(0,k.t)("proto.variant_actions.mixed"));return l.createElement("div",{className:n},a)}case"SET_VARIABLE":if(!e.targetVariableData||(0,A.gl)(e.targetVariableData))return null;return l.createElement("div",{className:"prototype_action_verbose_title--setVariablePreviewContainer--6omxy"},l.createElement(Z.y3,{targetVariableData:e.targetVariableData,onClick:v.lQ,showVariableThumbnails:!1,isNarrowPanel:s,isInConditional:!0}));case"CONDITIONAL":{if((0,A.gl)(e)||(0,A.gl)(e.conditionalActions)||!e.conditionalActions)return null;let t=e.conditionalActions.length>0?e.conditionalActions[0].condition:void 0;return l.createElement(Z.y3,{targetVariableData:t,onClick:v.lQ,isInConditional:!0,showVariableThumbnails:!1})}default:(0,ex.assertNever)(e.connectionType)}},w=f()({[eA.Li]:s&&!r,[eA.O8]:!s&&!r,[eA.kE]:r}),N=f()({"prototype_action_verbose_title--iconContainer--jqarD":!0,"prototype_action_verbose_title--iconContainerUI3--yBP0-":r});return l.createElement("div",{className:w,onClick:a,role:"button",tabIndex:0},l.createElement(ek.Y1,{horizontalAlignItems:"space-between",width:"fill-parent"},l.createElement("div",{className:N},y),(e=>{let t=E?h.format(E):"Undefined",n=f()({[eL]:!0,[eO]:r});if((0,A.gl)(e.connectionType)&&(t=(0,k.t)("fullscreen.mixed")),!e.connectionType||(0,A.gl)(e.connectionType)||"NONE"===e.connectionType||"BACK"===e.connectionType||"CLOSE"===e.connectionType)return l.createElement(l.Fragment,null,l.createElement("div",{className:n},t));var a=b(e);switch(e.connectionType){case"INTERNAL_NODE":if("SWAP_STATE"===e.navigationType)return l.createElement(l.Fragment,null,l.createElement("div",{className:n},(0,k.t)("proto.action_change_to")),a);if(a){if("OVERLAY"===e.navigationType)return l.createElement(l.Fragment,null,l.createElement("div",{className:eP},(0,k.tx)("proto.action_overlay_title",{overlayFrameName:l.createElement("span",null,a)})));if("SWAP"===e.navigationType)return l.createElement(l.Fragment,null,l.createElement("div",{className:n},(0,k.t)("proto.action_swap_overlay_title")),a)}return l.createElement(l.Fragment,null,l.createElement("div",{className:n},t),a);case"UPDATE_MEDIA_RUNTIME":return l.createElement(l.Fragment,null,l.createElement("div",{className:n},t),a);case"URL":return l.createElement(l.Fragment,null,l.createElement("div",{className:n},a?(0,k.t)("proto.action_url_title"):(0,k.t)("proto.action_open_link")),a);case"SET_VARIABLE":{let i=e.targetVariableData&&(0,A.hS)(e.targetVariableData)&&e.targetVariableData.resolvedType===d.rXF.COLOR,s=f()({"prototype_action_verbose_title--actionNameInsertionColor--isir- prototype_action_verbose_title--actionNameInsertion--aF4kI":!0,"prototype_action_verbose_title--actionNameInsertionColorUI3--Apj0i":r});if(p&&a)return l.createElement(l.Fragment,null,l.createElement("div",{className:i?s:eP},(0,k.tx)("proto.action_set_variable_title",{variableName:l.createElement("span",{className:"prototype_action_verbose_title--variableNameContainer--XeJX2"},l.createElement(eS.w,{text:p,isDeleted:!!c&&(0,eC.eF)(c),disableHover:o})),variableValue:l.createElement("span",{className:"prototype_action_verbose_title--variableDestinationContainer--RXbKo prototype_action_verbose_title--variableNameContainer--XeJX2"},a)})));return l.createElement(l.Fragment,null,l.createElement("div",{className:n},t))}case"SET_VARIABLE_MODE":return l.createElement(l.Fragment,null,l.createElement("div",{className:n},(0,k.t)("proto.action_set_variable_mode")));case"CONDITIONAL":return l.createElement(l.Fragment,null,l.createElement("div",{className:n},r?(0,k.t)("proto.if"):(0,k.t)("proto.action_conditional_title")),a);default:(0,ex.assertNever)(e.connectionType)}})(e)))}var eR=n(566418),eF=n(215122),eB=n(789529),eK=n.n(eB),eU=n(636149),ez=n.n(eU),eH=n(675551),eV=n.n(eH),eG=n(184058),eW=n.n(eG),eY=n(776621),eX=n(154483),ej=n(994481),eq=n(564092),eQ=n(896850);let eJ="prototype_set_variable_mode_controls--dropdownRow--vl5z4",eZ="missing";class e$ extends eh.l6{}class e0 extends eh.c${}class e1 extends eh.l6{}class e2 extends eh.c${}let e3={},e5=(0,eX.fv)();function e4(){let e=(0,W.h6)()||e3,t=(0,eq.iR)(),n=l.useMemo(()=>{let n=eV()(t,(e,t)=>({collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:e.modes?.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0}))||[],explicitMode:null,inheritMode:null,fileKey:e5(e)}));return eK()({},e,n)},[t,e]),a=l.useMemo(()=>Object.entries(n).map(([e,t])=>({setKey:e,modeData:t,isLocal:void 0===t.fileKey})),[n]),i=l.useMemo(()=>Object.values(a).filter(e=>e.modeData?.modeOptions&&e.modeData?.modeOptions.length>1),[a]),o=l.useMemo(()=>eW()(i.map(e=>e.modeData.fileKey??eQ.BH)),[i]),s=(0,W.el)(o),[c,u]=l.useMemo(()=>{let{_local:e,_unknownFile:t,...n}=ez()(i,e=>e.isLocal?"_local":e.modeData.fileKey&&void 0===s[e.modeData.fileKey]?"_unknownFile":e.modeData.fileKey),a=Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[{fileKey:e,fileName:s[e]},...t]).flat(1);return t&&(a.push({fileKey:eQ.BH,fileName:(0,k.t)("variables.mode_properties_panel.used_variables.subheading")}),a.push(...t)),[e??[],a]},[s,i]),m=(0,eq.d2)(),p=l.useCallback(e=>{let t=m[(0,eF.yG)(e)],n=i.find(t=>t.setKey===e);if(n)return(e=>{if(e)return void 0===t&&(t=e.modeData.modeOptions[0].modeId.guid),e.modeData.modeOptions.find(e=>e.modeId.guid!==t&&(t=e.modeId.guid,!0))?.modeId.guid})(n)},[m,i]),f=i.length>0?i[0]:void 0,g=f?.setKey,h=f?.modeData.collectionID,_=l.useMemo(()=>g&&p(g),[g,p]),E=(0,r.wA)();return{localVariableSets:c,allVariableSets:i,firstVariableSet:f,firstVariableSetID:h,firstVariableSetMode:_,getDefaultNewModeForVariableCollectionKey:p,reportAnalyticsEventWhenSelected:e=>{let t=d.mSn.getVariableSetInfoForSetModeAnalytics(e);E((0,D.Zh)({name:"prototype.set_mode_select_variable_set",params:{...t}}))},subscribedVariableSetsWithSections:u}}function e7({targetVariableSetID:e,targetVariableModeID:t,deprecatedTargetVariableSetKey:n,updateSelectionProperties:a,recordingKey:r,actionIndexPath:i}){let{getDefaultNewModeForVariableCollectionKey:o,allVariableSets:s,reportAnalyticsEventWhenSelected:c}=e4(),{shouldShowAdvancedPrototypingPaywall:d,showAdvancedPrototypingVariablesModal:u}=(0,en.zt)(),m=(0,T.GS)();l.useEffect(()=>{if(!n||(0,A.gl)(n))return;let e=s.find(e=>e.setKey===n);e?((0,eY.Lo)("SetVariableModeControls","updating variable set key to non-deprecated id value"),a({targetVariableSetKey:void 0,targetVariableSetID:e?.modeData.collectionID})):((0,eY.Lo)("SetVariableModeControls","attempted to update variable set key to non-deprecated id value, but could not find it in the list of variable sets, will just clear out the bad data."),a({targetVariableSetKey:void 0}))},[n,s,a]);let[p,f]=l.useMemo(()=>{let t=(0,A.gl)(e)||void 0===e?e:function(e,t){let n=e.find(e=>e.modeData.collectionID===t);if(n)return n;let a=eR.gr.toRefIfSubscribed(t);if(a)return e.find(e=>e.setKey===a.key)}(s,e)||eZ,n=(()=>{if(!(0,A.gl)(t)&&void 0!==t&&t!==eZ)return t})();return[t,n]},[e,s]),g=l.createElement(e9,{selectedVariableSet:p,onChange:e=>{d?u():(c(e.modeData.collectionID),a({targetVariableSetID:e.modeData.collectionID,targetVariableModeID:o(e.setKey)}))},actionIndexPath:i}),h=m?l.createElement(ej.cS,{input:g,label:(0,k.tx)("proto.set_variable_mode.collection_label")}):l.createElement(B.fI,{recordingKey:b.Pt(r,"selectTargetVariableSet")},g),_=l.createElement(tn,{selectedVariableSetKey:f&&f.setKey,selectedVariableModeID:t,onChange:e=>{d?u():a({targetVariableModeID:e})},actionIndexPath:i}),E=m?l.createElement(ej.cS,{input:_,label:(0,k.tx)("proto.set_variable_mode.mode_label")}):l.createElement(B.fI,{recordingKey:b.Pt(r,"selectTargetVariableMode")},_);return l.createElement("div",{className:m?void 0:ei.cx.relative.$},h,f&&E)}let e8={format:e=>void 0===e?(0,k.t)("proto.prototype_panel.edit_set_mode.none"):e===eZ?(0,k.t)("proto.prototype_panel.edit_set_mode.missing_collection"):e.modeData.collectionName,isEqual:(e,t)=>void 0!==e&&void 0!==t&&e!==eZ&&t!==eZ&&(e.setKey===t.setKey||e.modeData.collectionID===t.modeData.collectionID)};function e6(e,t){return"fileKey"in e?[t&&l.createElement(eh.sK,{key:e.fileKey+"divider"}),l.createElement(e0,{isHeader:!0,key:e.fileKey+"header",formattedValue:e.fileName})]:l.createElement(e0,{key:e.setKey,value:e})}function e9({selectedVariableSet:e,onChange:t,actionIndexPath:n}){let a=(0,r.wA)(),i=(0,ep.Um)(),o="set-variable-mode--select-variable-set-"+n,{localVariableSets:s,allVariableSets:c,subscribedVariableSetsWithSections:d}=e4();return l.createElement(e$,{id:o,className:eJ,property:e,formatter:e8,dispatch:a,dropdownShown:i?.type===o?i:null,onChange:e=>{(0,A.gl)(e)||void 0===e||e===eZ||t(e)}},c.length>0?[s.length>0&&l.createElement(e0,{key:b.Pt(o,"local_variables"),isHeader:!0,formattedValue:(0,k.t)("variables.mode_properties_panel.local_variables.subheading")}),...s.map(e=>e6(e,!1)),...d.map((e,t)=>e6(e,s.length>0||t>0))]:[])}let te={format:e=>void 0===e?(0,k.t)("proto.prototype_panel.edit_set_mode.none"):e===eZ?(0,k.t)("proto.prototype_panel.edit_set_mode.missing_mode"):e?.name??""};function tt(e){return l.createElement(e2,{key:e.modeId.guid,value:e})}function tn({selectedVariableSetKey:e,selectedVariableModeID:t,onChange:n,actionIndexPath:a}){let i=(0,r.wA)(),o=(0,ep.Um)(),s="set-variable-mode--select-variable-mode-"+a,{allVariableSets:c}=e4(),d=l.useMemo(()=>c.find(t=>t.setKey===e)?.modeData.modeOptions,[e,c]),u=l.useMemo(()=>(0,A.gl)(t)||void 0===t?t:d?.find(e=>e.modeId.guid===t)||eZ,[t,d]);return l.createElement(e1,{id:s,className:eJ,property:u,formatter:te,dispatch:i,dropdownShown:o?.type===s?o:null,onChange:e=>{!e||(0,A.gl)(e)||e===eZ||n(e.modeId.guid)}},d&&d?.map(tt))}var ta=n(939791),tl=n(794272),tr=n(32067),ti=n(109388),to=n(140686),ts=n(256296),tc=n(775664),td=n(279702),tu=n(420186),tm=n(218973),tp=n(750029),tf=n(78543),tg=n(205135),th=n(276660),t_=n(837746),tE=n(910392),ty=n(909666),tv=n(442458);let tb=tc.TI;function tw({children:e}){return(0,T.GS)()?l.createElement(ej.TN,null,e):l.createElement(B.fI,{className:"overlay_panel--fplCheckboxRow--EYTAZ checkbox--_checkboxRow--oEhow"},e)}function tN({interactionType:e,recordingKey:t,actionIndexPath:n,nodeId:a}){let[i,o]=l.useState(!1),[s,c]=l.useState(new w.Mi),p=(0,r.wA)(),f=(0,T.GS)(),g="{ "+n.join(", ")+" }",{destinationOverlayBackgroundColor:h,destinationOverlayBackgroundType:_,destinationOverlayPositionType:E,destinationOverlayBackgroundInteraction:y}=(0,tl.R)(e=>({destinationOverlayBackgroundColor:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[g]?.destinationOverlayBackgroundColor,destinationOverlayBackgroundType:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[g]?.destinationOverlayBackgroundType,destinationOverlayPositionType:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[g]?.destinationOverlayPositionType,destinationOverlayBackgroundInteraction:e.mirror.selectionProperties.actionIndexPathToOverlaySettings?.[g]?.destinationOverlayBackgroundInteraction})),v=l.useRef(),N=l.useRef(),x=l.useCallback(()=>{o(!1)},[o]),I=l.useCallback(()=>{if(i)x();else{o(!0);let e=f?ti.findDOMNode(N.current):ti.findDOMNode(v.current);c((0,tu.cn)(e))}},[i,x,f]),C=l.useCallback(e=>{let t=e?"SOLID_COLOR":"NONE";u.l7.user("overlay-background-type-edit-scope",()=>{d.X3B.setOverlayBackgroundType(m.dI(a),t)}),p((0,D._P)({name:"Overlay background visible changed",params:{backgroundType:t}}))},[p,a]),S=l.useCallback(e=>{let t=e?"CLOSE_ON_CLICK_OUTSIDE":"NONE";u.l7.user("overlay-background-interaction-edit-scope",()=>{d.X3B.setOverlayBackgroundInteraction(m.dI(a),t)}),p((0,D._P)({name:"Overlay background interaction changed",params:{backgroundInteraction:t}}))},[p,a]),P=l.useCallback(()=>(0,A._W)(h,{r:0,g:0,b:0,a:.25}),[h]),L=l.useCallback((e,t)=>{t!==td.zk.NO&&u.l7.user("overlay-background-color-edit-scope",()=>{d.X3B.setOverlayBackgroundColor(m.dI(a),e)})},[a]),O=l.useCallback((e,t)=>{L(e,td.zk.YES)},[L]),M=l.useCallback((e,t)=>{let n=P();L({r:n.r,g:n.g,b:n.b,a:e},t)},[P,L]),R=l.useCallback(e=>{u.l7.user("overlay-position-type-edit-scope",()=>{d.X3B.setOverlayPositionType(m.dI(a),e)}),p((0,D._P)({name:"Overlay position changed",params:{position:e}}))},[p,a]),F=P(),K=P().a,U=(0,A.E7)(E),z="CLOSE_ON_CLICK_OUTSIDE"===(0,A.E7)(y),H="SOLID_COLOR"===(0,A.E7)(_),V=l.createElement("div",{className:"overlay_panel--colorValueContainer--gJtb9 paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},l.createElement(tp.J,{onClick:H?I:()=>{},color:F,opacity:K,recordingKey:b.Pt(t,"chit"),className:"overlay_panel--chit--Zn66r paint_panels--chit--twQEy"}),l.createElement(tg.AN,{className:f?"overlay_panel--colorInputUI3--ozOrK paint_panels--colorInput--nSz13":"overlay_panel--colorInput--6yyym paint_panels--colorInput--nSz13",noLeftBorder:!0,formatter:tb,property:F,disabled:!H,onChange:O,recordingKey:b.Pt(t,"colorInput"),noBorderOnFocus:!0}),l.createElement(tm.Pd,{className:"overlay_panel--opacity--vrrjV paint_panels--opacityInputContainer--oqlsk",value:K,onValueChange:M,dispatch:p,disabled:!H,noBorderOnFocus:!0,recordingKey:b.Pt(t,"opacity")}));return l.createElement(B.Zk,{className:f?"overlay_panel--overlayPanelUI3--GLqgD":"overlay_panel--overlayPanel--l-Hts"},!f&&l.createElement(B.fI,null,l.createElement(B.xw,{faded:!0,className:"overlay_panel--overlayPanelTitle--e9pjs"},(0,k.tx)("proto.overlay_settings"))),l.createElement(tA,{overlayPositionType:U,onOverlayPositionTypeChange:R,recordingKey:t}),!("ON_HOVER"===e||"ON_PRESS"===e)&&l.createElement(tw,null,l.createElement(to.S,{label:l.createElement(ts.J,null,(0,k.tx)("proto.close_when_clicking_outside")),recordingKey:b.Pt(t,"closeOnClickOutside"),onChange:S,checked:z})),l.createElement(tw,null,l.createElement(to.S,{label:l.createElement(ts.J,null,f?(0,k.tx)("proto.overlay_panel.background"):(0,k.tx)("proto.add_background")),recordingKey:b.Pt(t,"addBackgroundBehindOverlay"),onChange:C,checked:H})),H&&(f?l.createElement(ej.cS,{ref:N,label:(0,k.tx)("proto.overlay_panel.background"),input:V}):l.createElement(B.fI,{ref:v}," ",V," ")),i&&l.createElement(tf.sk,{disabledVariableIds:new Set,title:(0,k.t)("proto.background"),initialPosition:s,color:F,boundVariable:null,onChange:L,onClose:x,recordingKey:b.Pt(t,"colorPicker")}))}class tx extends eh.l6{}class tk extends eh.c${}class tI extends l.PureComponent{constructor(){super(...arguments),this.titleFormatter=new em.Cr,this.renderOverlayPositionOption=(e,t)=>l.createElement(tk,{key:t,value:e,recordingKey:b.Pt(this.props,e)})}render(){let e=["CENTER","TOP_LEFT","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"].map(this.renderOverlayPositionOption);return l.createElement(tx,{id:this.props.recordingKey??"overlay-position_select",className:this.props.className,chevronClassName:"overlay_panel--chevron--7RTA-",inputClassName:"overlay_panel--input--tGHHB",dropdownWidth:t_.DxS,property:this.props.property,formatter:this.titleFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:b.Pt(this.props,"select")},e,l.createElement(eh.sK,null),this.renderOverlayPositionOption("MANUAL",10))}}tI.displayName="OverlayPositionDropdown";class tT extends th.I{}class tC extends th.Y{}class tS extends l.PureComponent{render(){return l.createElement(tT,{className:this.props.className,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},l.createElement(tC,{value:"CENTER",tooltip:(0,k.t)("proto.tooltip_overlay_position_center"),svg:ty.A,recordingKey:b.Pt(this.props,"center")}),l.createElement(tC,{value:"TOP_LEFT",tooltip:(0,k.t)("proto.tooltip_overlay_position_top_left"),svg:tv.A,recordingKey:b.Pt(this.props,"top-left")}),l.createElement(tC,{value:"BOTTOM_CENTER",tooltip:(0,k.t)("proto.tooltip_overlay_position_bottom_center"),svg:tE.A,recordingKey:b.Pt(this.props,"bottom-center")}))}}function tA({overlayPositionType:e,onOverlayPositionTypeChange:t,recordingKey:n}){let a=(0,T.GS)(),i=(0,r.wA)(),o=(0,ep.Um)(),s=l.createElement(tI,{className:"overlay_panel--overlayPositionDropdown--ZxxSI",property:e,dispatch:i,dropdownShown:o,onChange:t,recordingKey:b.Pt(n,"overlayPositionDropdown")}),c=l.createElement(tS,{property:e,onChange:t,recordingKey:b.Pt(n,"overlayPositionControl"),className:"overlay_panel--overlayPositionControl--SWngJ"});return a?l.createElement(ej.cS,{label:(0,k.tx)("proto.overlay_panel.position"),input:s}):l.createElement(B.fI,null,s,c)}var tP=n(171447),tL=n(301036),tO=n(615777),tD=n(636540),tM=n(757696),tR=n(927457),tF=n(112976),tB=n(728587),tK=n(501191);function tU(e){let t=`interaction-panel-create-action-${e.recordingKey}`;var{showing:n,toggle:a,hide:i}=(0,ep.BK)(t);let o=(0,l.useRef)(null),{recordingKey:s,addButtonPressed:c}=e,{shouldShowAdvancedPrototypingPaywall:d,showAdvancedPrototypinglMultipleActionsModal:u}=(0,en.zt)(),m=(0,l.useCallback)(()=>{!e.skipPaywall&&d?u():a()},[e.skipPaywall,d,u,a]),p=b.rf(b.Pt(s,"createActionDropdown"),"click",m),g=(0,en.YT)()===en.Oz.TWO_COL,h=(0,en.SJ)(),_=(0,en.qv)(h,e.isNestedInConditional),E=(0,r.wA)(),y=(0,T.GS)(),v=(0,l.useCallback)(e=>{c((0,en.Bs)(e)),i()},[c,i]),w=f()({[eA.x1]:e.renderButton,[eA.xm]:!e.renderButton&&!g,[eA.U3]:!e.renderButton&&g}),N=_.map(e=>{if((0,en.vc)(e))return tF.w;if(!(0,en.Rn)(e))return tz({clickCb:v,recordingKey:s,actionType:e,isUI3:y});{let t=(0,en.lA)(e).map(e=>tz({clickCb:v,recordingKey:s,actionType:e,isUI3:y})),n=e===en.Jx.OVERLAY?l.createElement(tO.x,null):e===en.Jx.LOGIC?l.createElement(tD.$,null):l.createElement(tM.k,null);return{displayText:(0,en.wt)(e),icon:n,children:t,className:eA.BP}}});return l.createElement(l.Fragment,null,l.createElement("button",{ref:o,className:w,onClick:p,"aria-label":(0,k.t)("proto.prototype_panel.create_action_button"),"data-tooltip-type":R.Ib.TEXT,"data-tooltip":e.isNestedInConditional?(0,k.t)("proto.prototype_panel.add_nested_action"):(0,k.t)("proto.prototype_panel.add")},e.renderButton?l.createElement(x.U,{svg:tK.A},l.createElement(tR.e,null)):(0,k.tx)("fullscreen.properties_panel.click_plus_to_add_new_action")),n&&o.current&&l.createElement(tB.j,{minWidth:130,lean:"center",parentRect:o.current.getBoundingClientRect(),hidePointWhenContentOffScreen:!0,showPoint:!0,items:N,dispatch:E,onSelectItem:e=>e.callback?.(),recordingKey:"actionDropdown"}))}function tz({actionType:e,clickCb:t,recordingKey:n,isUI3:a}){let r=(0,eg.Yb)(e),i=(0,eg.av)(e),o=new em.Z6(a),s=e?o.format(e):"Undefined";return{className:eA.BP,callback:()=>t(e),icon:l.createElement(x.U,{className:eA.QE,svg:r},i),displayText:s,recordingKey:b.Pt(n,"createActionOption",e)}}let tH="prototype_conditional_controls--conditionalRowUI3--rQlu6",tV="prototype_conditional_controls--conditionIcon--Npk57";var tG=n(381809),tW=n(527967),tY=n(5068);function tX({onDeleteAction:e,updateMultipleDestinationNodes:t,updateSelectionProperties:n,updateCondition:a,updateActions:r,onAddAction:i,autoOpenVariablePicker:o,isSelected:s,handleMouseDownUI3:c,...u}){let m=u.conditionalActions,p=m?.actions?m?.actions:[],f=m?.condition?m?.condition:void 0,g=(0,en.YT)()===en.Oz.TWO_COL,h=g?tH:"prototype_conditional_controls--conditionalRowIf--25FqB prototype_conditional_controls--conditionalRow--u0PaS",_=l.createElement(Z.KN,{resolvedType:d.rXF.BOOLEAN,targetVariableData:f,updateSelectionProperties:n,recordingKey:u.recordingKey,updateConditionInConditionalAction:a,showVariableThumbnails:!0,isNarrowPanel:!0}),E=l.createElement("div",{className:"prototype_conditional_controls--addButton--vlYLn"},l.createElement(tU,{addButtonPressed:i,recordingKey:b.Pt(u.recordingKey,"addActionToIfButton"),renderButton:!0,isNestedInConditional:!0})),y=l.createElement(l.Fragment,null,g?l.createElement("span",{className:"prototype_conditional_controls--conditionIconUI3--zcwx0"},(0,k.tx)("proto.else")):l.createElement(er.B,{className:tV,svg:tG.A}),p.length>0&&l.createElement("div",{className:"prototype_conditional_controls--addButtonForElse--ogBWu prototype_conditional_controls--addButton--vlYLn"},l.createElement(tU,{addButtonPressed:i,recordingKey:b.Pt(u.recordingKey,"addActionToElseButton"),renderButton:!g,isNestedInConditional:!0}))),v=g?l.createElement("div",{className:"prototype_conditional_controls--elseBlockRowUI3--VXjmO",onMouseDown:c},y):l.createElement(B.fI,{className:g?tH:"prototype_conditional_controls--conditionalRow--u0PaS"},y);return l.createElement(l.Fragment,null,u.ifStatement&&l.createElement("div",{className:h},!g&&l.createElement(el.Y,{direction:"horizontal",spacing:4},l.createElement("span",{className:g?"prototype_conditional_controls--conditionalRowConditionUI3--M2mOx":"prototype_conditional_controls--conditionalRowCondition--kn-f7"},l.createElement(el.Y,{direction:"horizontal",spacing:0},l.createElement(er.B,{className:tV,svg:tW.A}),l.createElement(el.Y,{direction:"horizontal",spacing:0},(0,A.hS)(f)&&_),l.createElement(er.B,{className:"prototype_conditional_controls--icon--JV1i0",svg:tY.default}))),p.length>0&&E)),!u.ifStatement&&v,p&&p.map((a,r)=>l.createElement(nz,{key:r,updateMultipleDestinationNodes:t.appendActionIndex(r),action:a,recordingKey:b.Pt(u.recordingKey,"conditional-action-row",r),updateSelectionProperties:n.appendActionIndex(r),onDeleteAction:()=>e(r),interactionType:u.interactionType,actionIndexPath:[u.actionIndexPath[0],u.actionIndexPath[1],r],numActions:p.length,isNestedInConditional:!0,stateManagementVersion:u.stateManagementVersion,selectedInteractions:u.selectedInteractions,onDrop:u.onDrop,onSelect:u.onSelect,onExpand:u.onExpand,onAddAction:i,selectedActionIndex:u.selectedActionIndex,expandedRows:u.expandedRows,autoOpenVariablePicker:o})),0===p.length&&l.createElement(nz,{key:0,updateMultipleDestinationNodes:t.appendActionIndex(0),action:u.emptyAction,recordingKey:b.Pt(u.recordingKey,"conditional-action-row",0),updateSelectionProperties:n.appendActionIndex(0),onDeleteAction:()=>e(0),interactionType:u.interactionType,actionIndexPath:[u.actionIndexPath[0],u.actionIndexPath[1],0],numActions:p.length,isNestedInConditional:!0,stateManagementVersion:u.stateManagementVersion,selectedInteractions:u.selectedInteractions,onDrop:u.onDrop,onSelect:u.onSelect,onExpand:u.onExpand,onAddAction:i,selectedActionIndex:u.selectedActionIndex,expandedRows:u.expandedRows,autoOpenVariablePicker:o}))}function tj(e,t,n){return function(a){var l=[...t];l.length>e?l[e].condition=a:l.push({condition:0===e?a:void 0,actions:[]},{condition:1===e?a:void 0,actions:[]}),n({conditionalActions:l})}}function tq({onDrop:e,onSelect:t,onExpand:n,action:a,updateMultipleDestinationNodes:i,updateSelectionProperties:o,interactionType:s,recordingKey:c,stateManagementVersion:d,selectedInteractions:u,actionIndexPath:m,selectedActionIndex:p,expandedRows:f,autoOpenVariablePicker:g,onNewActionAdded:h,handleMouseDownUI3:_}){let E=(0,r.wA)(),y=(0,L.p8)("currentPage"),v=(0,en.YT)()===en.Oz.TWO_COL,w=v?p.equals(m):void 0,{shouldShowAdvancedPrototypingPaywall:N,showAdvancedPrototypingConditionalActionsModal:x}=(0,en.zt)(),I=(0,A.hS)(a.conditionalActions)&&a.conditionalActions?a.conditionalActions:[],T=e=>function(t){var n=[...I];n.length>e?n[e].actions=[...t]:n.push({actions:t}),o({conditionalActions:n})},C=e=>function(t){var n=[...I],a=0;if(n.length>e){var l=n[e].actions;l?l.push(t):l=[t],a=l.length}else n.push({actions:0===e?[t]:[]},{actions:1===e?[t]:[]}),a=1;"SET_VARIABLE"===t.connectionType&&(g.current=!0),o({conditionalActions:n}),h&&h(new tL.Op([m[0],e,a-1])),E((0,D._P)({name:"Prototype add action",params:{action:t.connectionType?t.connectionType:"NONE",source:"panel",page_id:y,actionInConditionalAction:!0}}))},S=e=>function(t){if(N)x();else{var n=[...I];let a=I[e],l=[];if(a&&a.actions)for(let e=0;e<a.actions.length;e++){let n=a.actions[e];e!==t?l.push(n):E((0,D._P)({name:"Prototype delete action",params:{action:n.connectionType?n.connectionType:"NONE",source:"panel",page_id:y,actionInConditionalAction:!0}}))}n[e].actions=l,o({conditionalActions:n})}},P=I.length>0?I[0]:void 0,O=I.length>1?I[1]:void 0;return l.createElement("div",{style:v?{position:"relative"}:void 0},(0,A.gl)(a.conditionalActions)&&l.createElement(ek.Y1,null,l.createElement("div",{className:"prototype_conditional_controls--mixedConditionalText--6O32b",onClick:()=>{var e=[];e.push({},{}),o({conditionalActions:e})},role:"button",tabIndex:0},(0,k.t)("fullscreen.properties_panel.click_to_replace_mixed_content"))),(0,A.hS)(a.conditionalActions)&&l.createElement(l.Fragment,null,l.createElement(tX,{key:0,conditionalActions:P,recordingKey:b.Pt(c,"conditional-block",0),updateCondition:tj(0,I,o),updateActions:T(0),onAddAction:C(0),updateMultipleDestinationNodes:i.appendActionIndex(0),onDeleteAction:S(0),interactionType:s,updateSelectionProperties:o.appendActionIndex(0),ifStatement:!0,stateManagementVersion:d,selectedInteractions:u,actionIndexPath:[m[0],0],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:p,autoOpenVariablePicker:g,expandedRows:f,emptyAction:{ifStatement:!0,action:a},isSelected:w,handleMouseDownUI3:_}),l.createElement(tX,{key:1,conditionalActions:O,recordingKey:b.Pt(c,"conditional-block",1),updateCondition:tj(1,I,o),updateActions:T(1),onAddAction:C(1),updateMultipleDestinationNodes:i.appendActionIndex(1),onDeleteAction:S(1),interactionType:s,updateSelectionProperties:o.appendActionIndex(1),ifStatement:!1,stateManagementVersion:d,selectedInteractions:u,actionIndexPath:[m[0],1],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:p,autoOpenVariablePicker:g,expandedRows:f,emptyAction:{ifStatement:!1,action:a},isSelected:w,handleMouseDownUI3:_})))}function tQ({updateSelectionProperties:e,conditionalActions:t,autoOpenExpressionBuilder:n,setAutoOpenExpressionBuilder:a,...r}){let i=t.length>0?t[0]:void 0,o=i?.condition?i?.condition:void 0,s=f()({"prototype_conditional_controls--standaloneIfConditional--GLFDU":!0,"prototype_conditional_controls--placeholderText--esG0u":!o});return l.createElement(l.Fragment,null,l.createElement(ej.cS,{input:null,label:(0,k.tx)("proto.condition")}),l.createElement(ta.Ad,{appendedClassName:"prototype_conditional_controls--conditionalActionRightPadding--xpK6Z",label:null,input:(0,A.hS)(o)?l.createElement("div",{className:s},l.createElement(Z.KN,{resolvedType:d.rXF.BOOLEAN,targetVariableData:o,updateSelectionProperties:e.appendActionIndex(0),recordingKey:r.recordingKey,updateConditionInConditionalAction:tj(0,t,e),autoOpenExpressionBuilder:n,setAutoOpenExpressionBuilder:a,showVariableThumbnails:!0,isNarrowPanel:!0})):null}))}var tJ=n(843495),tZ=n(497306),t$=n(234945),t0=n(510879),t1=n(830002),t2=n(731262);class t3 extends eh.c${}class t5 extends eh.l6{}class t4 extends l.PureComponent{constructor(e){super(e),this.loadDestinationsFromFullscreen=()=>{let e=d.baT.ALL;"SCROLL_TO"===this.props.action?e=d.baT.SCROLL_TO:"SWAP_STATE_TO"===this.props.action&&(e=d.baT.STATES);let{viableIds:t,disabledIds:n}=d.X3B.getTransitionDestinationsOnActiveCanvas(e);return new Promise((e,a)=>{this.setState({viableIds:t,disabledIds:n},e)})},this.onOptionFocus=e=>{tJ.Uc(e??"")},this.renderGroupedScrollableNodes=(e,t)=>{let n=ez()(e.filter(e=>this.nodeNameFormatter.hasNameForNode(e)),e=>e===t&&(0,A.hS)(t)?tZ.Ql(this.props.scene,e)?.guid:this.props.scene.get(e)?.parentGuid),a=Object.keys(n);(0,tZ.X4)(a,this.nodeNameFormatter.format.bind(this.nodeNameFormatter));let{tlfId:r,index:i}=(0,tZ.H_)(this.props.scene,a);return r&&i&&(a.splice(i,1),a=[r,...a]),a.reduce((e,t,a)=>(0!==a&&e.push(l.createElement(eh.sK,{key:a})),e.push(l.createElement(t3,{key:`disabled-${t}`,value:t+" ",recordingKey:b.Pt(this.props,`disabled-option-${t}`),disabled:!0})),n[t].forEach((t,n)=>{e.push(l.createElement(t3,{key:`enabled-${t+n}`,value:t,recordingKey:b.Pt(this.props,`viable-option-${n}`),disabled:!1}))}),e),[])},this.state={viableIds:[],disabledIds:[]},this.nodeNameFormatter=new em.cP(e.scene)}render(){let e=this.props.nodeId===A.oV?A.oV:m.dI(this.props.nodeId),t=this.state.viableIds;(0,A.hS)(e)&&e!==m.AD&&-1===t.indexOf(e)&&(t=t.concat([e]));let n=this.state.disabledIds,a=`prototype-destination-select-${this.props.recordingKey}`,r="SCROLL_TO"!==this.props.action?t.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>l.createElement(t3,{key:`enabled-${e}`,value:e,recordingKey:b.Pt(this.props,`viable-option-${t}`),disabled:!1})):this.renderGroupedScrollableNodes(t,e),i=n.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>l.createElement(t3,{key:`disabled-${e}`,value:e,recordingKey:b.Pt(this.props,`disabled-option-${t}`),disabled:!0})),o=this.props.isUI3?l.Fragment:B.fI;return l.createElement(o,null,l.createElement(t5,{id:a,dataTestId:"destination-select",className:this.props.className,chevronClassName:"prototype_destination_dropdown--chevron--pmWtI",inputClassName:"prototype_destination_dropdown--input--rzglN",dropdownWidth:t_.DxS,property:e,formatter:this.nodeNameFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:b.Pt(this.props,"select"),willShowDropdown:this.loadDestinationsFromFullscreen,onOptionFocus:this.onOptionFocus,hideDropdownWhenContainerMoves:!(0,ef.nl)()},r,0!==n.length&&0!==t.length&&l.createElement(eh.sK,null),i))}}let t7=l.memo(function(e){let t=(0,O.tS)(),n=(0,O._G)(),a=(0,r.d4)(t8),i=(0,r.d4)(t$.qd),o=(0,r.d4)(t$.dK),s=(0,t0.D)(i,o),c=(0,r.d4)(t6),u=l.useMemo(()=>(0,t2.cP)(c,t,n,e.actionIndexPath),[c,t,n,e.actionIndexPath]),m=l.useMemo(()=>(0,t2.cP)(a,t,n),[a,t,n]),p=u||m;if(!p||p.mode!==d.iCO.STATE_OR_STATE_INSTANCE_SUBLAYER)return null;let{allStates:f,stateGroupModel:g,selectedStates:h,selectedStatesPropertyValues:_}=p,E=g.propertySortOrder||[],y=g.propertyValues;return y?l.createElement(t1.lS,{sortedProperties:E,stateGroupPropertyValues:y,selectedStatesPropertyValues:_,selectedStates:h,allStates:f,onSelectProperty:t=>{let n={};for(let e of Object.keys(t)){let a=t[e].symbol.node_id;for(let t of(n[e]=a,s[e]||[]))n[t]=a;for(let e of i)n[e]||(n[e]=a)}e.onChange(n)},recordingKey:e.recordingKey,hideErrorsPanel:!0,shouldIndent:!0,extended:!0}):null});function t8(e){return e.mirror.selectionProperties.stateGroupSelectionInfo}function t6(e){return e.mirror.selectionProperties.prototypeDestinationStateGroupSelectionInfo}var t9=n(169231),ne=n(100197),nt=n(511787),nn=n(939143),na=n(720531),nl=n(746806);let nr="prototype_set_variable_controls--dropdownAndIconContainer--6m3Tw",ni="prototype_set_variable_controls--icon---HzDt",no="prototype_set_variable_controls--placeholderText--PBIqf";function ns({targetVariableData:e,targetVariable:t,updateSelectionProperties:n,autoOpenVariablePicker:a,...i}){let o=l.useRef(null),s=(0,r.wA)(),c=(0,T.GS)(),u=(0,r.d4)(e=>e.variablePickerShown),p=(0,W.tZ)((0,A.hS)(t)&&"id"in t?t.id:void 0),g=(0,W.u)((0,A.hS)(t)&&"id"in t?t.id:void 0),[h,E]=l.useState("");(0,et.h)(()=>{a&&!0===a.current&&(N(),a.current=!1)});let y=(0,W.BQ)((0,A.hS)(t)&&"id"in t?t.id:void 0)??(0,eI.m9)((0,A.hS)(t)&&"nodeFieldAlias"in t?t.nodeFieldAlias:void 0);l.useEffect(()=>{void 0!==e&&y&&"MIXED"!==y&&(0,A.hS)(e)&&e.resolvedType!==y.resolvedType&&!((0,eI.tz)(e.resolvedType)&&(0,eI.tz)(y.resolvedType))&&n({targetVariableData:void 0})},[y,n,e]);let N=()=>{let e=o.current.getBoundingClientRect();s((0,t9.C)({type:"variable-picker-set-variable-action",isShown:!0,resolvedType:d.rXF.STRING,initialPosition:new w.Mi(e.left-20,e.top),key:i.recordingKey,onVariableSelected:S}))},x=l.useCallback(()=>{s((0,t9.B)())},[s]),[I,C]=l.useState(!1),S=l.useCallback(t=>{if(void 0!==t&&t.node_id){let a={targetVariable:{id:t.node_id}},l=d.CWU.getVariableResolvedValue(t.node_id,new Map);!e&&t.resolvedType===d.rXF.COLOR&&l&&(a.targetVariableData=l??void 0),n(a),s((0,D.Zh)({name:"prototype.variable_selected",params:{collectionId:t.variableSetId,variableId:t.node_id,variableType:t.resolvedType}})),C(!0)}},[s,e,n]),P=l.useCallback(e=>{e.value.stablePath.map(e=>m.sH(e))&&(n({targetVariable:{nodeFieldAlias:{stablePathToNode:e.value.stablePath,nodeField:"COMPONENT_PROP_ASSIGNMENTS",indexOrKey:e.value.explicitDefId}}}),C(!0))},[n]),L=l.useMemo(()=>(0,_.kc)().ds_variable_props_proto?{type:"COMPONENT_PROPS",layout:"list"}:{type:"LOCAL_VARIABLES",layout:"list"},[]);l.useEffect(()=>{let e=d.Ez5.prototypingEditorState().colorPickerEyedropperVarData;return(0,ne.lu)(e,{onChangeImmediate(){let t=e.getCopy();t&&n({targetVariableData:t})}})},[n]);let O="nodeFieldAlias"in t?(0,eI.aA)(t.nodeFieldAlias.stablePathToNode,t.nodeFieldAlias.indexOrKey):void 0,M=O?(0,eI.Xx)(O.varValue.resolvedType):null,R=null;if((0,A.gl)(t))R=null;else if(y?.resolvedType===d.rXF.COLOR)R=(0,A.gl)(e)?l.createElement("div",{className:"prototype_set_variable_controls--targetVariableDataMixedContainer--H6uGu"},(0,k.t)("fullscreen.mixed")):l.createElement(l.Fragment,null,l.createElement(na.gJ,{variableValue:e??y,onChange:e=>{n({targetVariableData:e})},recordingKey:b.Pt(i.recordingKey,"variableValueInput"),setVariableAction:!0,innerContainerClassName:"prototype_set_variable_controls--variableColorInputContainer--NaOmp"}));else{let t=i.isNestedInConditional?"prototype_set_variable_controls--absoluteIconInConditional--BbEmW":"prototype_set_variable_controls--absoluteIcon--1XpBF",a=d.rXF.BOOLEAN;g?a=g.resolvedType:O&&(a=O.varValue.resolvedType===d.rXF.TEXT_DATA?d.rXF.STRING:O.varValue.resolvedType),R=l.createElement("div",{className:c?void 0:ei.cx.ml12.$},l.createElement("div",{className:nr},l.createElement(Z.KN,{resolvedType:a,targetVariableData:e,autoOpenExpressionBuilder:I,setAutoOpenExpressionBuilder:C,updateSelectionProperties:n,recordingKey:i.recordingKey,isNarrowPanel:i.isNarrowPanel,showVariableThumbnails:!0}),!c&&l.createElement(er.B,{className:f()(ni,t),svg:tY.default})))}let F=f()({"prototype_set_variable_controls--targetVariableDropdown--IZwoF":!c&&!i.isNarrowPanel,"prototype_set_variable_controls--targetVariableDropdownNarrow--WWi-t prototype_set_variable_controls--targetVariableDropdown--IZwoF":!c&&i.isNarrowPanel,"prototype_set_variable_controls--targetVariableDropdownUI3--Pz71q":c,[no]:c&&!(p||O)}),B=l.createElement(eu.D8,{recordingKey:b.Pt(i.recordingKey,"selectTargetVariable"),onClick:N},l.createElement("div",{className:c?void 0:(0,A.hS)(t)?"prototype_set_variable_controls--targetVariableLabel--AFCqK":"prototype_set_variable_controls--targetVariableLabelInactive--zHWCC prototype_set_variable_controls--targetVariableLabel--AFCqK",ref:o},l.createElement(el.Y,null,l.createElement("div",{className:F},l.createElement("div",{className:nr},(0,A.gl)(t)?l.createElement("div",{className:f()(ei.cx.pt2.$,ei.cx.pb2.$)},(0,k.t)("fullscreen.mixed")):p?l.createElement(eS.w,{text:p,thumbnailValue:y,isDeleted:!!g&&(0,eC.eF)(g)}):O?l.createElement(eS.w,{text:O.name,thumbnailValue:M,isDeleted:!1,colorTheme:eS.J.COMPONENT}):l.createElement("div",{className:f()(ei.cx.pt2.$,ei.cx.pb2.$,c?"prototype_set_variable_controls--placeholderTextColorUI3--Pc-4N":void 0)},c?(0,k.t)("proto.select_variable.short"):(0,k.t)("proto.select_variable")),!c&&l.createElement(er.B,{className:ni,svg:tY.default})))))),K=c?l.createElement(ej.cS,{input:B,label:(0,k.tx)("proto.variable")}):B,U=f()({"prototype_set_variable_controls--setVariableToContainerNarrow--HHbHQ prototype_set_variable_controls--setVariableToContainer--kxsCZ":!c&&i.isNarrowPanel,"prototype_set_variable_controls--setVariableToContainer--kxsCZ":!c&&!i.isNarrowPanel,"prototype_set_variable_controls--setVariableToContainerUI3--pGbDe":c,[no]:c&&!e&&y?.resolvedType!==d.rXF.COLOR}),z=l.createElement("div",{className:U,"data-testid":"set-variable-container"},R),H=c?null!==R?l.createElement(ej.cS,{label:(0,k.tx)("proto.variable.value"),input:z}):null:z;return l.createElement("div",{className:c?void 0:ei.cx.relative.$},K,u.isShown&&"variable-picker-set-variable-action"===u.type&&u.key===i.recordingKey?l.createElement(l.Fragment,null,l.createElement(nl.vx,{title:"",headerSize:"hidden",initialPosition:u.initialPosition,onClose:x,dragHeaderOnly:!1,initialWidth:216,canRenderBelowViewport:!0},(0,_.kc)().ds_variable_props_proto?l.createElement(nn.jc,{selectedItem:g,disabledVariableIds:new Set,currentView:L,toggleLayout:v.lQ,pickerType:"set-variable",setControlRightButtons:l.createElement(nt.f,{resolvedTypes:[d.rXF.BOOLEAN,d.rXF.STRING,d.rXF.FLOAT,d.rXF.COLOR]}),onVariableSelected:S,onClose:x,recordingKey:b.Pt(i.recordingKey,"variablePickerForSelection"),searchQuery:h,onSearchInputChange:E,onComponentPropSelected:P}):l.createElement(nn.YK,{selectedItem:g,disabledVariableIds:new Set,currentView:L,toggleLayout:v.lQ,pickerType:"fields",setControlRightButtons:l.createElement(nt.f,{resolvedTypes:[d.rXF.BOOLEAN,d.rXF.STRING,d.rXF.FLOAT,d.rXF.COLOR]}),onVariableSelected:S,onClose:x,recordingKey:b.Pt(i.recordingKey,"variablePickerForSelection"),searchQuery:h,onSearchInputChange:E})),l.createElement(nn.$3,{onClose:x})):null,H)}var nc=n(96796),nd=n(463420),nu=n(763658),nm=n(896474),np=n(394781);let nf=(0,eo.ex)("prototype_state_management_info",function(){let e=l.createElement("a",{className:ei.cx.cursorPointer.colorTextTooltipSecondary.$,href:"https://help.figma.com/hc/articles/14397859494295",rel:"noopener noreferrer",target:"_blank",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()}},(0,k.tx)("proto.state_management.info_tooltip_learn_more")),t=l.createElement("span",null,l.createElement("strong",null,(0,k.tx)("proto.animation_panel.preserve_scroll_position")));return l.createElement("div",{className:"prototype_state_management_info_tooltip--stateManagementMoreInfo---gER1 tooltip--text--Ll1mS"},(0,k.tx)("proto.state_management.info_tooltip",{PreserveScrollPositionBold:t,LearnMoreLink:e}))}),ng="prototype_state_management_panel--checkboxRow--2u02e checkbox--_checkboxRow--oEhow",nh="prototype_state_management_panel--expandCaret--uuDge";var n_=n(949207),nE=n(432023);function ny({transition:e,navigationType:t,recordingKey:n,showPreserveScrollPosition:a,showResetVideoState:i,showResetInteractiveComponentState:o,updateSelectionProperties:s,stateManagementVersion:c,selectedInteractions:d}){let u=(0,r.wA)(),m=(0,T.GS)(),[p,f]=l.useState(!m),g=l.useContext(eT.c);if((0,en.YT)()===en.Oz.TWO_COL&&g===eT.P.LEFT)return null;let h=(0,en.LH)(c),_=l.createElement(to.S,{onChange:t=>{u((0,D._P)({name:"Preserve Scroll Changed",params:{newValue:t}})),s({...function(e){if((0,A.hS)(e.preserveScroll))return{transitionPreserveScroll:e.preserveScroll}}({...e,preserveScroll:t})})},checked:!0===e.preserveScroll,mixed:(0,A.gl)(e.preserveScroll),recordingKey:b.Pt(n,"preserve-scroll-check"),label:l.createElement(ts.J,null,(0,k.tx)("proto.animation_panel.preserve_scroll_position"))}),E=m?l.createElement(ej.TN,null,_):l.createElement(B.fI,{className:ng},_),y=l.createElement(to.S,{onChange:t=>{u((0,D._P)({name:"Reset Scroll Position Changed",params:{newValue:t,noodleUpgradedThisSession:np.zZ.haveAnyInteractionsBeenUpgraded(d)}})),s({...function(e){if((0,A.hS)(e.resetScrollPosition))return{transitionResetScrollPosition:e.resetScrollPosition}}({...e,resetScrollPosition:t})})},checked:!0===e.resetScrollPosition,mixed:(0,A.gl)(e.resetScrollPosition),recordingKey:b.Pt(n,"reset-scroll-position-check"),label:l.createElement(ts.J,null,(0,k.tx)("proto.animation_panel.reset_scroll_position"))}),v=l.createElement("div",{"data-tooltip-type":R.Ib.SPECIAL,"data-tooltip":nf,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-max-width":240,className:m?"prototype_state_management_panel--stateManagementPanelTooltipUI3--x5MQ3":void 0},l.createElement(nm.In,{icon:"info-16"})),w=m?l.createElement(ej.TN,null,y," ",v):l.createElement(B.fI,{className:ng},y),N=l.createElement(to.S,{onChange:t=>{u((0,D._P)({name:"Reset Component State Changed",params:{newValue:t,noodleUpgradedThisSession:np.zZ.haveAnyInteractionsBeenUpgraded(d)}})),s({...function(e){if((0,A.hS)(e.resetInteractiveComponents))return{transitionResetInteractiveComponents:e.resetInteractiveComponents}}({...e,resetInteractiveComponents:t})})},checked:!0===e.resetInteractiveComponents,mixed:(0,A.gl)(e.resetInteractiveComponents),recordingKey:b.Pt(n,"reset-component-state-check"),label:l.createElement(ts.J,null,(0,k.tx)("proto.animation_panel.reset_component_state"))}),I=m?l.createElement(ej.TN,null,N):l.createElement(B.fI,{className:ng},N),C=l.createElement(to.S,{onChange:t=>{u((0,D._P)({name:"Reset Video Position Changed",params:{newValue:t}})),s({...function(e){if((0,A.hS)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}({...e,resetVideoPosition:t})})},checked:!0===e.resetVideoPosition,mixed:(0,A.gl)(e.resetVideoPosition),recordingKey:b.Pt(n,"reset-video-position-check"),label:l.createElement(ts.J,null,(0,en.LH)(c)?(0,k.tx)("proto.state_management.reset_video_state"):(0,k.tx)("proto.animation_panel.reset_video_state"))}),S=m?l.createElement(ej.TN,null,C):l.createElement(B.fI,{className:ng},C),P=l.createElement(B.Zk,{className:`prototype_state_management_panel--stateManagementPanel--sYaaj ${(0,en.kM)(c)&&"prototype_state_management_panel--stateManagementPanelWithVersion--AovOP"}`},!m&&l.createElement(B.fI,null,l.createElement(B.xw,{className:"prototype_state_management_panel--panelTitle--Nr4Eh",faded:!0},(0,k.tx)("proto.state_management")),!(0,en.kM)(c)&&v),(0,en.uU)(c)&&a&&E,i&&(0,en.uU)(c)&&S,h&&w,h&&o&&I,h&&i&&S,(0,A.gl)(c)&&l.createElement(el.Y,{direction:"horizontal",padding:{horizontal:12,vertical:12}},l.createElement(B.UZ,null,(0,k.tx)("proto.state_management.mixed_state_update")))),L=()=>{f(!p)},O=l.createElement(eu.D8,{key:"expand-caret",recordingKey:b.Pt(n,"expand-caret"),onMouseDown:L,role:"presentation"},l.createElement(x.U,{svg:p?n_.A:nE.A},p?l.createElement(nc.O,{className:nh}):l.createElement(nd.k,{className:nh}))),M=l.createElement("div",{className:"prototype_state_management_panel--expandRow--RVDCp",onMouseDown:L,role:"presentation"},O,l.createElement(eu.oj,null,(0,k.tx)("proto.state")));return l.createElement(nu.k,{name:"prototype_state_management_panel"},m&&M,(p||!m)&&P)}class nv extends eh.c${}class nb extends eh.l6{}let nw=m.AD;class nN extends em.cP{format(e){return e===nw||null===e?(0,k.t)("proto.target_video_node_name_formatter.this_video"):super.format(e)}}function nx(e){let{viableSameFrameVideoIds:t,disabledSameFrameVideoIds:n,scene:a,dropdownShown:i,targetVideoNodeID:o,isVideoSelected:s,onChange:c}=e,d=(0,r.wA)(),[u,p]=l.useState(()=>s?new nN(a):new em.cP(a));t.sort((e,t)=>{let n=u.format(e),a=u.format(t);return n.localeCompare(a)}),s&&t.unshift(nw);let f=t.length>0&&n.length>0,g=`prototype-target-video-select-${e.recordingKey}`,h=(0,T.GS)(),_=l.createElement(nb,{id:g,dataTestId:"target-video-select",className:"prototype_target_video_dropdown--targetVideoDropdown--6hKF-",chevronClassName:"prototype_target_video_dropdown--chevron--jgz53",inputClassName:"prototype_target_video_dropdown--input--infAK",property:(0,A.gl)(o)?o:m.dI(o),formatter:u,onChange:c,dispatch:d,dropdownShown:i,recordingKey:b.Pt(e,"select"),onOptionFocus:e=>{tJ.Uc(e??"")},dropdownAlignment:"left"},t.filter(e=>u.hasNameForNode(e)).map((t,n)=>l.createElement(nv,{key:`enabled-${n}`,value:t,recordingKey:b.Pt(e,`viable-option-${n}`),disabled:!1})),f&&l.createElement(eh.sK,null),n.filter(e=>u.hasNameForNode(e)).map((t,n)=>l.createElement(nv,{key:`disabled-${n}`,value:t,recordingKey:b.Pt(e,`viable-option-${n}`),disabled:!0})));return h?l.createElement(ej.cS,{input:_,label:(0,k.tx)("proto.video_dropdown.label")}):_}var nk=n(946689);function nI({action:e,recordingKey:t,onURLChange:n,onOpenInNewTabChange:a}){let r=(0,T.GS)(),i=l.createElement(nk.ks,{className:r?"prototype_open_url_action_options--urlInputUI3--H-JfT":"prototype_open_url_action_options--urlInput--T-tGT",dataTestId:"url-input",placeholder:(0,k.t)("proto.interaction.example_com"),value:(0,A.gl)(e.connectionURL)?(0,k.t)("fullscreen.mixed"):(0,A._W)(e.connectionURL,""),onChange:n,recordingKey:b.Pt(t,"urlTextInput"),autoFocus:!1}),o=l.createElement(to.S,{label:l.createElement(ts.J,null,(0,k.tx)("proto.action_open_url_in_new_tab")),onChange:a,recordingKey:b.Pt(t,"open-url-in-new-tab-check"),checked:void 0===e.openUrlInNewTab||!0===e.openUrlInNewTab});return l.createElement(l.Fragment,null,r?l.createElement(ej.cS,{label:(0,k.tx)("proto.open_url.text_input_label"),input:i}):i,r?l.createElement(ej.TN,null,o):l.createElement(B.fI,{className:"prototype_open_url_action_options--checkboxRow--mu17T checkbox--_checkboxRow--oEhow"},o))}var nT=n(617453),nC=n(588599);function nS({updateSelectionProperties:e,action:t,extraScrollOffset:n,showScrollToOptions:a,recordingKey:i}){let{smallNudgeAmount:o,bigNudgeAmount:s}=(0,nT.sT)(),c=(0,r.wA)(),d=(0,T.GS)(),u=(t,n)=>(a,l)=>{t&&e({extraScrollOffset:{...t,[n]:a}},{shouldCommit:l})},m=(0,A._W)(n,{x:0,y:0});if(!a||"SCROLL_TO"!==t)return null;let p=l.createElement(tm.gq,{className:d?void 0:eA.U,inputClassName:d?eA.oM:eA.hF,value:m.y,wheelMultiplier:o,scrubMultiplier:o,smallNudgeAmount:o,bigNudgeAmount:s,onValueChange:u(m,"y"),dispatch:c,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.y_offset"),tooltipForScreenReadersOnly:!1,recordingKey:b.Pt(i,"extraScrollOffsetY")},d?l.createElement("span",{className:eA.QK},(0,k.tx)("proto.scroll_options.scroll_offset.y")):l.createElement(er.B,{className:eA.QK,svg:nC.A})),f=l.createElement(tm.gq,{className:d?void 0:eA.sC,inputClassName:d?eA.oM:eA.hF,value:m.x,wheelMultiplier:o,scrubMultiplier:o,smallNudgeAmount:o,bigNudgeAmount:s,onValueChange:u(m,"x"),dispatch:c,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.x_offset"),tooltipForScreenReadersOnly:!1,recordingKey:b.Pt(i,"extraScrollOffsetX")},d?l.createElement("span",{className:eA.QK},(0,k.tx)("proto.scroll_options.scroll_offset.x")):l.createElement(er.B,{className:eA.Kh,svg:nC.A}));return d?l.createElement(ej.Cm,{label:(0,k.tx)("proto.scroll_options.offset"),leftInput:f,rightInput:p}):l.createElement(B.fI,null,p,f)}function nA(e){return l.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},l.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a6 6 0 1 1-12 0 6 6 0 0 1 12 0m1 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0m-6.5-3.5a.5.5 0 0 0-1 0V12a.5.5 0 0 0 .146.354l2 2a.5.5 0 0 0 .708-.708L12.5 11.793z",clipRule:"evenodd"}))}let nP="prototype_video_action_options--chevron--mkNyv",nL="prototype_video_action_options--input--3-cEi",nO=new em.js,nD=new em.Z6;function nM({action:e,onChange:t,updateSelectionProperties:n,dropdownShown:a,recordingKey:i}){let o=(0,T.GS)(),s=(0,em.Od)(e),c=(0,A.E7)(e.mediaAction),d="UPDATE_MEDIA_RUNTIME"===(0,A.E7)(e.connectionType),u="SKIP_TO"===c,m="SKIP_FORWARD"===c||"SKIP_BACKWARD"===c,p="PLAY"===c||"PAUSE"===c||"TOGGLE_PLAY_PAUSE"===c,f="MUTE"===c||"UNMUTE"===c||"TOGGLE_MUTE_UNMUTE"===c,g=(0,r.wA)(),h=(0,nT.RU)(),_=l.useCallback(e=>{n({mediaSkipToTime:e}),g((0,D._P)({name:"Media skip to time changed",params:{value:e}}))},[g,n]),E=`prototype-media-action-select-${i}`,y="prototype_video_action_options--shortDropdown--NOXXv",v=a&&a.type===E?nO:nD,w=l.createElement(ev,{id:E,dataTestId:"media-play-pause-select",className:y,chevronClassName:nP,inputClassName:nL,property:s,formatter:v,onChange:t,dispatch:g,dropdownShown:a,recordingKey:b.Pt(i,"select")},l.createElement(ey,{key:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",value:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",recordingKey:b.Pt(i,"toggle-play-pause-option"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_PLAY",value:"UPDATE_MEDIA_PLAY",recordingKey:b.Pt(i,"play-option"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_PAUSE",value:"UPDATE_MEDIA_PAUSE",recordingKey:b.Pt(i,"pause-option"),disabled:!1})),N=l.createElement(ev,{id:E,dataTestId:"media-mute-unmute-select",className:y,chevronClassName:nP,inputClassName:nL,property:s,formatter:v,onChange:t,dispatch:g,dropdownShown:a,recordingKey:b.Pt(i,"select")},l.createElement(ey,{key:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",value:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",recordingKey:b.Pt(i,"toggle-mute-unmute-option"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_MUTE",value:"UPDATE_MEDIA_MUTE",recordingKey:b.Pt(i,"mute-option"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_UNMUTE",value:"UPDATE_MEDIA_UNMUTE",recordingKey:b.Pt(i,"unmute-option"),disabled:!1})),x=l.createElement(ev,{id:E,dataTestId:"media-skip-by-select",className:y,chevronClassName:nP,inputClassName:nL,property:s,formatter:v,onChange:t,dispatch:g,dropdownShown:a,recordingKey:b.Pt(i,"select"),dropdownWidth:160},l.createElement(ey,{key:"UPDATE_MEDIA_SKIP_FORWARD",value:"UPDATE_MEDIA_SKIP_FORWARD",recordingKey:b.Pt(i,"skip-forward-option"),disabled:!1}),l.createElement(ey,{key:"UPDATE_MEDIA_SKIP_BACKWARD",value:"UPDATE_MEDIA_SKIP_BACKWARD",recordingKey:b.Pt(i,"skip-backward-option"),disabled:!1})),I=l.createElement(tm.qd,{className:"prototype_video_action_options--timestampContainer---DdaI",inputClassName:"prototype_video_action_options--timestamp--luOrs",dataTestId:"mediaSkipToTime-input",dispatch:g,value:e.mediaSkipToTime||0,onValueChange:_,wheelMultiplier:h/1e3,scrubMultiplier:h/1e3,max:3600,displayFractions:!0,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.timestamp_to_set_to"),tooltipForScreenReadersOnly:!0,recordingKey:b.Pt(i,"mediaSkipToTimeInput")},o?l.createElement(nA,null):void 0),C="SKIP_BACKWARD"===c?(0,k.t)("proto.trigger.duration_to_jump_backward"):(0,k.t)("proto.trigger.duration_to_jump_forward"),S=l.createElement(tm.dE,{className:"prototype_video_action_options--timeAmountContainer--5kpHn",dataTestId:"mediaSkipByAmount-input",dispatch:g,value:e.mediaSkipByAmount||5,onValueChange:e=>{n({mediaSkipByAmount:e}),g((0,D._P)({name:"Media skip by amount changed",params:{value:e}}))},wheelMultiplier:h/1e3,scrubMultiplier:h/1e3,max:3600,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":C,tooltipForScreenReadersOnly:!0,recordingKey:b.Pt(i,"mediaSkipByAmountInput")});if(!d)return null;if(o){if(p)return l.createElement(ej.cS,{input:w,label:(0,k.tx)("proto.video_options.behavior")});if(f)return l.createElement(ej.cS,{input:N,label:(0,k.tx)("proto.video_options.behavior")});if(m)return l.createElement(l.Fragment,null,l.createElement(ej.cS,{input:x,label:(0,k.tx)("proto.video_options.direction")}),l.createElement(ej.cS,{input:S,label:(0,k.tx)("proto.video_options.offset")}));if(u)return l.createElement(ej.cS,{input:I,label:(0,k.tx)("proto.video_options.timestamp")})}return l.createElement(B.fI,null,p&&w,f&&N,m&&x,m&&S,u&&I)}function nR({action:e,recordingKey:t,interactionType:n,onActionChange:a,updateMultipleDestinationNodes:i,updateSelectionProperties:o,stateManagementVersion:s,autoOpenVariablePicker:c,autoOpenExpressionBuilder:u,setAutoOpenExpressionBuilder:p,...g}){let h=(0,r.wA)(),_=(0,ep.Um)(),{scene:E,selectionProperties:v}=(0,tl.R)(e=>({scene:e.mirror.sceneGraph,selectionProperties:e.mirror.selectionProperties})),w=(0,T.GS)(),N=(0,en.YT)(),x=N===en.Oz.SINGLE_COL,I=N===en.Oz.TWO_COL,C=l.useContext(eT.c),S=I&&C===eT.P.RIGHT,P="SET_VARIABLE"===(0,A.E7)(e.connectionType),L="SET_VARIABLE_MODE"===(0,A.E7)(e.connectionType),O="CONDITIONAL"===(0,A.E7)(e.connectionType),M="INTERNAL_NODE"===(0,A.E7)(e.connectionType),R="INTERNAL_NODE"===(0,A.E7)(e.connectionType)&&"SWAP_STATE"===(0,A.E7)(e.navigationType),F="URL"===(0,A.E7)(e.connectionType),B=M||"BACK"===(0,A.E7)(e.connectionType)||"CLOSE"===(0,A.E7)(e.connectionType),K="UPDATE_MEDIA_RUNTIME"===(0,A.E7)(e.connectionType),U=(0,eg.dq)(v),z=(0,tr.uQ)(),H=[],V=[];if(z){let{viableIds:e,disabledIds:t}=d.X3B.getVideoNodesOnSameTlfAsNode(z);H=e,V=t}let G=m.dI((0,A.E7)(e.transitionNodeID)),W=null!=G&&G!==m.AD,Y=M&&(!(0,A.hS)(e.transitionNodeID)||W),q=(0,A.E7)(e.navigationType),Q=M&&"OVERLAY"===(0,A.E7)(q),J=(0,en.hU)(e.transitionType,e.easingType,e.easingFunction,e.transitionDuration,e.transitionShouldSmartAnimate,e.transitionPreserveScroll,e.transitionResetVideoPosition,e.openUrlInNewTab,e.transitionResetScrollPosition,e.transitionResetInteractiveComponents),Z=B&&!Q&&("INSTANT"===J.behavior||"DISSOLVE"===J.behavior),$=M&&"OVERLAY"===(0,A.E7)(e.navigationType)&&W,ee=M&&(Q||"SWAP"===(0,A.E7)(q)),et=!K&&(0,en.oc)(e),ea=(0,en.GB)(e),el=(0,en.uU)(s)?Z||et:(0,en.Fp)(s,e.connectionType,e.navigationType),{selectedInteractions:er}=(0,j.Ay)(X.J.NORMAL),eo=er.filter(e=>!!e.sourceNodeID&&!!e.id).map(e=>y.d({nodeID:e.sourceNodeID,interactionID:e.id})),es=l.useCallback(e=>{let t=m.sH(e);t&&o({transitionNodeID:t}),h((0,D._P)({name:"Prototype navigation destination changed",params:{source:"panel",connectorIds:JSON.stringify(eo),destinationTlfId:e}}))},[h,o,eo]),ec=l.useCallback(e=>{i(e),h((0,D._P)({name:"Variant based prototyping UI changed",params:{source:"panel"}})),h((0,D._P)({name:"Prototype navigation destination changed",params:{source:"panel",connectorIds:JSON.stringify(eo)}}))},[i,h,eo]),ed=l.useCallback(e=>{o({connectionURL:e.target.value})},[o]),eu=(0,em.Od)(e),ef=f()({[eA.Ph]:!w,[eA.Ti]:g.isNestedInConditional&&!x&&!S}),eh=M&&!R,e_=l.createElement(t4,{className:eA.iR,dispatch:h,dropdownShown:_,onChange:es,nodeId:e.transitionNodeID||m.Hr,scene:E,recordingKey:b.Pt(t,"destinationDropdown"),action:eu,isUI3:w}),eE=l.createElement(nS,{action:eu,showScrollToOptions:"SCROLL_TO"===eu,extraScrollOffset:e.extraScrollOffset,updateSelectionProperties:o,recordingKey:b.Pt(t,"scrollOptionsPanel")}),ey=l.createElement(tN,{interactionType:n,updateSelectionProperties:o,recordingKey:b.Pt(t,"overlaySettings"),actionIndexPath:g.actionIndexPath,nodeId:e.transitionNodeID||m.Hr});return l.createElement("div",{className:ef},eh&&(w?l.createElement(l.Fragment,null,l.createElement(ej.cS,{label:ee?(0,k.tx)("proto.overlay"):(0,k.tx)("proto.destination"),input:e_}),eE,$&&ey):e_),F&&l.createElement(nI,{action:e,recordingKey:t,onOpenInNewTabChange:e=>{o({openUrlInNewTab:e}),h((0,D._P)({name:"Open Url In New Tab Changed",params:{value:e}}))},onURLChange:ed}),K&&l.createElement(nx,{dropdownShown:_,scene:E,targetVideoNodeID:e.transitionNodeID||m.Hr,recordingKey:b.Pt(t,"targetVideoDropdown"),viableSameFrameVideoIds:H,disabledSameFrameVideoIds:V,isVideoSelected:U,onChange:es}),l.createElement(nM,{dropdownShown:_,action:e,onChange:a,updateSelectionProperties:o,recordingKey:t}),!w&&eE,P&&l.createElement("div",{className:w?void 0:ei.cx.ml4.$},l.createElement(ns,{className:eA.PB,dispatch:h,onChange:es,nodeId:e.transitionNodeID||m.Hr,targetVariable:e.targetVariable||{id:""},targetVariableData:e.targetVariableData,updateSelectionProperties:o,recordingKey:b.Pt(t,"setVariableControls"),action:eu,isNestedInConditional:g.isNestedInConditional,isNarrowPanel:g.isNestedInConditional||g.isNarrowPanel,autoOpenVariablePicker:c})),L&&l.createElement("div",{className:w?void 0:ei.cx.ml4.$},l.createElement(e7,{dispatch:h,targetVariableSetID:e.targetVariableSetID,targetVariableModeID:e.targetVariableModeID,deprecatedTargetVariableSetKey:e.targetVariableSetKey,updateSelectionProperties:o,recordingKey:b.Pt(t,"setVariableControls"),actionIndexPath:g.actionIndexPath.join(",")})),O&&(S?l.createElement(tQ,{recordingKey:b.Pt(t,"conditionalActionSection","conditional-block",0),autoOpenExpressionBuilder:u,setAutoOpenExpressionBuilder:p,updateSelectionProperties:o,conditionalActions:(0,A.hS)(e.conditionalActions)&&e.conditionalActions?e.conditionalActions:[]}):l.createElement(tq,{updateSelectionProperties:o,recordingKey:b.Pt(t,"conditionalActionSection"),action:e,updateMultipleDestinationNodes:i,interactionType:n,stateManagementVersion:s,selectedInteractions:g.selectedInteractions,actionIndexPath:g.actionIndexPath,onDrop:g.onDrop,onSelect:g.onSelect,onExpand:g.onExpand,onNewActionAdded:g.onNewActionAdded,selectedActionIndex:g.selectedActionIndex,expandedRows:g.expandedRows,autoOpenVariablePicker:c,handleMouseDownUI3:g.handleMouseDownUI3})),R&&l.createElement("div",{className:ei.cx.ml0.$},l.createElement(t7,{onChange:ec,nodeId:e.transitionNodeID||m.Hr,recordingKey:b.Pt(t,"consumption"),actionIndexPath:g.actionIndexPath})),Y&&l.createElement(l.Fragment,null,w&&l.createElement("div",{className:eA.x}),l.createElement(tP.X7,{transition:J,interactionType:n,navigationType:e.navigationType,recordingKey:b.Pt(t,"animationPanel"),updateSelectionProperties:o,isNarrowPanel:g.isNestedInConditional||g.isNarrowPanel,stateManagementVersion:s})),$&&!w&&ey,el&&l.createElement(l.Fragment,null,w&&l.createElement("div",{className:eA.x}),l.createElement(ny,{connectionType:e.connectionType,transition:J,navigationType:e.navigationType,recordingKey:b.Pt(t,"stateManagementPanel"),updateSelectionProperties:o,showPreserveScrollPosition:Z,showResetVideoState:!!et,showResetInteractiveComponentState:!!ea,stateManagementVersion:s,selectedInteractions:g.selectedInteractions})))}var nF=n(584999),nB=n(323110),nK=n(482725);let nU=Symbol("ACTION_ROW");function nz({updateMultipleDestinationNodes:e,updateSelectionProperties:t,onDeleteAction:n,stateManagementVersion:a,selectedInteractions:i,autoOpenVariablePicker:o,autoOpenExpressionBuilder:c,setAutoOpenExpressionBuilder:d,...u}){let m=(0,r.wA)(),{shouldShowAdvancedPrototypingPaywall:p,showAdvancedPrototypingVariablesModal:g,showAdvancedPrototypingConditionalActionsModal:h}=(0,en.zt)(),_=(0,ep.Um)(),v=(0,en.SJ)(),{firstVariableSetMode:w,firstVariableSetID:N}=e4(),I=u.action,C=u.isNestedInConditional&&(0,tL.qQ)(u.action),S=!!I.connectionType&&"CONDITIONAL"===I.connectionType,P=(0,T.GS)(),L=(0,en.YT)(),O=L===en.Oz.SINGLE_COL,M=L===en.Oz.TWO_COL,F=l.useContext(eT.c),K=M&&F===eT.P.RIGHT,U=M&&F===eT.P.LEFT,z=!((0,A.gl)(u.action)||["CLOSE","NONE"].includes(I.connectionType))&&!P;var H=u.selectedActionIndex.equals(u.actionIndexPath);let V=1===u.selectedActionIndex.path.length&&u.isNestedInConditional&&u.actionIndexPath[0]===u.selectedActionIndex.path[0];var G=void 0===u.expandedRows||void 0!==u.expandedRows.find(e=>e.equals(u.actionIndexPath));P&&(G=!!O||!U||S);let W=l.useCallback(()=>{(z||O)&&u.onExpand(u.actionIndexPath)},[z,O,u]),[Y,X]=l.useState(!1);l.useEffect(()=>{if(S){let e=setTimeout(()=>{X(!0)},0);return()=>clearTimeout(e)}X(!0)},[S]);let j=S&&!G,q=S&&G,Q=l.useRef(null),[J,Z]=(0,E.fp)(en.hV),{position:$,dragItem:ee}=(0,ea.h4)(()=>({type:nU,element:Q,item:u.action,dropPositionThreshold:q?.2:j?1/3:.5,getDeepestTargetOnly:!0,canDrag:!!U||!G,onDrop(e){u.onDrop(e),Z(!0)}})),et=l.useMemo(()=>{let e=Q.current;if(!e||!$||K)return;if(ee&&"CONDITIONAL"===ee.connectionType&&u.isNestedInConditional||(0,tL.qQ)(ee)){Z(!1);return}let t=C?ea.Nz.BEFORE:$;var n=void 0;let a=e.offsetParent?.firstElementChild?.scrollTop??0;return t===ea.Nz.BEFORE?n=e.offsetTop-a:t===ea.Nz.AFTER&&(n=e.offsetTop+e.offsetHeight-a),Z(!0),n},[$,K,ee,u.isNestedInConditional,C,Z]),el=$&&S&&!G&&$===ea.Nz.INSIDE&&"CONDITIONAL"!==ee.connectionType,ei=b.rf(u.recordingKey,"mousedown",e=>{G||(H=!0,u.onSelect(u.actionIndexPath,!0))}),eo=b.rf(u.recordingKey,"mousedown",e=>{H=!1,u.onSelect(u.actionIndexPath,!1)}),es=b.rf(u.recordingKey,"click",e=>{u.onSelect(u.actionIndexPath,!0)}),ec=b.rf(u.recordingKey,"mousedown",e=>{(0,tL.qQ)(u.action)||u.onSelect(u.actionIndexPath,!0)}),ef=e=>{var n=!0,a=!1;switch(e){case"NONE":t({connectionType:"NONE"});break;case"NAVIGATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"NAVIGATE"});break;case"OPEN_OVERLAY":t({connectionType:"INTERNAL_NODE",navigationType:"OVERLAY"});break;case"SCROLL_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SCROLL_TO"});break;case"SWAP_WITH":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP"});break;case"SWAP_STATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP_STATE"});break;case"GO_BACK":t({connectionType:"BACK"});break;case"CLOSE_OVERLAY":t({connectionType:"CLOSE"});break;case"OPEN_URL":t({connectionType:"URL"});break;case"SET_VARIABLE":p?(n=!1,g()):(t({connectionType:"SET_VARIABLE"}),o.current=!0);break;case"SET_VARIABLE_MODE":p?(n=!1,g()):t({connectionType:"SET_VARIABLE_MODE",targetVariableSetID:N,targetVariableModeID:w});break;case"UPDATE_MEDIA_PLAY":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PLAY"});break;case"UPDATE_MEDIA_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PAUSE"});break;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_PLAY_PAUSE"});break;case"UPDATE_MEDIA_MUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"MUTE"});break;case"UPDATE_MEDIA_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"UNMUTE"});break;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_MUTE_UNMUTE"});break;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_FORWARD"});break;case"UPDATE_MEDIA_SKIP_BACKWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_BACKWARD"});break;case"UPDATE_MEDIA_SKIP_TO":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_TO"});break;case"CONDITIONAL":a=!0,p?(n=!1,h()):(t({connectionType:"CONDITIONAL"}),P&&d&&d(!0))}if(P||G||W(),M&&u.onExpand(u.actionIndexPath,a),n){let t=i.filter(e=>!!e.sourceNodeID&&!!e.id).map(e=>y.d({nodeID:e.sourceNodeID,interactionID:e.id}));m((0,D._P)({name:"Prototype action changed",params:{action:e,source:"panel",connectorIds:JSON.stringify(t)}}))}},eg=u.isNestedInConditional?eA.It:eA.ft,eh=f()({[eA.wu]:!U,[eA.zX]:U&&J}),e_=l.createElement(x.U,{svg:nB.A},l.createElement(ed,{className:eA._2}));if(C&&u.onAddAction)return l.createElement("div",{className:U?eA.LW:void 0},et&&l.createElement("hr",{className:eg,style:{transform:`translateY(${et}px)`}}),U&&u.isNestedInConditional&&e_,l.createElement("div",{className:eh,ref:Q},l.createElement(tU,{addButtonPressed:u.onAddAction,recordingKey:b.Pt(u.recordingKey,"addAction"),isNestedInConditional:!0})));let eE=(0,em._X)(I),ey="NONE"!==eE,ev=(G||!ey)&&!U,eb=u.numActions>1,eN=(u.numActions>1||u.isNestedInConditional)&&!U,ex=f()({[eA.$l]:!0,[eA.KY]:U&&!u.isNestedInConditional,[eA.Iw]:U&&!u.isNestedInConditional&&J,[eA.DM]:U&&u.isNestedInConditional,[eA.vs]:U&&u.isNestedInConditional&&J,[eA.M9]:U&&u.isNestedInConditional&&V&&J,[eA.I_]:U&&S&&!H&&J,[eA.Cu]:H&&!P,[eA.PE]:H&&U&&!u.isNestedInConditional,[eA.Ze]:el,[eA.Op]:u.isNestedInConditional&&!P}),ek=f()({[eA.rn]:!0,[eA.Gu]:U,[eA.Ti]:u.isNestedInConditional&&!P&&!K,[eA.Yo]:u.isNestedInConditional&&P&&!K}),eI=l.createElement(er.B,{key:"expand-caret",className:eA.GE,svg:G?n_.A:nE.A,recordingKey:b.Pt(u.recordingKey,"expandCaret"),onClick:W}),eC=l.createElement(eM,{action:I,isNestedInConditional:u.isNestedInConditional,isNarrowPanel:u.isNarrowPanel&&eb,onClick:P?es:void 0}),eS=l.createElement(ew,{className:"NONE"===eE||P?void 0:nF.fH,dispatch:m,dropdownShown:_,onChange:ef,action:eE,recordingKey:b.Pt(u.recordingKey,"actionDropdown"),showVideoActions:v,isNestedInConditional:u.isNestedInConditional}),eP=l.createElement(B.K0,{className:P?eA.gG:eA.hH,onClick:n,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.prototype_panel.delete"),"aria-label":(0,k.t)("proto.prototype_panel.delete"),recordingKey:b.Pt(u.recordingKey,"actionDeleteButton")},l.createElement(x.U,{svg:nK.A},l.createElement(s.O,null))),eL=l.createElement(B.fI,{className:ek,onDoubleClick:W},z&&eI,ev?l.createElement("span",{className:eA.P2},eS):eC,eN&&eP),eO=ev?eS:eC,eD=l.createElement(eu.D8,{className:ek,onDoubleClick:W},z&&eI,eN?l.createElement(ta.DE,{appendedClassName:eA.Jw,label:null,input:eO,icon:eP}):l.createElement(ta.Ad,{appendedClassName:eA.Jw,label:null,input:eO})),eR=(0,k.tx)("proto.action"),eF=l.createElement(eu.D8,{className:ek},O||K?l.createElement(ej.cS,{label:eR,input:eO}):eO),eB=P?eF:eD,eK=f()({[eA.Oe]:!0,[eA.h2]:H,[eA.Ob]:S});return l.createElement("div",{className:ex,ref:Q,role:"button",tabIndex:0,onMouseDown:P?void 0:ei,onMouseUp:P?void 0:eo},void 0!==et&&l.createElement("hr",{className:eg,style:{transform:`translateY(${et}px)`}}),U?l.createElement("div",{className:eK,role:"button",tabIndex:0,onMouseDown:P?ec:void 0},u.isNestedInConditional&&e_,eB):P?eB:eL,G&&Y&&l.createElement(nR,{updateMultipleDestinationNodes:e,action:I,onActionChange:ef,recordingKey:u.recordingKey,updateSelectionProperties:t,interactionType:u.interactionType,stateManagementVersion:a,selectedInteractions:i,isNestedInConditional:u.isNestedInConditional,isNarrowPanel:u.isNarrowPanel,actionIndexPath:u.actionIndexPath,onDrop:u.onDrop,onSelect:u.onSelect,onExpand:u.onExpand,onNewActionAdded:u.onNewActionAdded,selectedActionIndex:u.selectedActionIndex,expandedRows:u.expandedRows,autoOpenVariablePicker:o,autoOpenExpressionBuilder:c,setAutoOpenExpressionBuilder:d,handleMouseDownUI3:ec}))}var nH=n(427113),nV=n(682331),nG=n(73349);function nW({onChange:e,value:t,shouldFocusKeyCaptureField:n,setShouldFocusKeyCaptureField:a}){let r;let i=(0,nG._i)(t?.keyCodes),o=t=>e({keyCodes:t,triggerDevice:"KEYBOARD"}),[s,c]=l.useState(!1),d=l.useRef(null);l.useEffect(()=>{(!t||!t.keyCodes||0===t.keyCodes.length)&&n&&d.current&&(a(!1),d.current.focus(),c(!0))},[a,n,t]),l.useEffect(()=>{if(!s)return()=>{};let t=new nV.L,n=t.onPress(t=>{e({keyCodes:[t.buttons[0]],triggerDevice:t.controllerType}),requestAnimationFrame(()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()})});return t.start(),()=>{n.release(),t.end()}},[e,s]);let u=null,m=(0,nG.E8)(t),p=(0,T.GS)();return s?r=l.createElement(nY,null,p?(0,k.tx)("proto.keyCapture.press_key_lowercase"):(0,k.tx)("proto.keyCapture.press_key")):t?.triggerDevice==="KEYBOARD"&&i?u=(0,nG.U8)(i):m?u=m:r=l.createElement(nY,null,p?(0,k.tx)("proto.keyCapture.click_to_set_key"):(0,k.tx)("proto.keyCapture.click_to_select")),l.createElement(B.rp,{ref:d,className:"prototype_key_capture_field--root--bD21s","data-tooltip-type":R.Ib.TEXT,"data-tooltip":u&&u.length>10?u:null,onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:e=>{e.preventDefault(),e.stopPropagation();let t=e.which||e.keyCode;!nG.RI.has(t)&&nG.pu[t]&&(t===i?.keyCode&&e.repeat?o((0,nG.wb)({keyCode:t,metaKey:e.metaKey||i.metaKey,shiftKey:e.shiftKey||i.shiftKey,ctrlKey:e.ctrlKey||i.ctrlKey,altKey:e.altKey||i.altKey})):o((0,nG.wb)({...e,keyCode:t})),document.activeElement instanceof HTMLElement&&document.activeElement.blur())},recordingKey:"keycapture"},u??r)}function nY({children:e}){return l.createElement("span",{className:"prototype_key_capture_field--placeholder--gWUKF"},e)}var nX=n(634238);class nj extends eh.l6{}class nq extends eh.c${}let nQ=new em.VG,nJ=new em.EX,nZ=new em.JV,n$=new em.Eq;function n0(e){let t=(0,r.wA)(),n=(0,ep.Um)(),a=(0,T.GS)(),i=(0,e_.cJ)(),{showVideoV2Triggers:o}=(0,tl.R)(e=>({allStatesInSelection:e.mirror.selectionProperties.stateGroupSelectionInfo?.mode===d.iCO.STATE,allTopLevelFramesInSelection:!!e.mirror.selectionProperties.allTopLevelFramesInSelection,showVideoV2Triggers:(0,eg.dq)(e.mirror.selectionProperties)})),s=(0,E.md)(nX.NE),c=(t,n)=>{let r=l.createElement("div",{className:"transition_interaction_dropdown--prototypeInteractionIcon---njby"},(0,eg.e7)(t));return l.createElement(nq,{key:n,value:t,icon:a?r:void 0,recordingKey:b.Pt(e,t),disabled:!function(t){if("NONE"===t)return!0;let n=!!e.interactionsOnSelectedNodes&&e.interactionsOnSelectedNodes.every(t=>e.interactionsOnSelectedNodes&&m.aI(t.sourceNodeID,e.interactionsOnSelectedNodes[0].sourceNodeID))&&!(0,A.hS)(e.property),a=(function(){if(e.interactionsOnSelectedNodes)return new Set(e.interactionsOnSelectedNodes.map(e=>e?.event?.interactionType).filter(e=>void 0!==e))})()?.has(t)&&(0,A.hS)(e.property)&&e.property!==t;return(!n&&!a||!!["ON_KEY_DOWN","DRAG","ON_VOICE","ON_MEDIA_HIT"].includes(t))&&("AFTER_TIMEOUT"===t?!e.interactionContainsOpenLinkAction:"ON_MEDIA_HIT"===t||"ON_MEDIA_END"===t?o:(!e.interactionContainsOpenLinkAction||"ON_CLICK"===t||"MOUSE_UP"===t)&&(!e.interactionContainsUpdateMediaRuntime||"ON_HOVER"!==t&&"ON_PRESS"!==t&&"DRAG"!==t)&&(!e.interactionOnlyContainsBack||"ON_HOVER"!==t&&"ON_PRESS"!==t))}(t)})},u=["NONE"].map(c),p=["ON_CLICK",...i?[]:["DRAG"],"ON_HOVER","ON_PRESS","ON_KEY_DOWN"].map(c),f=["MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].map(c),g=(i?[]:["ON_MEDIA_HIT","ON_MEDIA_END"]).map(c),h=["AFTER_TIMEOUT"].map(c),_=s?"ON_MEDIA_HIT"!==e.property?nJ:n$:"ON_MEDIA_HIT"!==e.property?nQ:nZ,y=l.useCallback(e=>e-24,[]),v=(0,A.E7)(e.property);return l.createElement(nj,{id:"interaction-type-select",className:e.className,chevronClassName:"transition_interaction_dropdown--chevron--pyzhq",dataTestId:"interaction-select",property:e.property,formatter:_,icon:a&&v?(0,eg.e7)(v):void 0,onChange:e.onChange,dispatch:t,dropdownShown:n,recordingKey:b.Pt(e,"select"),hideDropdownWhenContainerMoves:!(0,ef.nl)(),dropdownAlignment:y,dropdownWidth:160},u,l.createElement(eh.sK,null),p,l.createElement(eh.sK,null),f,!i&&l.createElement(eh.sK,null),!i&&h,o&&[l.createElement(eh.sK,{key:""}),...g])}let n1={keyCodes:[],triggerDevice:"KEYBOARD"};function n2(e,t,n,a){return n?l.createElement(ej.cS,{label:e,input:t,appendedClassName:a?void 0:eA.dU}):l.createElement(B.fI,null,t)}function n3(e){let{detailPropsMultipleActions:t,interactionsOnSelectedNodesAndComponents:n,updateSelectionProperties:a}=(0,j.Ay)(e.category),{interactionType:i="NONE",transitionTimeout:o=.8,mediaHitTime:s=0,interactionMaintained:c=!1,interactionDuration:d=.3,keyTrigger:u=n1}=t.interactionEvent,m=(e,t)=>{if(e.connectionType===t)return e;if("CONDITIONAL"===e.connectionType)for(let n of(0,A.hS)(e.conditionalActions)&&e.conditionalActions?e.conditionalActions:[]){let e=n.actions?n.actions.find(e=>e.connectionType===t):void 0;if(void 0!==e)return e}return null},p=void 0!==t.interactionActions.find(e=>m(e,"URL")),g=void 0!==t.interactionActions.find(e=>m(e,"UPDATE_MEDIA_RUNTIME")),h=1===t.interactionActions.length&&"BACK"===t.interactionActions[0].connectionType,_=void 0!==t.interactionActions.find(e=>m(e,"CONDITIONAL"));return function(e){let t=(0,r.wA)(),n=e.updateSelectionProperties,a=(0,nT.RU)(),[i,o]=l.useState(!1),s=(0,T.GS)(),c=(0,en.YT)(),d=c===en.Oz.SINGLE_COL,u=c===en.Oz.TWO_COL,m=!0===(0,A.E7)(e.maintained),p=(0,A.E7)(e.keyTrigger),g="ON_KEY_DOWN"===(0,A.E7)(e.interactionType),h="AFTER_TIMEOUT"===(0,A.E7)(e.interactionType),_="ON_MEDIA_HIT"===(0,A.E7)(e.interactionType),E=["MOUSE_IN","MOUSE_OUT","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].indexOf((0,A.E7)(e.interactionType)||"")>-1,y=l.createElement(n0,{className:eA.sQ,property:e.interactionType,onChange:a=>{ee.sn.start("interaction_details_changed"),n({interactionType:a}),t((0,D._P)({name:"Prototype Interaction Type Changed",params:{newType:a,oldType:(0,A._W)(e.interactionType,"MIXED")}})),"ON_KEY_DOWN"===a&&o(!0)},interactionContainsOpenLinkAction:e.interactionContainsOpenLinkAction,interactionContainsUpdateMediaRuntime:e.interactionContainsUpdateMediaRuntime,interactionOnlyContainsBack:e.interactionOnlyContainsBack,recordingKey:b.Pt(e,"interactionDropdown"),interactionsOnSelectedNodes:e.interactionsOnSelectedNodes}),v=s?d?l.createElement(ej.cS,{label:(0,k.tx)("proto.trigger"),input:y}):l.createElement("div",{className:eA.BX},y):l.createElement(B.fI,{className:f()(eA.SG,eA.QT)},y,l.createElement("div",{className:eA.LY},e.headerButtons)),w=l.createElement(l.Fragment,null,h&&n2((0,k.tx)("proto.delay"),l.createElement(tm.W4,{className:s?eA.Lp:eA.Zp,inputClassName:s?eA.Gl:void 0,dataTestId:"timeout-input",dispatch:t,value:e.timeout,onValueChange:e=>{n({transitionTimeout:e})},wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,max:20,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:b.Pt(e,"timeoutInput")},s?l.createElement(nH.A,null):void 0),s,d),g&&n2((0,k.tx)("proto.key"),l.createElement(nW,{onChange:e=>{n({keyTrigger:e})},value:p,shouldFocusKeyCaptureField:i,setShouldFocusKeyCaptureField:o}),s,d),_&&n2((0,k.tx)("proto.time"),l.createElement(tm.qd,{displayFractions:!0,className:eA.Ym,inputClassName:eA.vE,dataTestId:"mediaHitTime-input",dispatch:t,value:e.mediaHitTime,onValueChange:e=>{n({mediaHitTime:e})},wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,max:3600,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.video_hit_time"),tooltipForScreenReadersOnly:!0,recordingKey:b.Pt(e,"mediaHitTimeInput")},s?l.createElement(nA,null):void 0),s,d),E&&n2((0,k.tx)("proto.delay"),l.createElement(tm.W4,{className:s?eA.Lp:eA.aq,inputClassName:s?eA.Gl:eA.p0,dataTestId:"duration-input",dispatch:t,value:m?e.interactionDuration:void 0,onValueChange:e=>{n(e&&e>0?{interactionMaintained:!0,interactionDuration:e}:{interactionMaintained:!1})},min:0,allowEmpty:!0,placeholder:(0,k.t)("proto.trigger.add_delay_placeholder"),wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,"data-tooltip-type":R.Ib.TEXT,"data-tooltip":(0,k.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:b.Pt(e,"delayInput")},s?l.createElement(nH.A,null):void 0),s,d));return s?l.createElement("div",{className:u?eA.eU:void 0},v,w):l.createElement("div",{className:eA.cF},v,w)}({...e,updateSelectionProperties:a,interactionType:i,interactionContainsOpenLinkAction:p,interactionContainsUpdateMediaRuntime:g,interactionOnlyContainsBack:h,interactionContainsConditionalAction:_,timeout:o,maintained:c,interactionDuration:d,mediaHitTime:s,keyTrigger:u,interactionsOnSelectedNodes:n,recordingKey:b.Pt(e.recordingKey,en.Qe)})}let n5="prototype_interaction_edit_modal--contentContainer--bo2b4",n4="prototype_interaction_edit_modal--ui3TwoColContentContainer--x9vrG",n7="prototype_interaction_edit_modal--ui3SingleColContentContainer--uF-ir",n8="prototype_interaction_edit_modal--dividerHorizontal--3wvnB",n6="prototype_interaction_edit_modal--ui3InteractionsPanelContentRight--bVfG8";function n9(e){let{selectedInteractions:t,makeUpdateSelectionPropertiesForActionIndex:n,makeUpdateMultipleDestinationNodesForActionIndex:a,differentLengthActions:r,mergedActions:i}=(0,j.Ay)(e.category),o="NONE"!==(0,A.E7)(e.interactionType),s=void 0!==i.find(e=>"CONDITIONAL"===e.connectionType),{selectedActionIndex:c,onSelect:d}=e,u=(0,T.GS)(),m=(0,en.YT)(),p=m===en.Oz.SINGLE_COL,g=m===en.Oz.TWO_COL,{expandedRows:h,setExpandedRows:_,deleteButtonPressed:E,newActionIndexPath:y,resetNewActionIndexPath:v}=e;l.useEffect(()=>{y&&!y?.equals([])&&(u?d(y.path,!0):(_([...h,y]),d([],!1)),v())},[h,_,y,v,d,u]);let w=l.useCallback(e=>{h.find(t=>t.equals(e))?_(h.filter(t=>!t.equals(e))):_([...h,new tL.Op(e)])},[h,_]),N=l.useCallback(n=>{var a=n.dropItem;if((0,A.gl)(a)||(0,tL.qQ)(n.dragItem))return;let l=e.interactionsOnSelectedNodes;if(!l||!t)return;for(var r=0;r<t?.length;r++){let e=t[r];if(e&&e.actions){let l=e.actions,i=(0,tL.Vp)(l,c,h,a,n.position);if(i.newSelectedActionIndex&&g&&d(i.newSelectedActionIndex.path,!0),i.newActions&&(t[r].actions=i.newActions,u||d([],!1)),i.newExpandedRows){if(g){let e=[];i.newActions?.forEach((t,n)=>{"CONDITIONAL"===t.connectionType&&e.push(new tL.Op([n]))}),_(e)}else _(i.newExpandedRows)}}}let i=l.map(e=>t.find(t=>t.id===e.id)??e);C.Y5.updateSelectionProperties({prototypeInteractions:i})},[h,_,e.interactionsOnSelectedNodes,c,t,d,u,g]),x=f()({"prototype_interaction_edit_modal--panelUI3--WK3CN":u,"prototype_interaction_edit_modal--panelUI3TwoColumn--V5gi4":g});return l.createElement(ea.hh,null,l.createElement(B.Zk,{className:x},e.shouldHideTitle?null:l.createElement(B.fI,null,l.createElement(B.U8,{title:(0,k.t)("proto.interaction.interaction"),dataTooltipContentKey:ec,dataTooltipTimeoutDelay:50})),l.createElement("div",null,(o||u)&&l.createElement(l.Fragment,null,p&&l.createElement(l.Fragment,null,l.createElement(n3,{category:e.category,recordingKey:en.dJ,headerButtons:l.createElement(l.Fragment,null)}),l.createElement("div",{className:"prototype_interaction_edit_modal--dividerHorizontalUI3--HMCeE"})),r&&l.createElement(el.Y,{direction:"horizontal",padding:{horizontal:16,vertical:12}},l.createElement(B.UZ,null,(0,k.tx)("fullscreen.properties_panel.click_plus_to_replace_mixed_content"))),!r&&l.createElement(l.Fragment,null,i?.map((r,o)=>l.createElement(nz,{key:o,updateMultipleDestinationNodes:a(o),action:r,recordingKey:b.Pt(e.recordingKey,en.eG,o),updateSelectionProperties:n(o),onDeleteAction:()=>E(o),interactionType:e.interactionType,actionIndexPath:[o],numActions:i.length,isNestedInConditional:!1,isNarrowPanel:!s,stateManagementVersion:e.stateManagementVersion,selectedInteractions:t,onDrop:N,onSelect:e.onSelect,onExpand:w,selectedActionIndex:c,autoOpenVariablePicker:e.autoOpenVariablePicker,expandedRows:h,onNewActionAdded:e.onNewActionAdded,autoOpenExpressionBuilder:e.autoOpenExpressionBuilder,setAutoOpenExpressionBuilder:e.setAutoOpenExpressionBuilder})))))))}var ae=n(504440);function at({transition:e,recordingKey:t,updateSelectionProperties:n,stateManagementVersion:a,selectedInteractions:i}){let o=(0,r.wA)(),s=(0,T.GS)(),c=(0,en.YT)()===en.Oz.SINGLE_COL,d=()=>{for(let t of($.az.trackDefinedEvent("prototype.state_management_noodle_upgraded",{num_interactions:i.length,preserve_scroll_position_value:!!e.preserveScroll}),i))(0,en.uU)(t.stateManagementVersion)&&t.id&&t.sourceNodeID&&np.zZ.recordInteractionUpgraded(t.id,t.sourceNodeID);n({...(0,A.hS)(e.preserveScroll)&&(0,A.hS)(a)?{transitionResetScrollPosition:!e.preserveScroll}:{},stateManagementVersion:1}),o(U.F.enqueue({type:"state-management-updated",message:(0,k.t)("proto.state_management.visual_bell_updated_message"),button:{text:(0,k.t)("proto.state_management.visual_bell_update_all"),action:()=>{C.Y5.triggerActionInUserEditScope("update-interactions-state-management-on-page"),o(U.F.enqueue({type:"state-management-updated-all",message:(0,k.t)("proto.state_management.visual_bell_update_all_message")}))}}}))},u=()=>{$.az.trackDefinedEvent("prototype.state_management_noodle_reverted",{num_interactions:i.length}),n({stateManagementVersion:0})},m=1===a?l.createElement(nk.jG,{className:"prototype_state_management_version_panel--revertButton--Svmg9",recordingKey:b.Pt(t,"revert-state-management-version"),onClick:u,"data-testid":"revert-state-management-button"},(0,k.tx)("proto.state_management.revert_controls")):l.createElement(nk.nR,{recordingKey:b.Pt(t,"update-state-management-version"),onClick:d},(0,k.tx)("proto.state_management.update_controls")),p=c?ae.IK:ae.$n,f=1===a?l.createElement(p,{variant:"secondary",onClick:u,recordingKey:b.Pt(t,"revert-state-management-version"),htmlAttributes:{"data-testid":"revert-state-management-button"}},(0,k.tx)("proto.state_management.revert_controls")):l.createElement(p,{variant:"primary",onClick:d,recordingKey:b.Pt(t,"update-state-management-version")},(0,k.tx)("proto.state_management.update_controls")),g=1===a?(0,k.tx)("proto.state_management.new_controls"):(0,k.tx)("proto.state_management.old_controls"),h=l.createElement("a",{target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/14397859494295",className:s?void 0:"prototype_state_management_version_panel--link--i5iDD blue_link--blueLink--9rlnd"},s?(0,k.tx)("proto.state_management.controls_help_link_new"):(0,k.tx)("proto.state_management.controls_help_link")),_=l.createElement("div",{className:"prototype_state_management_version_panel--versionControls--siAOf"},l.createElement(B.JU,{className:"prototype_state_management_version_panel--label--vvYMX"},g,h),l.createElement("div",{className:"prototype_state_management_version_panel--buttonContainer--rJZ-y"},m)),E=l.createElement("div",{className:"prototype_state_management_version_panel--containerUI3--V5tpG"},l.createElement(ts.J,null,g),h,f),y=l.createElement("div",{className:"prototype_state_management_version_panel--containerUI3TwoCol--AAp8u"},l.createElement("span",{className:"prototype_state_management_version_panel--labelWrapperUI3--37g5A"},l.createElement(ts.J,null,g)),l.createElement("span",{className:"prototype_state_management_version_panel--helpLinkWrapperUI3--BttuC"},h),f);return l.createElement(nu.k,{name:"prototype_state_management_version_panel"},l.createElement(B.Zk,{className:s?"prototype_state_management_version_panel--panelUI3--8-Db5":void 0},s?c?E:y:_))}let an="created_noodle";function aa(e){let{shouldHideTitle:t=!1,category:n,newActionIndexPath:a}=e,r=(0,en.YT)()===en.Oz.TWO_COL,{detailProps:i,detailPropsMultipleActions:o,interactionsOnSelectedNodesAndComponents:s,updateSelectionProperties:c,selectedInteractions:d}=(0,j.Ay)(e.category);(0,et.h)(()=>{if(void 0!==ee.sn.get(an)){let e=ee.sn.stop(an);(0,$.sx)(an,{elapsedMs:e,numConnectors:d.length},{forwardToDatadog:!0})}});let{showPanel:u,transition:m}=(0,en.n6)(i,o,d),{interactionType:p="NONE",interactionMaintained:f=!1,interactionDuration:g=.3,keyTrigger:h=n1,transitionTimeout:_=.8,mediaHitTime:E=0}=o.interactionEvent,y=(0,en.iC)(d),v=l.createElement(n9,{interactionType:p,timeout:_,mediaHitTime:E,maintained:f,interactionDuration:g,keyTrigger:h,recordingKey:b.Pt(e,en.Qe),shouldHideTitle:t,interactionsOnSelectedNodes:s,category:n,stateManagementVersion:y,autoOpenVariablePicker:e.autoOpenVariablePicker,newActionIndexPath:a,resetNewActionIndexPath:e.resetNewActionIndexPath,onNewActionAdded:e.onNewActionAdded,onSelect:e.onSelect,selectedActionIndex:e.selectedActionIndex,expandedRows:e.expandedRows,setExpandedRows:e.setExpandedRows,deleteButtonPressed:e.deleteButtonPressed,autoOpenExpressionBuilder:e.autoOpenExpressionBuilder,setAutoOpenExpressionBuilder:e.setAutoOpenExpressionBuilder});return l.createElement("div",null,v,!r&&u&&l.createElement(at,{transition:m,recordingKey:b.Pt(e,"stateManagementVersionPanel"),updateSelectionProperties:c,stateManagementVersion:y,selectedInteractions:d}))}var al=n(360803),ar=n(102165);function ai(e,t,n){let[a,l,r]=e.path,i=t[a].conditionalActions;if((0,A.hS)(i)){let e=i?.[l].actions?.length??0;if(r>=e){if(0===e){n([a],!0);return}n([a,l,r-1],!0);return}}}function ao(e,t,n){let a=e.path[0]>=t.length,l=0===e.path.length;if(a){n([t.length-1],!0);return}if(l){n([0],!0);return}}var as=n(930269),ac=n(277687);let ad=()=>{d.glU.setSelectedInteractions([]),C.Y5.deselectProperty()},au=(0,h.jz)("197px"),am=(0,h.c8)("50%");function ap(e){var t;return e&&a?.height<369?a=t={...a,height:369}:a??={width:440,height:e?369:320,leftWidthPct:45}}let af=l.memo(function(){let e=(0,r.d4)(aE),t=(0,j.HS)(),{selectedInteractions:n}=(0,j.Ay)(t),a=n.length>0,[i,o]=l.useState(!1),s=b.v_(en.dJ,"keydown",t=>"Shift"!==t.key?b.aH:(o(!0),e&&a)?void 0:b.aH),c=b.v_(en.dJ,"keyup",t=>"Shift"!==t.key?b.aH:(o(!1),e&&a)?void 0:b.aH);if(l.useEffect(()=>(document.addEventListener("keydown",s),document.addEventListener("keyup",c),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",c)}),[s,c]),!e||!a)return null;let d=n.some(e=>e.actions?.some(e=>"CONDITIONAL"===e.connectionType));return l.createElement(ag,{category:t,containsConditional:d,pressingShiftKey:i,initialX:e.initialX,initialY:e.initialY,shouldPin:e.shouldPin,setPressingShiftKey:o})}),ag=l.memo(function({category:e,containsConditional:t,pressingShiftKey:n,initialX:c,initialY:p,shouldPin:v,setPressingShiftKey:I}){let A=(0,r.wA)(),[B,K]=l.useState(!1),[,U]=(0,E.fp)(ar.x),z=(0,l.useRef)(null),[H,V]=l.useState(!1),G=v||B,W=(0,T.GS)(),Y=(0,en.YT)(),X=Y===en.Oz.SINGLE_COL,q=Y===en.Oz.TWO_COL,[Q,$]=l.useState(new tL.Op(W?[0]:[])),{selectedInteractions:ee,differentLengthActions:et,interactionsOnSelectedNodesAndComponents:ea,mergedActions:el,detailProps:er,detailPropsMultipleActions:ei,updateSelectionProperties:eo}=(0,j.Ay)(e);var es=Q.path.length>0?Q:new tL.Op([0]);let ec=es.isConditional(),ed=(e,t)=>es=new tL.Op(e);W&&es.path[0]>=el.length&&!ec?ao(Q,el,ed):W&&ec&&ai(Q,el,ed);let eu=l.useCallback((e,t)=>{t?$(new tL.Op(e)):$(new tL.Op([]))},[]);l.useEffect(()=>{if((0,g.vA)(el.length>0,"the interactions panel should always have actions if rendered"),!W)return;let e=Q.isConditional();if(e){if(e){ai(Q,el,eu);return}}else{ao(Q,el,eu);return}},[el,Q,W,eu]);let{shouldShowAdvancedPrototypingPaywall:em,showAdvancedPrototypinglMultipleActionsModal:ep}=(0,en.zt)(),{showPanel:ef,transition:eg}=(0,en.n6)(er,ei,ee),eh=(0,en.iC)(ee);var e_=[];q?el.forEach((e,t)=>{"CONDITIONAL"===e.connectionType&&e_.push(new tL.Op([t]))}):el.length<4&&el.forEach((e,t)=>{e_.push(new tL.Op([t]))});let[eE,ey]=l.useState(e_),ev=l.useRef(null),eb=n&&!G&&!H,ew=(0,h.jz)(as.prototypeInteractionModalWidth),eN=(0,h.jz)(as.prototypeInteractionModalExpandedWidth),ex=ap(ef).width,ek=t?eN:ew;q&&(ek=ex);let[eI,eC]=l.useState(v),eS=(0,P._X)({subscribeToUpdates_expensive:!v}),eA=l.useCallback(()=>{B||(A((0,D._P)({name:"prototype_interaction_details_modal_dragged"})),K(!0))},[A,B,K]),eP=l.useMemo(()=>{let e=new w.Mi(c,p);if(v)return q?new w.Mi(e.x-(ex-ew),e.y):t?new w.Mi(e.x-(eN-ew),e.y):e;{let t=(0,P.$g)(eS,e);return new w.Mi(t.x-ek/2,t.y+30)}},[ek,c,p,t,v,eS,q,eN,ew,ex]);l.useEffect(()=>{if(!n)return;let e=e=>{!e.shiftKey&&n&&I(!1)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[n,I]),l.useEffect(()=>{U(eb)},[U,eb]),l.useEffect(()=>{eC(v)},[v]),l.useEffect(()=>()=>{A((0,D._P)({name:"prototype_interaction_details_modal_closed"}))},[A]);let eL=l.useRef(null),[eO,eD]=l.useState(!1);l.useEffect(()=>{eO&&(eD(!1),eL.current?.scrollToBottom())},[eO,eD,eL]);let[eM,eR]=l.useState(new tL.Op([])),eF=(0,O.q5)(),eB=l.useCallback((e,t)=>{let n=e.event.clipboardData||window.clipboardData;switch(t){case M.zy.COPY:case M.zy.CUT:{let a=JSON.parse(JSON.stringify(ee)),l=(0,al.l)(a),r=S.fG(eF?.key||null,{prototypeInteractions:l});if(S.C4(n,r,""),t===M.zy.CUT){let e=[];for(let t of ee){let{sourceNodeID:n,id:a}=t;n&&a&&e.push(y.d({nodeID:n,interactionID:a}))}u.l7.user("delete-prototype-interactions",()=>d.glU.deleteInteractions(e)),C.Y5.deselectProperty()}e.accept()}}},[eF?.key,ee]),eK=l.useRef(!1),[eU,ez]=l.useState(!1),{firstVariableSetMode:eH,firstVariableSetID:eV}=e4(),eG=(0,L.p8)("currentPage"),eW=l.useCallback((e,t,n,a)=>{A((0,D._P)({name:"Prototype delete action",params:{action:e,source:"panel",connector_id:t,page_id:n,actionInConditionalAction:a}}))},[A]),eY=l.useCallback(e=>{if(ea&&ee){var t=!1,n=!1;if(em)ep();else{for(let r=0;r<ee?.length;r++){let i=ee[r],o=[];if(i&&i.actions){var a=0,l=[];for(let r=0;r<i.actions.length;r++){let s=i.actions[r];if(r!==e)void 0!==eE.find(e=>e.equals([r]))&&l.push(new tL.Op([a])),o.push(s),a++;else{let e=i.id?i.id:m.Hr;eW(s.connectionType?s.connectionType:"NONE",(0,m.dI)(e),eG),r===i.actions.length-1&&(t=!0),2===i.actions.length&&(n=!0)}ey(l)}ee[r].actions=o}}let r=ea.map(e=>ee.find(t=>t.id===e.id)??e);C.Y5.updateSelectionProperties({prototypeInteractions:r}),n&&W&&ey([new tL.Op([0])]),t&&q&&$(new tL.Op([e-1]))}}},[ea,ee,em,ep,eE,eG,eW,q,W]),eX=l.useCallback(e=>{if(!ea||!ee)return;let t=e.isConditional();if(em)ep();else if(t){var n=!1,a=!1;let[t,c,d]=e.path;for(var l=[],r=0;r<ee.length;r++){let e=ee[r],u=e.actions;if(u){for(var i=[],o=0;o<u.length;o++)if(o!==t||"CONDITIONAL"!==u[o].connectionType)i.push(u[o]);else{var s=u[o].conditionalActions;if(!s)continue;let t=s.map((t,l)=>{if(l!==c)return t;{let l=t.actions;if(!l)return t;let r=l[d];if(r){let t=e.id?e.id:m.Hr;eW(r.connectionType?r.connectionType:"NONE",(0,m.dI)(t),eG,!0)}let i=l.filter((e,t)=>t!==d);return n=l&&d===l.length-1,a=0===i.length,{...t,actions:i}}});u[o].conditionalActions=t,i.push(u[o])}e.actions=i,l.push(e)}}C.Y5.updateSelectionProperties({prototypeInteractions:l}),a?$(new tL.Op([e.path[0]])):!a&&n&&$(new tL.Op([e.path[0],c,d-1]))}else eY(e.path[0]);document.activeElement?.blur()},[ea,ee,em,ep,eY,eG,eW]),ej=l.createElement(N.P,{className:q?"prototype_interaction_edit_modal--ui3TwoColScrollContainer--IWuQ4":n5,useBottomPinning:!q,ref:eL,allowScrollAndZoomOver:!0,"data-not-draggable":!0},(0,_.kc)().prototype_ai_auto_adv_proto&&l.createElement(J,null),l.createElement(aa,{shouldHideTitle:!0,recordingKey:q?b.Pt("leftCol",en.dJ):en.dJ,category:e,autoOpenVariablePicker:eK,newActionIndexPath:eM,resetNewActionIndexPath:()=>{eR(new tL.Op([]))},onNewActionAdded:e=>{eR(e)},selectedActionIndex:Q,onSelect:eu,expandedRows:eE,setExpandedRows:ey,deleteButtonPressed:eY,autoOpenExpressionBuilder:eU,setAutoOpenExpressionBuilder:ez})),eq=1===ee.length,eQ=ee[0],eJ=eQ.actions&&eQ.actions.length<2,eZ=eQ.actions&&1===eQ.actions.length&&eQ.actions[0],e$=!eZ||"NONE"===eZ.connectionType,e0=eq&&eJ&&e$;var e1=m.Hr;let e2=l.createElement(tU,{skipPaywall:e0,addButtonPressed:e=>{if(!ee)return;if(("CONDITIONAL"===e.connectionType||"SET_VARIABLE"===e.connectionType||"SET_VARIABLE_MODE"===e.connectionType)&&em){ep();return}"SET_VARIABLE_MODE"===e.connectionType&&(e.targetVariableSetID=eV,e.targetVariableModeID=eH),"SET_VARIABLE"===e.connectionType&&eK&&(eK.current=!0),W&&"CONDITIONAL"===e.connectionType&&ez(!0);let t=!1;var n=null,a=W&&!et&&!e0&&ee[0].actions&&1===ee[0].actions.length;if(et||e0)for(var l=0;l<ee.length;l++){let t=ee[l];t.actions=[e];let n=t.id,a=t.sourceNodeID;(0,en.uU)(t.stateManagementVersion)&&n&&a&&np.zZ.recordInteractionUpgraded(n,a),t.stateManagementVersion=1}else for(var l=0;l<ee.length;l++){let a=ee[l];if(a.actions){if((0,en.uU)(a.stateManagementVersion)&&(a.id&&a.sourceNodeID&&np.zZ.recordInteractionUpgraded(a.id,a.sourceNodeID),a.actions?.forEach(e=>{e.transitionResetScrollPosition=!e.transitionPreserveScroll})),q){if(Q.isConditional()){let n=Q.path[0],l=Q.path[1],r=Q.path[2],i=a.actions?.[n],o=i.conditionalActions?.[l].actions?.length??0;n===a.actions.length-1&&r===o-1&&(t=!0),i.conditionalActions?.[l].actions?.splice(r+1,0,e)}else{let n=Q.path[0]+1;n===a.actions.length&&(t=!0),a.actions?.splice(n,0,e)}}else a.actions?.push(e);e1=a.id?a.id:m.Hr}else a.actions=[e],e1=a.id?a.id:m.Hr;if(a.stateManagementVersion=1,q){let e=[...Q.path];e[e.length-1]+=1,n=new tL.Op([...e])}else n=new tL.Op([a.actions.length-1])}let r=ea.map(e=>ee.find(t=>t.id===e.id)??e);if(C.Y5.updateSelectionProperties({prototypeInteractions:r}),a||q){var i=[];r[0].actions?.forEach((e,t)=>{"CONDITIONAL"===e.connectionType&&i.push(new tL.Op([t]))}),ey(i)}eD&&(!q||t)&&eD(!0),eR&&eR(n),A((0,D._P)({name:"Prototype add action",params:{action:e.connectionType?e.connectionType:"NONE",source:"panel",connector_id:(0,m.dI)(e1),page_id:eG}}))},renderButton:!0,recordingKey:en.dJ,isNestedInConditional:q&&Q.isConditional()}),e3=ee.some(e=>void 0!==e.actions&&e.actions?.length>1),e5=!Q.isConditional()&&!e3,e7=l.createElement(i.K,{onClick:()=>eX(Q),"aria-label":(0,k.t)("proto.prototype_panel.delete"),disabled:e5,recordingKey:b.Pt(en.dJ,"actionDeleteButton"),htmlAttributes:{"data-tooltip":(0,k.t)("proto.prototype_panel.delete"),"data-tooltip-type":R.Ib.TEXT}},l.createElement(x.U,{svg:nK.A},l.createElement(s.O,null))),e8=l.createElement("div",{className:"prototype_interaction_edit_modal--ui3FooterContainer--oYsXM"},e2," ",e7),e6=l.createElement(eT.c.Provider,{value:eT.P.LEFT},l.createElement("div",{className:q?"prototype_interaction_edit_modal--ui3InteractionsPanelContentLeftResizable--16pLu":"prototype_interaction_edit_modal--ui3InteractionsPanelContentLeft--UYWSG",ref:ev,style:q?{width:`${ap(ef).leftWidthPct}%`}:void 0},l.createElement(n3,{category:e,recordingKey:en.dJ,headerButtons:l.createElement(l.Fragment,null)}),l.createElement("div",{className:n8}),ej,l.createElement("div",{className:n8}),l.createElement(l.Fragment,null,e8))),e9=el.length>0?l.createElement(eT.c.Provider,{value:eT.P.RIGHT},l.createElement(N.P,{allowScrollAndZoomOver:!0,"data-not-draggable":!0,className:q?"prototype_interaction_edit_modal--ui3ScrollContainerRight--LJr-n":void 0},l.createElement(ah,{selectedActionIndex:es,handleExpandUI3:(e,t)=>{!t&&el.length>1?ey(eE.filter(t=>!t.equals(e))):eE.find(t=>t.equals(e))||ey([...eE,new tL.Op(e)])},autoOpenVariablePicker:eK,autoOpenExpressionBuilder:eU,setAutoOpenExpressionBuilder:ez}))):null,te=l.useRef(au),[,tt]=(0,o.i)({disabled:!q,onDragStart(){ev.current&&(te.current=ev.current.getBoundingClientRect().width)},onDrag(e){if(ev.current&&te.current){let t=ap(ef),n=te.current+e.delta.x,l=n/t.width*100;n<au?l=au/t.width*100:l>am&&(l=am),ev.current.style.width=`${l}%`,a={...t,leftWidthPct:l}}}}),tn=q?l.createElement("div",{className:"prototype_interaction_edit_modal--ui3TwoColPanelContainer--e8MK8"},l.createElement("div",{className:"prototype_interaction_edit_modal--ui3TwoColInnerContainer--ZvJj2"},e6,l.createElement("div",{className:"prototype_interaction_edit_modal--dividerVertical--Noi1C"},l.createElement("div",{...tt({className:"prototype_interaction_edit_modal--verticalResizeHandle--xkc8V"})})),e9),ef&&l.createElement(at,{transition:eg,recordingKey:b.Pt(en.dJ,"stateManagementVersionPanel"),updateSelectionProperties:eo,stateManagementVersion:eh,selectedInteractions:ee})):ej;return l.createElement(Z.ht.Provider,{value:l.useMemo(()=>({autoCloseOnScroll:!G}),[G])},l.createElement(F.vL,{name:"Prototype Draggable modal",className:"prototype_interaction_edit_modal--prototypeDraggableModal--njJ6A",handleClipboard:eB},l.createElement(nl.vx,{ref:z,dataTestId:"in-context-prototype-interaction-edit-modal",title:t=>l.createElement("div",{className:"prototype_interaction_edit_modal--onboardingRow--UlvE0"},l.createElement(a_,{category:e,recordingKey:en.dJ,createActionTrigger:e2,closeButton:t})),containerClassName:f()({[n5]:!q,[n4]:q,[n7]:X,"prototype_interaction_edit_modal--abovePropertiesPanel--hFejC":eI,"prototype_interaction_edit_modal--belowPropertiesPanel--f1Jfl":!eI,"prototype_interaction_edit_modal--modalExpandedWidth--IDl6k":t&&!W,"prototype_interaction_edit_modal--modalWidth--cCH7B":!t&&!W,"prototype_interaction_edit_modal--hideModal--RSp-R":eb}),contentContainerClassName:f()({[n5]:!q,[n4]:q,[n7]:X}),headerClassName:"prototype_interaction_edit_modal--multilineInteractionDetailsHeader--OE8Wr",allowWheelPassthrough:!0,initialPosition:eP,headerSize:"small",onClose:ad,recordingKey:"interactionDetailsModal",arrowPosition:v?void 0:nl.F_.TOP,arrowRelativeX:v?void 0:ek/2,onDragStart:()=>{eC(!0),eA()},canRenderBelowViewport:!0,allowAutoExpanding:!0,dragHeaderOnly:!0,onFocus:()=>V(!0),allowResizeHeight:q,allowResizeWidth:q,fullFrame:q,minWidth:q?440:void 0,minHeight:q?ef?369:320:void 0,maxWidth:q?800:void 0,maxHeight:q?800:void 0,initialHeight:q?ap(ef).height-nl.uF:void 0,initialWidth:q?ap(ef).width:void 0,onResize:q?e=>{a={...ap(ef),height:e.height,width:e.width}}:void 0},W?tn:ej)))});function ah({selectedActionIndex:e,autoOpenVariablePicker:t,handleExpandUI3:n,autoOpenExpressionBuilder:a,setAutoOpenExpressionBuilder:r}){let i=(0,j.HS)(),{selectedInteractions:o,mergedActions:s,makeUpdateSelectionPropertiesForActionIndex:c,makeUpdateMultipleDestinationNodesForActionIndex:d,detailPropsMultipleActions:u}=(0,j.Ay)(i),m=e.path[0],p=d(m),f=c(m),g=(0,en.iC)(o),h=u.interactionEvent.interactionType??"NONE";if(e.isConditional()){let n=e.path[1],i=e.path[2],c=s[m],d=((0,A.hS)(c.conditionalActions)&&c.conditionalActions?c.conditionalActions:[])[n],u=d.actions?.[i];return u?l.createElement("div",{className:n6},l.createElement(nz,{key:i,updateMultipleDestinationNodes:p.appendActionIndex(n).appendActionIndex(i),action:u,recordingKey:b.Pt(en.dJ,en.Qe,en.eG,m),updateSelectionProperties:f.appendActionIndex(n).appendActionIndex(i),onDeleteAction:v.lQ,interactionType:h,actionIndexPath:e.path,numActions:s.length,isNestedInConditional:!0,stateManagementVersion:g,selectedInteractions:o,onDrop:v.lQ,onSelect:v.lQ,onExpand:v.lQ,selectedActionIndex:e,expandedRows:[e],autoOpenVariablePicker:t,autoOpenExpressionBuilder:a,setAutoOpenExpressionBuilder:r,isNarrowPanel:!0})):null}return l.createElement("div",{className:n6},l.createElement(nz,{key:m,updateMultipleDestinationNodes:p,action:s[m],recordingKey:b.Pt(en.dJ,en.Qe,en.eG,m),updateSelectionProperties:f,onDeleteAction:v.lQ,interactionType:h,actionIndexPath:[m],numActions:s.length,isNestedInConditional:!1,stateManagementVersion:g,selectedInteractions:o,onDrop:v.lQ,onSelect:v.lQ,onExpand:n,selectedActionIndex:e,autoOpenVariablePicker:t,expandedRows:[e],autoOpenExpressionBuilder:a,setAutoOpenExpressionBuilder:r,isNarrowPanel:!0}))}function a_({category:e,recordingKey:t,closeButton:n,createActionTrigger:a}){let o=(0,r.wA)(),{selectedInteractions:s}=(0,j.Ay)(e),u=(0,en.YT)(),m=u===en.Oz.TWO_COL,p=u===en.Oz.SINGLE_COL,f=(()=>{if(1!==s.length)return 0;let e=s[0],t={nodeID:e.sourceNodeID,interactionID:e.id};return d.X3B.getMatchingInteractions(y.d(t)).length})(),g=(0,_.kc)().prototype_hide_matching_noodles&&1===s.length&&f>1&&l.createElement(i.K,{actionOnPointerDown:!0,onClick:()=>{if(1!==s.length)return;let e=s[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=d.X3B.getMatchingInteractions(y.d(t));d.glU.selectInteractionsAndSourceNodes(n);let a=(0,k.t)("proto.interaction_details.visual_bell.selected_n_matching_interactions",{total_num_interactions:n.length});C.Y5.showVisualBellWithUndo("selected-matching-noodles",a,!1),o((0,D._P)({name:"prototype_select_matching_interactions",params:{num_connectors:n.length}}))},"aria-label":(0,k.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:f}),htmlAttributes:{tabIndex:-1,onMouseEnter:()=>{if(1!==s.length)return;let e=s[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=d.X3B.getMatchingInteractions(y.d(t));d.glU.hoverInteractions(n)},onMouseLeave:()=>d.glU.hoverInteractions([]),"data-tooltip":(0,k.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:f}),"data-tooltip-type":R.Ib.TEXT}},l.createElement(x.U,{svg:ac.A},l.createElement(c.A,null))),h=l.createElement(n3,{category:e,recordingKey:t,headerButtons:l.createElement(l.Fragment,null,g,a,n)}),E=l.createElement("div",{className:"prototype_interaction_edit_modal--ui3ExpandedModalHeader--Ka7aM"},(0,k.tx)("proto.interaction_details.header"),l.createElement("div",{className:"prototype_interaction_edit_modal--ui3ExpandedModalHeaderButtons--UqykU"},g,n)),v=l.createElement(l.Fragment,null,(0,k.tx)("proto.interaction_details.header"),l.createElement("div",{className:"prototype_interaction_edit_modal--ui3CollapsedModalHeaderButtons--7yPuD"},g,a,n));return m?E:p?v:h}let aE=e=>e.pickerShown?.id===I.o$?e.pickerShown:null},304657:(e,t,n)=>{let a,l,r,i;n.d(t,{k:()=>O});var o=n(411855),s=n(188507),c=n(243742),d=n(752553),u=n(572206),m=n(47506),p=n(941381),f=n(225266),g=n(738269),h=n(902139),_=n(672517),E=n(809831),y=n(728325),v=n(813648),b=n(318812),w=n(239671),N=n(231472),x=n(992303),k=n(384775),I=n(818198),T=n(760445),C=n(76158),S=n(746806),A=n(360934),P=n(908198),L=n(848187);function O(){let e=(0,s.d4)(e=>e.universalInsertModal),t=(0,s.d4)(e=>e.mirror.appModel.showUi),{fdPreviewResource:n,initialFdView:O,initialFdResourceTab:M}=e,R=n?.type,{activeTab:F,setCurrentViewOrTab:B,currentView:K}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,s.d4)(e=>e.universalInsertModal),[n,a]=o.useState(e||l||C.s.COMPONENT),[c,d]=o.useState(e===C.s.PLUGIN&&t||r||"recents_and_saved"),[u,m]=o.useState(e===C.s.WIDGET&&t||i||"recents_and_saved"),p=o.useCallback(e=>{e===C.s.PLUGIN?r=c:e===C.s.WIDGET&&(i=u)},[c,u]),f=n===C.s.PLUGIN?c:u,g=o.useCallback(({newView:e,newTab:t})=>{let r=t===C.s.PLUGIN?c:t===C.s.WIDGET?u:void 0;e&&r!==e&&(p(n),(t||n)===C.s.PLUGIN?d(e):(t||n)===C.s.WIDGET&&m(e)),t&&n!==t&&(p(n),l=n,a(t))},[n,c,u,p]);return o.useEffect(()=>{g({newView:t,newTab:e})},[e,t]),o.useEffect(()=>{l=n,p(n)},[n,p]),o.useMemo(()=>({activeTab:n,currentView:f,setCurrentViewOrTab:g}),[n,f,g])}(),U="ui3"===(0,c.DP)().version,z=(0,s.wA)(),H=o.useRef(null),[V]=o.useState(O?"":a||"");o.useEffect(()=>{(0,m.YQ)({id:"figma-inserts-opened"}),(0,m.YQ)({id:x.ko})},[]);let G=(0,k.Au)();o.useEffect(()=>{G&&z(h.eo())}),o.useEffect(()=>{a=V},[V]),o.useEffect(()=>z(f.aq()),[z]),(0,d.IT)((0,p.se)()),(0,d.IT)((0,p.fd)()),o.useEffect(()=>{B({newTab:R||M})},[M,R]);let W=(0,E.E3)(),[Y,X]=o.useState(),j=U?T.tS:T.Zv;(0,v.J$)(e.pinned===N.t.NOT_PINNED,H,j);let q=(0,T.CK)(),Q=(0,T.CG)(),{bounds:J,showLeftPinBound:Z,setShowLeftPinBound:$,shouldSnapToPosition:ee,setPinned:et}=(0,I.C)(D,X,e.pinned,q,Q,e.showing),en=(0,v.LR)(),ea=(0,b.Um)(),el=o.useCallback(e=>{e.stopPropagation(),ea&&z(g.oB())},[z,ea]),er=o.useMemo(()=>({activeTab:F,viewResource:e=>{z(h.IN({fdPreviewResource:e}))},closeResource:()=>{z(h.IN({fdPreviewResource:void 0}))},closeModal:en,pinModal:et,setCurrentViewOrTab:B,currentView:K}),[F,en,et,z,B,K]),ei=o.useCallback(e=>{y.VU.get("set-tool-default","toolbar")(),z(h.jy({pinned:N.t.PINNED})),el(e)},[z,el]),eo=o.useCallback(()=>{Z&&et()},[Z,et]);if(!e.showing)return null;let es={height:"auto",overflow:"hidden"};return(e.pinned!==N.t.NOT_PINNED||U||(es.borderTopLeftRadius="0px"),W===w.nT.DevHandoff)?null:o.createElement(_.fu,{name:"universal-insert"},e.pinned===N.t.PINNED&&Z&&o.createElement("div",{className:P.kV,style:{left:q.x,top:q.y,width:T.AN}}),o.createElement(T.B0.Provider,{value:er},o.createElement(S.vx,{initialPosition:Y||new u.Mi(e.initialX,e.initialY),initialWidth:T.AN,bounds:J,onEnterBound:()=>{U||$(!0)},onLeaveBound:()=>{$(!1)},canResetPosition:ee,onClose:en,onDragStart:ei,onDragEnd:eo,minTopMargin:t?void 0:0,onClick:el,ref:H,containerClassName:e.pinned===N.t.PINNED_AND_DOCKED_LEFT?L.gC:L.jT,frameStyle:es},o.createElement(A.z,null))))}function D(){return{x:-T.AN,y:0,width:2*T.AN+T.wR,height:window.innerHeight}}},360934:(e,t,n)=>{let a;n.d(t,{z:()=>tH});var l=n(411855),r=n(188507),i=n(629019),o=n.n(i),s=n(126049),c=n(374626),d=n(498750),u=n(268537),m=n(723325),p=n(355819),f=n(32863),g=n(470504),h=n(939863),_=n(582064),E=n(86538),y=n(738269),v=n(672517),b=n(756085),w=n(779709),N=n(813648),x=n(318812),k=n(694687),I=n(4564),T=n(555328),C=n(498606),S=n(507956),A=n(298543),P=n(227795),L=n(538697),O=n(205698),D=n(667167),M=n(271245),R=n(632430),F=n(416095),B=n(113916),K=n(664457),U=n(225373),z=n(28630),H=n(760445);function V(e){let t=(0,r.wA)(),n=(0,r.Pj)(),a=(0,r.d4)(z.m),i=(0,r.d4)(e=>(0,B.Br)(e)),o=l.useRef(null),s=(0,H.NF)(H.gC+H.Kr+H.Ix);l.useEffect(()=>{(async()=>{if(t((0,M.zK)()),i){await F.NW;let{fileVersion:e}=n.getState();i&&e&&!(0,F.hH)(i)&&(0,R.iG)(n,i)}})()},[t,i,n]);let[c,d]=l.useState(!1);return l.createElement("div",null,e.header,l.createElement("div",{"data-not-draggable":!0},l.createElement(U.LL,{selectedItems:a?[a]:[],scrollContainerHeight:s,recordingKey:"componentInsert",toggleGridViewButton:l.createElement(U.Cc,{isSwapPicker:!1}),pickerType:D.Zl.RESOURCE_INSERT_MODAL,searchBarRef:o,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},isSearching:c,setIsSearching:d,entrypointForLogging:null}),l.createElement(K.Q,null)))}var G=n(966712),W=n(812115),Y=n(946689),X=n(493323),j=n(163023),q=n(408552),Q=n(17284),J=n(472353);n(837324);var Z=n(269167),$=n(860178);n(239671),n(407844),n(164795);var ee=n(376272),et=n(471174);function en({resource:e}){let t=(0,r.d4)(e=>e.authedActiveCommunityProfile),n=(0,$.iZ)(),a=(0,Z.ej)(e);return l.createElement("div",{className:ee.I4,"data-not-draggable":!0},l.createElement("div",{className:ee.QW},l.createElement(j.B,{svg:et.A})),l.createElement("div",{className:ee.hI},(0,h.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),l.createElement("div",{className:ee.JL},l.createElement("button",{onClick:()=>{(0,J.mG)(e,T.aL.INSERTS,n.id,t?.id),a()}},(0,h.tx)("community.buyer.update_payment"))))}var ea=n(166521);n(981952),n(988652),n(708071);var el=n(697551);n(746806),n(488578),n(63666);let er="rating_stats_data--averageStar--YdqTY";function ei({isHovered:e}){return l.createElement("span",{className:er,"aria-label":(0,h.t)("community.detail_view.full_star")},l.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function eo(){return l.createElement("span",{className:er,"aria-label":(0,h.t)("community.detail_view.empty_star")},l.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let es="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var ec=n(610253),ed=n(13033);function eu({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:a=!0,isOptional:r=!1,disabled:i=!1,disabledTooltip:o}){let[s,c]=(0,l.useState)(0),[d,u]=(0,l.useState)(0),[m,p]=(0,l.useState)(!1),f=[(0,h.t)("community.star_ratings.i_really_dont_like_it"),(0,h.t)("community.star_ratings.i_dont_like_it"),(0,h.t)("community.star_ratings.its_okay"),(0,h.t)("community.star_ratings.i_like_it"),(0,h.t)("community.star_ratings.i_love_it")];(0,l.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let _=a?l.createElement(j.B,{svg:ec.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):l.createElement(eo,null),E=a?l.createElement(j.B,{svg:ed.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,h.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):l.createElement(ei,{isHovered:m}),y=e=>{i||(c(e+1),p(!0))},v=t=>{i||(t+1===d&&r?(u(0),e(0)):(u(t+1),e(t+1)))};return l.createElement("div",{className:a?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},l.createElement("div",{className:i?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{i||d===s||c(d)},"data-tooltip-type":i?C.Ib.TEXT:void 0,"data-tooltip":i?o:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(l.createElement("span",{className:g.cx.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>y(t),onMouseLeave:()=>p(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:_));return e})()),l.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},l.createElement(l.Fragment,null,n&&l.createElement("div",{className:a?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":es},f[s-1]),r&&0===s&&l.createElement("div",{className:es},i?(0,h.tx)("community.rating_review.ratings_not_available"):(0,h.tx)("community.rating_review.optional")))))}function em({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:a,openRatingModal:r}){return l.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},l.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?l.createElement("div",{onClick:()=>r(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,h.tx)("community.detail_view.edit_rating")):(0,h.tx)("community.detail_view.leave_a_rating")),l.createElement(eu,{onSelect:r,existingRating:e?.ratingValue,disabled:n,disabledTooltip:a}))}var ep=n(466636),ef=n(545941),eg=n(941381),eh=n(970516),e_=n(469757),eE=n(641638),ey=n(441088),ev=n(154026),eb=n(328570),ew=n(215822),eN=n(928491),ex=n(350913),ek=n(319285),eI=n(927206),eT=n(552993),eC=n(16774),eS=n(647173);function eA({onBack:e,text:t}){let n=(0,S.ks)();return l.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},l.createElement(j.B,{"data-not-draggable":!0,svg:eS.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!n&&l.createElement(H.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eP=n(632788),eL=n(76158),eO=n(228302),eD=n(76154);let eM="detail_view--ratingSelectorContainer--zbvCM";var eR=n(270951),eF=n(362679),eB=n(13556),eK=n(949554);function eU(e){let t=(0,r.wA)(),{activeTab:n}=(0,H.IT)(),a=n===eL.s.PLUGIN,i=(0,b.cW)(),o=(0,b.ZT)(),s=(a?i:o)[e.resourceId];return(l.useEffect(()=>{s&&s.community_publishers||t(eg.af({id:e.resourceId,resourceType:a?T.bD.PLUGIN:T.bD.WIDGET}))},[t,s,e.resourceId,a]),s)?l.createElement(ez,{resourceId:e.resourceId,resource:s}):l.createElement("div",{className:g.cx.flex.wFull.borderBox.justifyCenter.pt32.$},l.createElement(X.kt,{size:"medium"}))}function ez(e){let{resource:t}=e,{activeTab:n}=(0,H.IT)(),a=n===eL.s.PLUGIN,i=(0,r.wA)(),s=(0,S.ks)(),c=(0,b.JI)(),d=(0,x.Um)(),u=(0,H.NF)((0,ey.T)()?H.gC+64:H.gC),m=(0,r.d4)(e=>e.authedUsers),f=(0,Z.EO)(t),_=(0,Z.lt)(t),E=(0,Z.gn)(t),w=(0,ep.QQ)(_),N=(0,r.d4)(e=>e.authedActiveCommunityProfile),I=(0,eC.b)(),A=(0,k.sZ)(),L=(0,b.ll)(),O=(0,b.U6)(),D=Object.values((0,b.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:M,onInsertableResourcePointerDown:R}=(0,eb.P)({resource:(0,ew.uF)(t),clickToInsert:!0,afterSuccessfulInsert:I,triggeredFrom:"universal-insert"}),{canRate:F=!1}={},B=l.useCallback(()=>{i(eh.Pv({url:a?(0,ex.ab)(e.resourceId):(0,ex.ox)(e.resourceId),extensionType:a?"plugin":"widget"}))},[i,e.resourceId,a]),K=a&&d?.type===eP.yW&&d.data.pluginId===e.resourceId&&d.data.targetRect,U=l.useCallback(t=>{t.stopPropagation(),a&&(K?i(y.oB()):i(y.j7({type:eP.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[a,K,i,e.resourceId]),z=l.useCallback(()=>{i(y.oB())},[i]);if(!t)return null;t.community_resource_payment=_;let V=(0,ew.uF)(t),Y=(0,Z.Zk)(N,m,t),X=(0,ew.og)({canAssociatedUserPurchaseThisResource:Y,resource:t}),j=!D&&(0,eE.XV)({org:A,extension:t,allowlistedExtensions:a?L:O}),J=a?l.createElement(eD.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):l.createElement(eD.GJ,{widgetId:e.resourceId});return l.createElement(v.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:a?T.bD.PLUGIN:T.bD.WIDGET,isMonetized:(0,T.m3)(t),editorType:"figma"}},l.createElement(eH,null),l.createElement(p.P,{height:u,onScroll:z,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},l.createElement("div",{className:"detail_view--contentContainer--nSBG8"},l.createElement("div",{className:(0,ey.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},l.createElement("div",{className:(0,ey.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},l.createElement("img",{className:o()([(0,ey.T)()?"detail_view--coverImageVsCode--ZtGDB":a?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",g.cx.if((0,ey.T)(),g.cx.bRadius5).$]),src:V.redirect_cover_image_url||"",alt:`${V.name}`,onPointerDown:e=>!a&&R(e),role:"presentation"}),l.createElement(ev.E,{dragState:M})),E&&l.createElement(eI.cu,null),X&&!E&&!w&&l.createElement(en,{resource:t}),l.createElement("div",{className:(0,ey.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},l.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},V.name),(0,q.$3)({resource:t,height:"16",validBadges:[q.op.PURCHASED],authedActiveCommunityProfile:N})||l.createElement(Q.I,{badges:t.badges,height:"16",hideTooltip:!0})),l.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&l.createElement(l.Fragment,null,l.createElement(eN.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,H.kB)(t)))),(!s||c)&&l.createElement("div",{className:"detail_view--actionsRow--sAwdf"},l.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},f&&!(0,G.kc)().community_hub_admin_reviewer?l.createElement(ea.I,{resource:t,context:T.aL.INSERTS,payment:_}):j?l.createElement(eO.s,{version:V,isPlugin:a}):J),l.createElement("div",{className:g.cx.ml8.flex.itemsCenter.$},l.createElement(eT._W,{resourceId:e.resourceId,resourceType:a?T.vt.PLUGIN:T.vt.WIDGET,parentView:eT.nN.DETAIL})),s&&(0,ew.Th)(V,A,L)?l.createElement(l.Fragment,null,l.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},l.createElement(P.K0,{svg:eF.A,fallbackSvg:eB.A,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.more_options"),onClick:U,className:"detail_view--moreOptionsIcon--najos"})),K&&l.createElement(eP.Gq,{resourceId:e.resourceId,plugin:V,resourceType:a?T.vt.PLUGIN:T.vt.WIDGET})):l.createElement(P.K0,{svg:eK.A,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.copy_link"),onClick:B,className:"detail_view--copyLinkIcon--PFKiL"})),l.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),l.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},l.createElement(ek.f,{resource:t})),l.createElement("div",{className:eM},F&&(0,ef.Ul)(t)&&l.createElement("div",{className:eM},l.createElement(em,{openRatingModal:e=>{},isInsertsModal:!0}))),l.createElement(W.R,{fallback:null,errorFallback:null,value:V.description})))),l.createElement(eV,{resourceId:e.resourceId})))}function eH(){let{closeResource:e,activeTab:t}=(0,H.IT)();return l.createElement(eA,{onBack:e,text:t===eL.s.PLUGIN?(0,h.tx)("universal_insert.plugin"):(0,h.tx)("universal_insert.widget")})}function eV(e){let{activeTab:t}=(0,H.IT)(),n=t===eL.s.PLUGIN?"plugin":"widget",{href:a,onClick:r}=(0,e_.y)(`/community/${n}/${e.resourceId}`);return l.createElement(l.Fragment,null,l.createElement(Y.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:a,onClick:r,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},l.createElement(j.B,{svg:eR.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,h.tx)("universal_insert.see_more_details_in_community")),l.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var eG=n(175290),eW=n(983405),eY=n(553015),eX=n(896474),ej=n(809840),eq=n(933464),eQ=n(908341);function eJ({isDesktop:e}){return l.createElement(eW.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},l.createElement(j.B,{svg:eQ.A,className:g.cx.colorIconSecondary.pb24.$,autosize:!0,height:(0,ey.T)()?"64px":void 0}),l.createElement(eZ,{isDesktop:e}))}function eZ({isDesktop:e}){let t={learnMoreLink:l.createElement("a",{href:"https://www.figma.com/plugin-docs",target:"_blank",className:g.cx.cursorPointer.font11.colorTextBrand.$},(0,h.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return l.createElement(l.Fragment,null,e?l.createElement(l.Fragment,null,l.createElement("div",{className:g.cx.alignCenter.$},l.createElement(ej.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.create_first_here")),l.createElement("br",null),l.createElement(ej.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))),l.createElement(e$,null)):l.createElement("div",{className:g.cx.alignCenter.$},l.createElement(ej.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),l.createElement("br",null),l.createElement(ej.E,{color:"secondary"},(0,h.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),l.createElement("br",null),l.createElement(ej.E,null,(0,h.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e$(){let e=(0,r.wA)(),t=(0,x.Um)(),n=t?.type===eq.kt,a=l.useCallback(t=>{n?e(y.oB()):e(y.j7({type:eq.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,n]);return l.createElement("div",{className:g.cx.pt16.$},l.createElement(eY.$,{onClick:a},l.createElement(eW.Y1,{direction:"horizontal",verticalAlignItems:"center"},l.createElement(eX.In,{icon:"plus-32"}),l.createElement(ej.E,null,(0,h.tx)("dev_handoff.inspect_panel.new_plugin")),l.createElement(eX.In,{icon:"chevron-down-32"}))),n&&l.createElement("div",null,l.createElement(eq.Pq,{resourceType:T.bD.PLUGIN})))}var e0=n(934085);function e1(){let{activeTab:e}=(0,H.IT)(),t=(0,S.$A)((0,r.d4)(e=>e.selectedView)),n=(0,b.nl)({allowNonVsCodePluginsInVsCode:!0}),a=(0,b.yQ)(),i=e===eL.s.WIDGET,o=i?a:n,s=(0,I.M)(),c=(0,b.sp)(i);return s&&(Object.keys(o).length>0||c.length>0)?l.createElement(v.fu,{name:"Development"},Object.keys(o).map((e,t)=>l.createElement(eD.ff,{resourceId:e,key:e,type:eD.R7.DEVELOPMENT,keyboardNavigationPath:[H.B6,t]})),c.map((e,t)=>l.createElement(eD.ff,{resourceId:e.id,key:e.id,type:eD.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[H.B6,Object.keys(o).length+t]}))):t?l.createElement(eG.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,ey.T)()?"start":"center"},l.createElement(eJ,{isDesktop:!!s})):l.createElement(e0.W,{isWidget:i})}var e2=n(984472),e3=n(886119),e5=n(737499),e4=n(848187);function e7(){let{activeTab:e}=(0,H.IT)(),t=(0,e5.BI)(),n=(0,S.ks)(),{href:a,onClick:r}=(0,e_.y)(`/community/${e===eL.s.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:l.createElement(Y.Ph,{className:e4.Qu,href:a,onClick:r,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},l.createElement(j.B,{svg:eR.A,className:e4.JX}),(0,h.tx)("universal_insert.browse_more_in_community"))}function e8({viewType:e,onBackPress:t}){let n=(0,H.NF)(H.gC);return l.createElement(l.Fragment,null,l.createElement(e6,{viewType:e,onBackPress:t}),l.createElement(p.P,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},l.createElement(e9,{viewType:e}),l.createElement(e7,null)))}function e6({viewType:e,onBackPress:t}){let n;let{activeTab:a}=(0,H.IT)(),r=a===eL.s.PLUGIN;return n=e===eL.Y.ORG_PRIVATE_EXPANDED_LIST?r?(0,h.tx)("universal_insert.all_internal_plugins"):(0,h.tx)("universal_insert.all_internal_widgets"):r?(0,h.tx)("universal_insert.all_approved_plugins"):(0,h.tx)("universal_insert.all_approved_widgets"),l.createElement("div",{className:e4.cB},l.createElement("div",{className:e4.kb},l.createElement(j.B,{svg:eS.A,className:e4.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),l.createElement("div",{className:e4.A_},n)),l.createElement(H.Ex,{containerClassName:e4.VN}))}function e9({viewType:e}){let t;let{activeTab:n}=(0,H.IT)(),a=(0,e3.h)("plugin"),r=(0,e3.h)("widget"),i=n===eL.s.WIDGET,o=(0,b.ll)(),s=(0,e2.bT)(Object.values(o)),c=(0,b.U6)(),d=i?Object.keys(c):s.map(e=>e.plugin_id);return t=e===eL.Y.ORG_PRIVATE_EXPANDED_LIST?l.createElement(l.Fragment,null,(i?r:a).map((e,t)=>l.createElement(eD.ff,{resourceId:e.plugin_id,type:eD.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[H.B6,t]}))):l.createElement(l.Fragment,null,d.map((e,t)=>l.createElement(eD.ff,{resourceId:e,type:eD.R7.COMMUNITY,key:e,keyboardNavigationPath:[H.B6,t]}))),l.createElement("div",{className:e4.QF},t)}var te=n(794272),tt=n(655215),tn=n(335682),ta=n(99506),tl=n(336599),tr=n(376485),ti=n(163119),to=n(26096);function ts(e){let t=(0,k.sZ)();return t?l.createElement(tc,{org:t,viewExpandedList:e.viewExpandedList}):l.createElement(X.kt,{className:e4.S})}function tc(e){let{org:t}=e,{activeTab:n}=(0,H.IT)(),a=n===eL.s.WIDGET,i=(0,e3.h)("plugin"),o=(0,e2.bT)(i),s=(0,e3.h)("widget"),c=a?s:o,d=c.length>0,u=a?t.widgets_whitelist_enforced:t.plugins_whitelist_enforced,m=a?tr.n_:tr.Gb,p=(0,tn.tS)(),f=(0,tl.mC)(m(t.id,p)),g=(0,b.ll)(),_=(0,e2.bT)(Object.values(g)).map(e=>e.plugin_id),E=(0,b.U6)(),y=l.useMemo(()=>Object.keys(E),[E]),w=(0,b.Be)(),N=(0,b.pR)(w),x=N.orgWidgets,k=N.orgPlugins,I=(0,r.d4)(e=>e.orgUsersByOrgId[t.id][e.user.id]?.permission===ta._D.GUEST),T=(0,te.R)(e=>I?{}:(0,ew.Qt)((0,ew.i8)(Object.values(e.publishedPlugins)),t.id)),S=l.useMemo(()=>{let e=Object.values(k).filter(e=>!T[e.plugin_id]);return t.plugins_whitelist_enforced&&(e=e.filter(e=>g[e.plugin_id])),e.sort(b.YW)},[g,t.plugins_whitelist_enforced,T,k]),A=(0,e2.Ol)(S);A=(0,e2.bT)(A);let L=l.useMemo(()=>A.map(e=>e.plugin_id),[A]),O=l.useMemo(()=>_.filter(e=>!k[e]),[_,k]),D=l.useMemo(()=>{let e=Object.values(x).filter(e=>!(0,tt.s7)(e,t.id));return t.widgets_whitelist_enforced&&(e=e.filter(e=>E[e.plugin_id])),e.sort(b.YW)},[x,t.widgets_whitelist_enforced,t.id,E]),M=(0,e2.Ol)(D),R=l.useMemo(()=>M.map(e=>e.plugin_id),[M]),F=l.useMemo(()=>y.filter(e=>!x[e]),[y,x]),B=a?F:O,K=a?R:L,U=d?l.createElement(l.Fragment,null,(u?c.slice(0,H.Xo):c).map((e,t)=>l.createElement(eD.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eD.R7.ORG_PRIVATE,keyboardNavigationPath:[H.B6,t]})),u&&c.length>H.Xo&&l.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eL.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:a?(0,h.t)("universal_insert.all_internal_widgets"):(0,h.t)("universal_insert.all_internal_plugins")})):l.createElement("div",{className:e4.zN},a?(0,h.tx)("universal_insert.no_internal_widgets"):(0,h.tx)("universal_insert.no_internal_plugins")),{href:z,onClick:V}=(0,e_.y)(`/community/${a?"widgets":"plugins"}`),G=u&&l.createElement(l.Fragment,null,l.createElement("div",{className:e4.Uj}),l.createElement("div",{className:e4.sH},(0,h.tx)("universal_insert.approved_from_figma_community"),l.createElement(P.K0,{svg:to.A,href:z,onClick:V,target:"_blank","data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),f&&0===B.length?l.createElement("div",{className:e4.zN},a?(0,h.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,h.tx)("universal_insert.organization_has_no_approved_community_plugins")):l.createElement(l.Fragment,null,(d?B.slice(0,5):B).map((e,t)=>l.createElement(eD.ff,{key:e,resourceId:e,type:eD.R7.COMMUNITY,keyboardNavigationPath:[H.B6+1,t]})),d&&B.length>5&&l.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eL.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:a?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}))),W=K.length>0?l.createElement(l.Fragment,null,l.createElement("div",{className:e4.Wz}),l.createElement("div",{className:e4.sH},(0,h.tx)("universal_insert.saved_from_community"),l.createElement(P.K0,{svg:to.A,href:z,onClick:V,target:"_blank","data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),K.map((e,t)=>l.createElement(eD.ff,{key:e,resourceId:e,type:eD.R7.SAVED,keyboardNavigationPath:[H.B6+2,t]}))):l.createElement(l.Fragment,null,l.createElement("div",{className:e4.Wz}),l.createElement("div",{className:e4.sH},(0,h.tx)("universal_insert.saved_from_community"),l.createElement(P.K0,{svg:to.A,href:z,onClick:V,target:"_blank","data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community")})),l.createElement("div",{className:e4.zN},a?(0,h.tx)("universal_insert.no_saved_widgets"):(0,h.tx)("universal_insert.no_saved_plugins")));return l.createElement(v.fu,{name:"Org"},U,W,G)}function td(e){return l.createElement("button",{onClick:e.viewExpandedList,className:e4.nZ},l.createElement("span",null,e.ctaText),l.createElement(j.B,{svg:ti.A}))}var tu=n(635305),tm=n(459401),tp=n(675678),tf=n(776250),tg=n(776621),th=n(428322),t_=n(792199),tE=n(42114),ty=n(357611),tv=n(971120),tb=n(107877);function tw({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:a}=(0,H.IT)(),i=a===eL.s.WIDGET,o=(0,S.ks)(),s=(0,c.md)(E.RB)&&o,[d,u]=l.useState(!1),{allowListIsLoading:m,allowList:p,hasAllowList:f,hasPluginAllowList:g,hasWidgetAllowList:_,publicExtensionsDisallowed:y}=(0,b.jA)(i),w=(0,e2.bT)(Object.values(p)).map(e=>e.plugin_id),[N,x]=l.useState(null),[k,I]=l.useState(null),[T,A]=l.useState(!1),[L,O]=l.useState(!1),D=(0,r.wA)();l.useEffect(()=>{let e=d!==s;if(g||y||!e&&null!==N||T)return;A(!0);let t={sort_by:tb.eg.POPULAR};o?(t.editor_type=ty.k.Editors.DEV_MODE,s&&(t.capability_type=tE.h.CODEGEN)):t.editor_type=ty.k.Editors.FIGMA,(0,t_.nC)().filter(t).browse(tv.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;D(eg.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),x((0,tm.shuffle)(t)),A(!1),u(s)}).catch(e=>{(0,tg.$D)(tp.FigmaTeam.COMMUNITY,e),A(!1),x([]),u(s)})},[D,N,T,o,f,g,y,s,d]),l.useEffect(()=>{_||null!==k||L||(O(!0),(0,t_.nC)().filter({sort_by:tb.eg.POPULAR,editor_type:ty.k.Editors.FIGMA}).browse(tv.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;D(eg.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),I((0,tm.shuffle)(t)),O(!1)}).catch(e=>{(0,tg.$D)(tp.FigmaTeam.COMMUNITY,e),O(!1),I([])}))},[D,k,L,f,_]);let M=i?k:N,R=i?L:T,{href:F,onClick:B}=(0,e_.y)(`/community/${a===eL.s.PLUGIN?"plugins":"widgets"}`);return l.useMemo(()=>{if(f?m:R)return l.createElement(X.kt,{className:e4.S});if(!(null!==M)&&!f)return null;let r=f?w:M.map(e=>e.id);return y||0===r.length?null:l.createElement(v.fu,{name:f?"Approved plugins":"From Community"},l.createElement("div",{className:n?e4.Wz:e4.Uj}),l.createElement("div",{className:e4.sH,"data-onboarding-key":"community_feed_header"},f?(0,h.tx)("universal_insert.approved_from_figma_community"):(0,h.tx)("universal_insert.from_community"),l.createElement(P.Me,{svg:to.A,href:F,onClick:B,target:"_blank","data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("universal_insert.go_to_community"),trackingEventName:"Inserts - Browse More From Community Icon Button"})),r.slice(0,f?5:10).map((e,n)=>l.createElement(eD.ff,{key:e,type:eD.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]})),f&&r.length>5?l.createElement(td,{viewExpandedList:()=>{e(eL.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:i?(0,h.t)("universal_insert.all_approved_widgets"):(0,h.t)("universal_insert.all_approved_plugins")}):l.createElement(l.Fragment,null,l.createElement(e7,null),l.createElement(th.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,tf.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:a})}})))},[f,m,R,M,w,y,F,B,i,e,t,n,a])}var tN=n(886653);function tx(e){let t=(0,b.Be)(),n=t.widgets,a=Object.values(t.plugins).sort(b.YW).filter(e=>"user"===e.installed_by),r=(0,tN.xx)(()=>a),i=(0,e2.Ol)(r()),o=(i=(0,e2.bT)(i)).map(e=>e.plugin_id),s=Object.values(n).sort(b.YW).filter(e=>"user"===e.installed_by),c=(0,tN.xx)(()=>s),d=(0,e2.Ol)(c()).map(e=>e.plugin_id);return l.useMemo(()=>e?d:o,[o,d,e])}function tk(e){let t=tx(e.isWidget),[n,a]=l.useState(!1),r=l.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:l.createElement(v.fu,{name:"saved"},l.createElement("div",{className:e4.VA},(0,h.tx)("universal_insert.saved")),r.map((e,t)=>l.createElement(eD.ff,{key:e,resourceId:e,type:eD.R7.SAVED,keyboardNavigationPath:[H.B6+1,t]})),t.length>40&&!n&&l.createElement("button",{className:e4.AR,onClick:()=>a(!0)},e.isWidget?(0,h.tx)("universal_insert.show_all_saved_widgets"):(0,h.tx)("universal_insert.show_all_saved_plugins")))}function tI(e){let{activeTab:t}=(0,H.IT)(),n=(0,b.op)(),a=(0,b.qr)(),r=(0,b.Be)(),i=t===eL.s.WIDGET,{filterByAllowlist:o,filterByPublicResourcesAllowed:s}=(0,b.jA)(i),c=i?a:n;c=s(c=o(c)),c=(0,e2.bT)(c);let d=l.useMemo(()=>c.length>0?l.createElement(v.fu,{name:"recents"},l.createElement("div",{className:e4.VA,"data-onboarding-key":"recents_plugin_header"},(0,h.tx)("universal_insert.recents")),c.slice(0,H.Zm).map((e,t)=>l.createElement(eD.ff,{key:e.plugin_id,type:eD.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[H.B6,t]}))):l.createElement(l.Fragment,null),[c]),u=tx(i);if(!0===r.loaded&&c.length+u.length===0)return l.createElement(v.fu,{name:"Recents and saved"},l.createElement(tu.H,{isWidget:t===eL.s.WIDGET}),l.createElement(tw,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:H.B6+2}));let m=l.createElement(tk,{isWidget:t===eL.s.WIDGET}),p=c.length>0,f=u.length>0;return l.createElement(v.fu,{name:"Recents and saved"},d,f&&p&&l.createElement("div",{className:e4.Wz}),m,l.createElement(tw,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:H.B6+2}))}var tT=n(44948);function tC(){let e=l.useRef({}),t=l.useCallback((t,n)=>{e.current[t]=n},[]),n=l.useCallback(t=>e.current[t]||[],[]),a=l.useCallback(t=>t in e.current,[]),r=l.useCallback(()=>{e.current={}},[]);return l.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:a,resetCache:r}),[t,n,a,r])}var tS=n(463592);let tA=new tS.Ef([],{...el.Pk,keys:el.Kj}),tP=new tS.Ef([],{...el.Pk,keys:[{name:"name",weight:1}]}),tL=new tS.Ef([],{...el.Pk,keys:el.Kj});function tO(e){let t;let{activeTab:n}=(0,H.IT)(),a=n===eL.s.WIDGET,r=(0,S.ks)(),i=e.query.trim(),{pluginServerSideSearch:o,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,b.I5)(ty.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,b.SG)(ty.k.Editors.FIGMA),{getResultsForQuery:f,setResultsForQuery:g,resetCache:_}=tC(),E=f(i),{getResultsForQuery:y,setResultsForQuery:N,resetCache:x}=tC(),I=y(i),{getResultsForQuery:T,setResultsForQuery:C,hasQueryResultsCached:A,resetCache:P}=tC(),L=tD(T(i),[E]),{getResultsForQuery:O,setResultsForQuery:D,hasQueryResultsCached:M,resetCache:R}=tC(),F=tD(O(i),[E,L]),{getResultsForQuery:B,setResultsForQuery:K,resetCache:U}=tC(),z=tD(B(i),[E,L,F]),{getResultsForQuery:V,setResultsForQuery:G,hasQueryResultsCached:W,resetCache:Y}=tC(),j=tD(V(i),[E,L,F,z]);l.useEffect(()=>{_(),x(),P(),R(),Y(),U()},[a,U,Y,P,x,R,_]);let q=(0,b.Tg)(),Q=(0,b.qr)(),J=(0,b.$1)(),Z=(0,b.yQ)(),$=(0,b.ll)(),ee=(0,b.U6)(),et=(0,b.cW)(),en=(0,b.ZT)(),ea=(0,tT.k9)(()=>Object.keys(a?ee:$).map(e=>(0,ew.uF)((a?en:et)[e])),[$,en,et,ee,a]);l.useEffect(()=>{tA.set(Object.values(a?Q:q))},[q,Q,a]),l.useEffect(()=>{tP.set(Object.values(a?Z:J))},[J,Z,a]),l.useEffect(()=>{tL.set(ea)},[ea]);let el=(0,k.sZ)(),{serverSideSearch:er,isLoading:ei,hasResolved:eo}=n===eL.s.PLUGIN?{serverSideSearch:o,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};l.useEffect(()=>{""!==i&&(W(i)&&M(i)&&A(i)||er(i,e=>G(i,e),e=>D(i,e),e=>C(i,e)),g(i,tA.search(i).map(e=>e.plugin_id)),N(i,tP.search(i).map(e=>e.localFileId.toString())),K(i,tL.search(i).map(e=>e.plugin_id)))},[i,W,A,M,er,K,G,C,N,D,g]);let es=w.z4.getIsExtension()?H.gC+H.Ix:r?H.gC+H.Ix+H.ff+8:H.gC+H.Ix,ec=(0,H.NF)(es),ed=r?e4.mH:e4.PP,eu=r?e4.k8:e4.DN,em=l.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=eu:n.className=ed)},[e.searchContainerRef,eu,ed]);l.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let ep=el&&(a?el.widgets_whitelist_enforced:el.plugins_whitelist_enforced),ef=(!ep||(0,eE.Cs)({org:el,isWidget:a}))&&j&&j.length>0&&eo,eg=ep&&z.length>0,eh=el&&F&&F.length>0&&eo,e_=L.length>0&&eo,ey=E.length>0,ev=I.length>0,eb=eo&&(ef||eh||ey||e_||eg);if(eo&&!(ey||ev||eb))t=l.createElement("div",{className:e4.zN},a?ep?(0,h.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:el.name,query:i}):(0,h.tx)("universal_insert.no_widgets_matching_query",{query:i}):ep?(0,h.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:el.name,query:i}):(0,h.tx)("universal_insert.no_plugins_matching_query",{query:i}));else{t=[];let e=H.B6;ey&&(t.push(l.createElement(tR,{sectionHeader:(0,h.tx)("universal_insert.recents"),ids:E,type:eD.R7.RECENT,sectionIdx:e,key:eD.R7.RECENT})),e+=1),ev&&(t.push(l.createElement(tR,{sectionHeader:(0,h.tx)("universal_insert.development"),ids:I,type:eD.R7.DEVELOPMENT,key:eD.R7.DEVELOPMENT,sectionIdx:e})),e+=1),ei&&!eb?t.push(l.createElement(X.kt,{className:e4.S,key:"Loading spinner"})):(e_&&(t.push(l.createElement(tR,{sectionHeader:(0,h.tx)("universal_insert.saved"),ids:L,type:eD.R7.SAVED,key:eD.R7.SAVED,sectionIdx:e})),e+=1),eh&&(t.push(l.createElement(tR,{sectionHeader:el.name,ids:F,type:eD.R7.ORG_PRIVATE,key:eD.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),eg&&(t.push(l.createElement(tR,{sectionHeader:(0,h.tx)("universal_insert.approved_from_figma_community"),ids:z,type:eD.R7.COMMUNITY,key:`ALLOW_LIST_${eD.R7.COMMUNITY}`,sectionIdx:e})),e+=1),ef&&t.push(l.createElement(tR,{sectionHeader:(0,h.tx)("universal_insert.from_community"),ids:j,type:eD.R7.COMMUNITY,key:eD.R7.COMMUNITY,sectionIdx:e})))}return l.createElement(p.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},l.createElement(v.fu,{name:"search",properties:{searchQuery:i,resourceType:n}},t))}let tD=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function tM(e){return l.createElement("div",{onClick:()=>(0,tf.sx)("search result clicked"),role:"none","data-testid":`browse-resource-tile-${e.resourceId}`},l.createElement(eD.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tR(e){return l.createElement(l.Fragment,null,e.sectionIdx>H.B6&&l.createElement("div",{className:e4.Wz}),l.createElement("div",{className:e4.bV},e.sectionHeader),e.ids.map((t,n)=>l.createElement(tM,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]})))}let tF=()=>({[eL.s.COMPONENT]:{label:(0,h.t)("universal_insert.components"),tab:eL.s.COMPONENT,resourceTypeLabel:(0,h.t)("universal_insert.components_resource_type")},[eL.s.PLUGIN]:{label:(0,h.t)("community.view_bar.plugins"),tab:eL.s.PLUGIN,resourceTypeLabel:(0,h.t)("community.plugins.plugin")},[eL.s.WIDGET]:{label:(0,h.t)("community.view_bar.widgets"),tab:eL.s.WIDGET,resourceTypeLabel:(0,h.t)("community.plugins.widget")}});function tB(e){let t=e4.Mf,n=e4.xR;return l.createElement("div",{className:e4.Ng},l.createElement("div",{className:e4.oB},Object.entries(tF()).map(([a,r])=>l.createElement("div",{className:e4.nN,key:a,role:"tab",onClick:()=>e.onClick(r.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},l.createElement("div",{key:a,"data-label":r.label,className:r.tab===e.selectedTab?n:t},r.label)))),l.createElement(H.Ex,{containerClassName:e4.VN}))}var tK=n(120118),tU=n(115381);let tz="BROWSE_CODEGEN_FILTER_DROPDOWN";function tH(){let e=l.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,r.d4)(e=>e.universalInsertModal),i=t?.id,{activeTab:o,currentView:s,setCurrentViewOrTab:c}=(0,H.IT)(),u=(0,S.ks)(),p=u?e4.Hd:e4.Kl,[f,g]=l.useState(n?"":a||""),[_,E]=l.useState(eL.Y.MAIN),y=l.useCallback(e=>{if(e.keyCode===d.Uz.ENTER){let t=e.target,n=t?.querySelector("button");n?.click()}},[]);l.useEffect(()=>{a=f},[f]);let b=l.useMemo(()=>l.createElement(tB,{onClick:t=>{t!==eL.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:o}),[o,c]),w=l.useMemo(()=>{let t=u?e4.mH:e4.PP;return o===eL.s.COMPONENT?l.createElement(v.fu,{name:o},l.createElement(V,{header:b,query:f,setQuery:g})):l.createElement(v.fu,{name:o},!u&&b,l.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),role:"none"},l.createElement(m.dP,{onKeyDown:y},l.createElement("div",{className:t,ref:e},l.createElement(tV,{searchQuery:f,placeholder:o===eL.s.PLUGIN?(0,h.t)("universal_insert.search_all_plugins"):o===eL.s.WIDGET?(0,h.t)("universal_insert.search_all_widgets"):(0,h.t)("universal_insert.search_all_extensions"),setSearchQuery:g})),0===f.length&&l.createElement(tG,{viewExpandedList:E,currentView:s,setCurrentView:e=>c({newView:e})}),f.length>0&&l.createElement(tO,{query:f,searchContainerRef:e}))))},[o,y,f,u,b,s,c]),N=null;return i?N=l.createElement(eU,{resourceId:i}):(_===eL.Y.ORG_PRIVATE_EXPANDED_LIST||_===eL.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(N=l.createElement(m.dP,{onKeyDown:y},l.createElement(e8,{viewType:_,onBackPress:()=>E(eL.Y.MAIN)}))),l.createElement("div",{className:p},l.createElement("div",{className:N?e4.Ye:e4.dJ},w),N&&l.createElement("div",{className:e4.dJ},N))}function tV({searchQuery:e,setSearchQuery:t,placeholder:n}){let a=(0,r.wA)(),{setKeyboardNavigationElement:i}=(0,m.M3)({id:"search",path:[H.np,0]}),d=(0,x.Um)(),p=d?.type===tz,g=l.useRef(null),[v,b]=(0,c.fp)(E.RB),w=v&&!p,k=(0,N.LR)(),I=l.useCallback(n=>"Escape"===n.key&&(e?t(""):k(),!0),[k,e,t]),T=(0,s.A)(e=>{e.length>0?a(_.Dy({entryPoint:"figma:inserts"})):a(_.ky()),t(e)},300);l.useEffect(()=>()=>{a(_.ky())},[a]);let L=l.useCallback(()=>{p?a(y.oB()):a(y.j7({type:tz}))},[a,p]),O=[];O.push(l.createElement(u.MM,{checked:v,onClick:()=>{b(!v),L()},role:"menuitemcheckbox"},(0,h.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let D=(0,S.ks)(),M=l.createElement(f.IW,{focusOnMount:!0,selectTextOnMount:!D,className:o()(D?e4.FK:e4.ON,{[e4.lX]:""===e}),query:e,placeholder:n,clearSearch:()=>{a(_.ky()),t("")},onChange:T,isKeyDownHandled:I,hideXIcon:!e,ref:e=>i(e?.searchInput??null)});if(!D||e)return M;let R="dev-mode-codegen-filter-menu";return l.createElement("div",{className:e4.Ub},M,l.createElement("div",{className:e4.gP},l.createElement("div",{ref:g},l.createElement(P.YW,{svg:w?tU.A:tK.A,selected:p,selectedClassName:e4.rq,onClick:L,className:o()({[e4.Pt]:w}),onMouseDown:e=>p&&e.stopPropagation(),"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,h.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-expanded":p,"aria-owns":R}))),p&&g.current&&l.createElement(A.Jz,{id:R,showPoint:!0,targetRect:g.current.getBoundingClientRect(),options:O,hideDropdown:L,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function tG(e){let t=l.useRef(null),n=(0,S.ks)(),a=w.z4.getIsExtension()?H.Ix+H.gC+48:n?H.gC+H.Kr+H.Ix+H.ff:H.gC+H.Kr+H.Ix,{activeTab:i,currentView:s}=(0,H.IT)(),c=(0,H.NF)(a),d=l.useRef(null),u=(0,r.wA)(),m=l.useCallback(e=>{t.current&&(e>0?t.current.className=o()(e4.gD,e4.d3):t.current.className=o()(e4.q_,e4.d3),u(y.oB()))},[t,u]);l.useEffect(()=>{d.current?.scrollToTop()},[i,s]);let f=l.createElement(l.Fragment,null,l.createElement(tW,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&l.createElement(tI,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&l.createElement(e1,null),"org"===e.currentView&&l.createElement(ts,{viewExpandedList:e.viewExpandedList}));return l.createElement("div",null,l.createElement("div",{className:o()(e4.q_,e4.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},l.createElement(tY,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&l.createElement("div",{className:e4.x0},l.createElement(O.n,{resourceType:i===eL.s.WIDGET?T.bD.WIDGET:T.bD.PLUGIN}))),l.createElement(p.P,{height:c,onScroll:m,innerClassName:n?g.cx.hFull.$:"",ref:d},f))}function tW({currentView:e}){let{activeTab:t}=(0,H.IT)(),n=k.sZ()?.id,a=(0,b.f6)(),r=(0,b.wW)(),i=t===eL.s.WIDGET?r:a,o="org"===e?i.filter(e=>e.org_id&&e.org_id===n):i;return 0===o.length?null:l.createElement("div",null,o.map((e,t)=>l.createElement(eD.ff,{resourceId:e.id,key:e.id,type:eD.R7.INVITED,keyboardNavigationPath:[H.dQ,t]})),l.createElement("div",{className:e4.Wz}))}function tY(e){let t=(0,r.wA)(),n=(0,x.Um)(),a=(0,k.sZ)(),i=(0,I.M)(),o=l.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,h.t)("universal_insert.recents_and_saved");case"development":return(0,h.t)("universal_insert.development");case"org":return t?.name||(0,h.t)("universal_insert.from_your_org")}})(e,a),[a]),s=["recents_and_saved"];return(i&&s.push("development"),1!==s.length||a)?l.createElement(L.l6,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:o},onChange:e.onChange,dispatch:t,chevronClassName:e4.bq,inputClassName:e4.yl,className:e4.E3,dropdownShown:n,dropdownWidth:173},s.map(e=>l.createElement(L.c$,{value:e,key:e},o(e))),a&&l.createElement(L.sK,null),a&&l.createElement(L.c$,{value:"org"},o("org"))):l.createElement("div",{className:e4.ZE},l.createElement("div",{className:e4.yl},o(s[0])))}},981952:(e,t,n)=>{n.d(t,{P:()=>l,R:()=>r});var a=n(411855);function l(e){(0,a.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function r(e){let[t,n]=(0,a.useState)(window.innerWidth<=e);return l(a=>{a.width<=e&&!t?n(!0):a.width>e&&t&&n(!1)}),t}}}]);

//# debugId=60ab9917-fcb3-50d0-b23a-a96810695a89

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f693ebff41bf3926104688863ce5d3603d748814/fullscreen-999ce63e38635efc.min.js.map